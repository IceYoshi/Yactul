<html>
    <head>
        <title>HTML5 Demo</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <script src="https://code.createjs.com/easeljs-0.8.2.min.js"></script>
        <script src="https://code.createjs.com/tweenjs-0.6.2.min.js"></script>
    </head>
    <body onload="init();">
        <canvas id="demoCanvas" width="500" height="300">HTML5 not supported.</canvas>

        <script>
            function init(){
                var stage = new createjs.Stage("demoCanvas");
                stage.enableMouseOver(20)
                var circle = new createjs.Shape();
                circle.graphics.beginFill("DeepSkyBlue").drawCircle(0,0,200);
                circle.x = 200;
                circle.y = 150;
                stage.addChild(circle);

                var rect = new createjs.Shape();
                rect.graphics.beginFill("#ff0000").drawRect(0,0,100,100);
                rect.x = 100;
                rect.y = 80;
                stage.addChild(rect);

                var rect2 = new createjs.Shape();
                rect2.graphics.beginFill("#ff0000").drawRect(0,0,100,100);
                rect2.x = 250;
                rect2.y = 100;
                stage.addChild(rect2);

                var rect3 = new createjs.Shape();
                rect3.graphics.beginFill("#000000").drawRect(0,0,80,10);
                rect3.x = 110;
                rect3.y = 65;
                stage.addChild(rect3);

                createjs.Tween.get(rect, { loop: true })
                  .to({ y: 120 }, 300, createjs.Ease.getPowInOut(2))
                  .to({ y: 80 }, 300, createjs.Ease.getPowInOut(2));

                createjs.Tween.get(rect3, { loop: true })
                  .to({ rotation: 15 }, 300, createjs.Ease.getPowInOut(2))
                  .to({ rotation: 0 }, 300, createjs.Ease.getPowInOut(2));

                rect.on("click", handleClick)
                rect.on("mouseover", handleMotion);
                rect.on("mouseout", handleMotion);
                function handleMotion(event) {
                    if(event.type == "mouseover") {
                      rect.graphics.beginFill("#ff00A0").drawRect(0,0,100,100);
                    } else {
                      rect.graphics.beginFill("#ff0000").drawRect(0,0,100,100);
                    }
                }

                var clicked = false;
                function handleClick(event) {
                  if(clicked) return;
                  clicked = true;
                  var text = new createjs.Text("Awww, that hurts!", "20px Arial", "#ff7700");
                  text.x = 110;
                  text.y = 250;
                  text.rotation = -15;
                  text.textBaseline = "alphabetic";
                  stage.addChild(text);

                  createjs.Tween.get(text, { loop: false })
                    .to({ x: 115, rotation: 15, color: "#000000" }, 40, createjs.Ease.getPowInOut(1))
                    .to({ x: 120, rotation: -15, color: "#ff0000"  }, 40, createjs.Ease.getPowInOut(1))
                    .to({ x: 125, rotation: 15, color: "#000000"  }, 40, createjs.Ease.getPowInOut(1))
                    .to({ x: 130, rotation: 0, color: "#ff0000"  }, 20, createjs.Ease.getPowInOut(1));

                  createjs.Tween.get(rect2, { loop: false })
                    .to({ rotation: 360 }, 200, createjs.Ease.getPowInOut(1));
                  }

                createjs.Ticker.setFPS(60);
                createjs.Ticker.addEventListener("tick", stage);
            }
        </script>
    </body>
</html>
