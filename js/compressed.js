window.addEventListener("resize",resize,!1);function init(){ServerConnection.init("example.lu/rest/");StageManager.init("canvas");StageManager.idle();resize()}function resize(){StageManager.resize()}function showFPS(){setTimeout(function(){var b=createjs.Ticker.getMeasuredFPS(),b=Math.round(100*b)/100;console.log("FPS: "+b);showFPS()},1E3)}var SimpleQuestion=function(b){this._data=b;this._selected=[null];this._drawable=[];this._submitted=this._initialized=!1};
SimpleQuestion.prototype.init=function(){this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));void 0!=this._data.image&&(this._hasDisplayImage=!0,this._drawable.push(new DisplayImage(this._data.image)));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);
this._drawable.push(new ButtonPanel(this._data.answers,this._hasDisplayImage,this.selected.bind(this),this._data.stats));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._drawable.push(new ButtonPanel(this._data.answers,this._hasDisplayImage,null,this._data.stats))}this._initialized=!0};
SimpleQuestion.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this));null==this._screen&&(this._screen=b)};
SimpleQuestion.prototype.setOrigin=function(b,c){var a=c.width>=c.height;switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "ButtonPanel":b.x=c.width/2;this._hasDisplayImage&&a&&(b.x+=c.width/4);b.y=.67*c.height;this._hasDisplayImage&&!a&&(b.y=.8*c.height);break;case "DisplayImage":a?(b.x=c.width/
4,b.y=.67*c.height):(b.x=c.width/2,b.y=.46*c.height)}};SimpleQuestion.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};SimpleQuestion.prototype.selected=function(b){this._selected=b;this.submit()};
SimpleQuestion.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected[0])+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var Idle=function(b){this._data=b;this._drawable=[];this._initialized=!1};
Idle.prototype.init=function(){this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._initialized=!0};Idle.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this));null==this._screen&&(this._screen=b)};
Idle.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "TitleDisplay":b.x=c.width/2,b.y=c.height/5}};var MultipleChoiceFocus=function(b){this._data=b;this._currentItem=null;this._selected=[];this._drawable=[];this._submitted=this._initialized=!1};
MultipleChoiceFocus.prototype.init=function(){this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);this._labelIterator=new LabelIterator(this._data.answers,this._data.interval,
this.currentItem.bind(this));this._drawable.push(this._labelIterator);this._drawable.push(new RoundButton("Select !",this.select.bind(this)));this._drawable.push(new ValidateButton(this.submit.bind(this)));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._labelIterator=new LabelIterator(this._data.answers,1500,null),this._drawable.push(this._labelIterator),this._drawable.push(new RoundButton("Select !",
null))}this._initialized=!0};MultipleChoiceFocus.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this));null==this._screen&&(this._screen=b)};
MultipleChoiceFocus.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "RoundButton":b.x=c.width/2;b.y=.75*c.height;break;case "LabelIterator":b.x=c.width/2;b.y=.45*c.height;break;case "ValidateButton":b.x=c.width,b.y=c.height}};
MultipleChoiceFocus.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};MultipleChoiceFocus.prototype.currentItem=function(b){this._currentItem=b;return-1<this._selected.indexOf(b)?!0:!1};
MultipleChoiceFocus.prototype.select=function(){var b=this._currentItem,c=this._selected.indexOf(b);-1<c?(this._selected.splice(c,1),this._labelIterator.updateColor(!1)):(this._selected.push(b),this._labelIterator.updateColor(!0))};MultipleChoiceFocus.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};
var HeaderDisplay=function(b){this._value=b};HeaderDisplay.prototype.addTo=function(b){b.name="HeaderDisplay";var c=this.createLabel(b.width,b.height,this._value),a=this.createBackgroundPanel(c.getMeasuredWidth(),c.getMeasuredHeight());b.addChild(a,c)};HeaderDisplay.prototype.createLabel=function(b,c,a){b=Math.floor(Math.max(b/23,c/20));c=new createjs.Text;c.text=a.toString();c.font=b+"px Dimbo";c.color="#f0261b";c.textAlign="left";c.textBaseline="top";return c};
HeaderDisplay.prototype.createBackgroundPanel=function(b,c){var a=new createjs.Shape;a.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,b+c/2,1.5*c,0,0,c,0);return a};var TimeDisplay=function(b,c){this._currentTime=this._totalTime=b;this._tickTime=1E3;this._running=!1;this._submit=c;this._initialized=!1};
TimeDisplay.prototype.addTo=function(b){this._container=b;b.name="TimeDisplay";this._radius=Math.max(b.width/9,b.height/7);this._backgroundCircle=this.createBackgroundCircle();this._timeLabel=this.createTimeLabel(b.width,b.height,this._currentTime);this._progressArc=this.createProgressArc(b.width,b.height);this.updateProgressAnimation();this._running&&this.startProgressAnimation();b.addChild(this._backgroundCircle,this._progressArc,this._timeLabel);this._initialized||(this.startTimer(!0),this._initialized=
!0)};TimeDisplay.prototype.createBackgroundCircle=function(){var b=new createjs.Shape;b.graphics.beginFill("#d3d3d3").drawCircle(0,0,this._radius);b.filters=[new createjs.ColorFilter(1,1,1,1)];return b};TimeDisplay.prototype.createTimeLabel=function(b,c,a){b=Math.floor(Math.max(b/18,c/15));c=new createjs.Text;c.text=a.toString();c.font=b+"px Dimbo";c.color="#F0261B";c.x=.4*-this._radius;c.y=.4*this._radius;c.lineWidth=this._radius;c.textAlign="center";c.textBaseline="middle";return c};
TimeDisplay.prototype.createProgressArc=function(b,c){var a=Math.max(b/80,c/60),g=new createjs.Shape;g.graphics.setStrokeStyle(a).beginStroke("#F0261B").arc(0,0,this._radius,Math.PI/2,Math.PI);g.x=g.regX=0;g.y=g.regY=0;return g};TimeDisplay.prototype.startTimer=function(b){this._running||(this._running=!0,this.startProgressAnimation(),this.tick(new Date((new Date).getTime()-this._tickTime)),b||this.statusAnimation("resumed"))};
TimeDisplay.prototype.stopTimer=function(){this._running&&(this._running=!1,this.stopProgressAnimation(),this.updateProgressAnimation(),this.statusAnimation("paused"))};
TimeDisplay.prototype.tick=function(b){if(0<this._currentTime){var c=this._tickTime-((new Date).getTime()-b.getTime()-this._tickTime);b=new Date;createjs.Tween.get(this._timeLabel,{loop:!1}).wait(c).call(function(){this._running&&(0<this._currentTime&&(this._currentTime--,this.updateTimeLabel()),6>this._currentTime&&this.lowTimeAnimation(),this.tick(b))}.bind(this))}else this._running=!1,null!=this._submit&&this._submit()};TimeDisplay.prototype.updateTimeLabel=function(){this._timeLabel.text=this._currentTime.toString()};
TimeDisplay.prototype.changeTime=function(b){this.updateTime(this._currentTime+b)};TimeDisplay.prototype.updateTime=function(b){var c=this._currentTime;this._currentTime=Math.max(Math.floor(b),0);this._currentTime>this._totalTime&&(this._totalTime=this._currentTime);this.updateTimeLabel();this.updateProgressAnimation();this._running&&this.startProgressAnimation();b=this._currentTime-c;this.statusAnimation(0<=b?"+"+b.toString():b.toString())};
TimeDisplay.prototype.startProgressAnimation=function(){createjs.Tween.get(this._progressArc,{loop:!1,override:!0}).to({rotation:-90},1E3*this._currentTime,createjs.Ease.getPowInOut(1))};TimeDisplay.prototype.stopProgressAnimation=function(){createjs.Tween.removeTweens(this._progressArc)};TimeDisplay.prototype.updateProgressAnimation=function(){this._progressArc.rotation=-90*(1+-this._currentTime/this._totalTime)};
TimeDisplay.prototype.lowTimeAnimation=function(){this._backgroundCircle.cache(-this._radius,0,this._radius,this._radius,2);this._backgroundCircle.handleEvent=function(){this.updateCache()};createjs.Tween.get(this._backgroundCircle.filters[0],{loop:!1}).call(function(b){createjs.Ticker.addEventListener("tick",b)},[this._backgroundCircle]).to({redMultiplier:1.5,greenMultiplier:.3,blueMultiplier:.3},250).to({redMultiplier:1,greenMultiplier:1,blueMultiplier:1},250).call(function(b){createjs.Ticker.removeEventListener("tick",
b)},[this._backgroundCircle])};
TimeDisplay.prototype.statusAnimation=function(b){var c=Math.floor(Math.max(this._container.width/25,this._container.height/25)),a=new createjs.Text;a.text=b.toString();a.font=c+"px Dimbo";a.color="#F0261B";a.x=-this._radius/2;a.y=this._radius;a.alpha=0;a.lineWidth=this._radius;a.textAlign="center";a.textBaseline="bottom";createjs.Tween.get(a,{loop:!1}).to({alpha:1},1E3,createjs.Ease.getPowInOut(1)).to({alpha:0},1E3,createjs.Ease.getPowInOut(1));createjs.Tween.get(a,{loop:!1}).to({y:0},2200,createjs.Ease.getPowInOut(2)).call(function(a,
b){a.removeChild(b)},[this._container,a]);this._container.addChild(a)};var FooterTextDisplay=function(b){this._value=b};FooterTextDisplay.prototype.addTo=function(b){b.name="FooterTextDisplay";var c=this.createLabel(b.width,b.height);b.addChild(c)};FooterTextDisplay.prototype.createLabel=function(b,c){var a=Math.floor(Math.max(b/40,c/30)),g=new createjs.Text;g.text=this._value.toString();g.font=a+"px Dimbo";g.color="#f0261b";g.textAlign="center";g.textBaseline="bottom";return g};
var BackgroundImage=function(b){this._imagePath=b};BackgroundImage.prototype.addTo=function(b){b.name="BackgroundImage";var c=this.createBackgroundImage(b.width,b.height,this._imagePath);b.addChild(c)};BackgroundImage.prototype.createBackgroundImage=function(b,c,a){var g=new createjs.Bitmap(a);g.image.onload=function(){g.scaleX=b/g.image.width;g.scaleY=c/g.image.height};return g};var RoundButton=function(b,c){this._value=b;this._action=c};
RoundButton.prototype.addTo=function(b){b.name="RoundButton";var c=Math.min(b.width/4,b.height/5),a=this.createLabel(b.width,b.height,this._value),c=this.createBackgroundCircle(c);b.addChild(c,a)};RoundButton.prototype.createLabel=function(b,c,a){b=Math.floor(Math.min(b/10,c/10));c=new createjs.Text;c.text=a.toString();c.font="bold "+b+"px Dimbo";c.color="#d3d3d3";c.textBaseline="middle";c.textAlign="center";return c};
RoundButton.prototype.createBackgroundCircle=function(b){function c(a){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(-b,-b,2*b,2*b)}var a=new createjs.Shape;a.graphics.beginRadialGradientFill(["#F0261B","#C01E15"],[0,1],0,0,0,0,0,b).drawCircle(0,0,b);a.shadow=new createjs.Shadow("#000000",5,5,10);a.on("click",function(a){null!=this._action&&(a.target.filters=
[new createjs.ColorFilter(0,0,0,1,144,22,16,0)],a.target.cache(-b,-b,2*b,2*b),setTimeout(function(){a.target.filters=void 0;a.target.uncache()},150),this._action())}.bind(this));a.on("mouseover",c.bind(this));a.on("mouseout",c.bind(this));return a};var DisplayImage=function(b){this._imagePath=b};DisplayImage.prototype.addTo=function(b){b.name="DisplayImage";var c=this.createImageObject(b.width,b.height,this._imagePath);b.addChild(c)};
DisplayImage.prototype.createImageObject=function(b,c,a){var g=new createjs.Bitmap(a),k=b>=c;g.image.onload=function(){var a=Math.min(.4*b/g.image.width,.5*c/g.image.height);k||(a*=.9);g.scaleX=g.scaleY=a;g.x=-(g.image.width*g.scaleX)/2;g.y=-(g.image.height*g.scaleY)/2};g.shadow=new createjs.Shadow("#333333",5,5,10);return g};var LabelIterator=function(b,c,a){this._values=b;this._interval=Math.max(c,0);this.onChange=a;this._currentIndex=0;this._running=!1};
LabelIterator.prototype.addTo=function(b){b.name="LabelIterator";this._label=this.createLabel(b.width,b.height);this._running?(this.updateLabel(),this.updateColor()):(this._running=!0,this.tick());b.addChild(this._label)};LabelIterator.prototype.createLabel=function(b,c){var a=Math.floor(Math.max(b/20,c/20)),g=new createjs.Text;g.font=a+"px Dimbo";g.color="#000";g.textAlign="center";g.textBaseline="middle";return g};LabelIterator.prototype.updateLabel=function(){this._label.text=this._values[this._currentIndex]};
LabelIterator.prototype.tick=function(){this.updateLabel();this.updateColor();createjs.Tween.get(this._label,{loop:!1}).wait(this._interval).call(function(){this._currentIndex=(this._currentIndex+1)%this._values.length;this.tick()}.bind(this))};LabelIterator.prototype.updateColor=function(){null!=this.onChange&&(this.onChange(this._values[this._currentIndex])?this._label.color="#f0261b":this._label.color="#000")};var ValidateButton=function(b){this._submit=b};
ValidateButton.prototype.addTo=function(b){b.name="ValidateButton";var c=this.createLabel(b.width,b.height),a=this.createBackgroundPanel(c.getMeasuredWidth(),c.getMeasuredHeight());b.addChild(a,c)};ValidateButton.prototype.createLabel=function(b,c){var a=Math.floor(Math.max(b/23,c/20)),g=new createjs.Text;g.text="Validate";g.font=a+"px Dimbo";g.color="#f0261b";g.textAlign="right";g.textBaseline="bottom";return g};
ValidateButton.prototype.createBackgroundPanel=function(b,c){function a(a){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h)}var g=b+c/2,k=1.5*c,e=new createjs.Shape;e.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,g,k,c,0,0,0);e.x=-g;e.y=-k;e.on("click",function(a){null!=this._submit&&
(a.target.filters=[new createjs.ColorFilter(0,0,0,1,255,203,151,0)],a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h),this._submit())}.bind(this));e.on("mouseover",a.bind(this));e.on("mouseout",a.bind(this));return e};var TitleDisplay=function(b){this._value=b};TitleDisplay.prototype.addTo=function(b){b.name="TitleDisplay";var c=.75*b.width,a=b.height/13,g=this.createLabel(c,a),c=this.createBackgroundPanel(c,a,g.getMeasuredHeight());b.addChild(c,g)};
TitleDisplay.prototype.createLabel=function(b,c){var a=Math.floor(Math.max(b/22+5,c/4+30)),g=new createjs.Text;g.text=this._value.toString();g.font=a+"px Dimbo";g.color="#f0261b";g.lineWidth=b-b/15;g.lineHeight=c;g.textAlign="center";for(g.textBaseline="middle";g.getMeasuredHeight()>2*c;)a-=2,g.font=a+"px Dimbo";return g};TitleDisplay.prototype.createBackgroundPanel=function(b,c,a){a=a/c*c+c/2;var g=new createjs.Shape;g.graphics.beginFill("#d3d3d3").drawRoundRect(0,0,b,a,c/2);g.x=-b/2;g.y=c/4-c;return g};
var InteractiveImage=function(b,c){this._imagePath=b;this._submit=c};InteractiveImage.prototype.addTo=function(b){b.name="InteractiveImage";var c=this.createInteractiveImage(b);b.addChild(c)};
InteractiveImage.prototype.createInteractiveImage=function(b){var c=new createjs.Bitmap(this._imagePath),a=b.width/20;c.image.onload=function(){c.scaleX=c.scaleY=Math.min(.9*b.width/c.image.width,(b.height/2+a)/c.image.height);c.x=-(c.image.width*c.scaleX)/2;c.y=-(c.image.height*c.scaleY)/2};c.shadow=new createjs.Shadow("#333333",5,5,10);c.on("click",function(a){if(null!=this._submit){var k=this.createPin(b.width,b.height);k.x=a.localX*c.scaleX+c.x;k.y=a.localY*c.scaleY+c.y;b.addChild(k);this._submit([Math.round(a.localX),
Math.round(a.localY)])}}.bind(this));return c};InteractiveImage.prototype.createPin=function(b,c){var a=new createjs.Bitmap("img/pin.png");a.image.onload=function(){var g=Math.min(.05*b/a.image.width,.05*c/a.image.height);a.scaleX=a.scaleY=g;a.y-=a.image.height*g};return a};var HighscoreList=function(b){this._ranklist=b};
HighscoreList.prototype.addTo=function(b){b.name="HighscoreList";for(var c=.9*b.width,a=b.height/9,g=0;g<this._ranklist.length;g++){var k=-c/2,e=a*g,d=this._ranklist[g],f=Math.min(.8*b.width,.6*b.height)/9,h=f-f/5*Math.min(g,2.5),f=h/100*a,l=this.createBackgroundPanel(c,a,g);l.x=k;l.y=e;var m=this.createRankLabel(h,g);m.x=k+.15*c;m.y=e+a/2;var n=this.createNameLabel(h,d.name);n.x=k+.2*c;n.y=e+a/2;var p=this.createScoreLabel(h,d.score);p.x=k+.7*c;p.y=e+a/2;var r=this.createChangeIcon(f,d.change);r.x=
k+.85*c;r.y=e+a/2;d=this.createChangeLabel(h,d.change);d.x=k+.93*c;d.y=e+a/2;b.addChild(l,m,n,p,r,d);0==g&&(d=this.createCrownIcon(f),d.x+=k+.05*c,d.y+=e+a/2,b.addChild(d))}};
HighscoreList.prototype.createBackgroundPanel=function(b,c,a){var g=new createjs.Shape;g.graphics.beginFill("#d3d3d3").drawRect(0,0,b,c);g.shadow=new createjs.Shadow("#333333",5,5,10);switch(a){case 0:g.filters=[new createjs.ColorFilter(1,1,1,1,75,75,10,0)];break;case 1:g.filters=[new createjs.ColorFilter(1,1,1,1,30,30,10,0)];break;case 2:g.filters=[new createjs.ColorFilter(1,1,1,1,15,15,10,0)]}g.cache(0,0,b,c);return g};
HighscoreList.prototype.createCrownIcon=function(b){var c=new createjs.Bitmap("img/crown.jpg");c.image.onload=function(){var a=b/c.image.height;c.scaleX=c.scaleY=a;c.x-=c.image.width*a/2;c.y-=c.image.height*a/2};return c};HighscoreList.prototype.createRankLabel=function(b,c){var a=new createjs.Text;a.text=c+1+" .";a.font=b+"px Dimbo";a.color="#f0261b";a.textAlign="center";a.textBaseline="middle";return a};
HighscoreList.prototype.createNameLabel=function(b,c){var a=new createjs.Text;a.text=c.toString();a.font=b+"px Dimbo";a.color="#f0261b";a.textAlign="left";a.textBaseline="middle";return a};HighscoreList.prototype.createScoreLabel=function(b,c){var a=new createjs.Text;a.text=c.toString();a.font=b+"px Dimbo";a.color="#f0261b";a.textAlign="center";a.textBaseline="middle";return a};
HighscoreList.prototype.createChangeIcon=function(b,c){var a;a=0<c?new createjs.Bitmap("img/rankUp.png"):0>c?new createjs.Bitmap("img/rankDown.png"):new createjs.Bitmap("img/rankSame.png");a.image.onload=function(){var g=b/a.image.height;a.scaleX=a.scaleY=g;a.x-=a.image.width*g/2;a.y-=a.image.height*g/2};return a};
HighscoreList.prototype.createChangeLabel=function(b,c){var a=new createjs.Text;0<c&&(c="+"+c.toString());0==c&&(c="-");a.text=c;a.font=b+"px Dimbo";a.color=0<c?"#3bb742":0>c?"#f0261b":"#496da3";a.textAlign="center";a.textBaseline="middle";return a};var ButtonPanel=function(b,c,a,g){this._values=b;this._minified=c;this._setSelected=a;this._stats=g;this._buttons=[];this._initialized=!1};
ButtonPanel.prototype.addTo=function(b){b.name="ButtonPanel";var c=b.width>=b.height,a=b.width;this._minified&&c&&(a/=2);var g=b.height/2;this._minified&&!c&&(g*=.7);var k=b.width/60,e=b.height/50,d=this._values.length,c=this._minified||!c?1:2,f=Math.ceil(d/c),h=(a-k*(c+3))/c,f=(g-e*(f+3))/f,a=this.createMasterPanel(a-2*k,g-2*e);b.addChild(a);if(0<this._buttons.length){for(var l=[],g=0;g<this._buttons.length;g++)l.push(null!=this._buttons[g].clicked);this._buttons=[]}for(g=0;g<d;g++){var m=this._values[g],
n=g%c,p=Math.floor(g/c),r=void 0==l?!1:l[g],q=this.createButtonPanel(h,f,r,void 0!=this._stats&&this._stats[g].correct);q.x=k+n*(k+h)+a.x;q.y=e+p*(e+f)+a.y;q.label=m.toString();this._buttons.push(q);r&&q.dispatchEvent("click");m=this.createButtonLabel(h-k,f,m);m.x=q.x+h/2;n=m.getMeasuredHeight()/m.lineHeight;m.y=q.y+f/2-(n-1)*m.lineHeight/2;b.addChild(q,m);void 0!=this._stats&&this.createStats(b,q,this._stats[g].amount)}this._initialized=!0};
ButtonPanel.prototype.createMasterPanel=function(b,c){var a=new createjs.Shape;a.graphics.beginFill("#d3d3d3").drawRect(0,0,b,c);a.x=-b/2;a.y=-c/2;a.alpha=.4;return a};
ButtonPanel.prototype.createButtonPanel=function(b,c,a,g){function k(a){if(null==a.target.clicked){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h)}}a=new createjs.Shape;g?a.graphics.beginFill("#5cb85c"):a.graphics.beginFill("#d3d3d3");a.graphics.drawRect(0,0,b,c);a.width=b;a.height=c;a.shadow=
new createjs.Shadow("#333333",5,5,10);a.on("click",function(a){if(null!=this._setSelected){null==a.target.clicked?(a.target.filters=[new createjs.ColorFilter(0,0,0,1,255,203,151,0)],a.target.clicked=1):(a.target.filters=a.isTouch?[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]:[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)],a.target.clicked=null);a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h);a=[];for(var g=0;g<this._buttons.length;g++)null!=this._buttons[g].clicked&&a.push(this._buttons[g].label);
this._setSelected(a)}}.bind(this));a.on("mouseover",k.bind(this));a.on("mouseout",k.bind(this));return a};ButtonPanel.prototype.createButtonLabel=function(b,c,a){var g=40,k=new createjs.Text;k.text=a.toString();k.font=g+"px Dimbo";k.lineWidth=b;k.lineHeight=1.5*g;k.color="#F0261B";k.textAlign="center";for(k.textBaseline="middle";k.getMeasuredHeight()>c;)g-=2,k.lineHeight=1.5*g,k.font=g+"px Dimbo";return k};
ButtonPanel.prototype.createStats=function(b,c,a){for(var g=0,k=0;k<this._stats.length;k++)g+=this._stats[k].amount;k=this.createStatBar(c.height);k.x=c.x;k.y=c.y;this.animateStatBar(k,c.width,a,g,this._initialized);var e=this.createStatLabel(b.width,b.height,a);e.x=c.x+c.width*a/g;e.y=c.y;this.animateStatLabel(e,this._initialized);b.addChild(k,e)};ButtonPanel.prototype.createStatBar=function(b){var c=new createjs.Shape;c.graphics.beginFill("#000").drawRect(0,0,0,b);c.alpha=.5;return c};
ButtonPanel.prototype.animateStatBar=function(b,c,a,g,k){createjs.Tween.get(b.graphics.command,{loop:!1}).wait(k?0:1E3).to({w:c*a/g},k?0:2E3,createjs.Ease.getPowInOut(2))};ButtonPanel.prototype.createStatLabel=function(b,c,a){b=Math.floor(Math.max(b/40,c/30));a=new createjs.Text(a.toString());a.font=b+"px Dimbo";a.color="#000";a.textAlign="left";a.textBaseline="top";a.alpha=0;return a};
ButtonPanel.prototype.animateStatLabel=function(b,c){createjs.Tween.get(b,{loop:!1}).wait(c?0:2700).to({alpha:.8},c?0:1E3,createjs.Ease.getPowInOut(2))};var DifficultyMeter=function(b){this._numStars=5;this._value=Math.min(b,this._numStars)};DifficultyMeter.prototype.addTo=function(b){b.name="DifficultyMeter";for(var c=0;c<this._numStars;c++){var a=this.createStar(b.width,b.height,c);b.addChild(a)}};
DifficultyMeter.prototype.createStar=function(b,c,a){var g=Math.max(b/80,c/60);b=Math.max(b/30,c/25);c=new createjs.Shape;a<this._value?c.graphics.beginFill("#F0261B"):c.graphics.beginFill("#333333");c.graphics.drawPolyStar(0,0,g,5,.6,-90);c.x=-((this._numStars/2-a)*b)+b/2;c.y=0;return c};var QuestionSolution=function(b){this._data=b;this._drawable=[];this._initialized=!1};
QuestionSolution.prototype.init=function(){this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));void 0!=this._data.image&&(this._hasDisplayImage=!0,this._drawable.push(new DisplayImage(this._data.image)));this._drawable.push(new ButtonPanel(this._data.answers,this._hasDisplayImage,null,this._data.stats));this._initialized=!0};
QuestionSolution.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this));null==this._screen&&(this._screen=b)};
QuestionSolution.prototype.setOrigin=function(b,c){var a=c.width>=c.height;switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "ButtonPanel":b.x=c.width/2;this._hasDisplayImage&&a&&(b.x+=c.width/4);b.y=.67*c.height;this._hasDisplayImage&&!a&&(b.y=.8*c.height);break;case "DisplayImage":a?(b.x=c.width/4,b.y=.67*c.height):(b.x=c.width/2,b.y=.46*c.height)}};
var MultipleChoiceQuestion=function(b){this._data=b;this._selected=[];this._drawable=[];this._submitted=this._initialized=!1};
MultipleChoiceQuestion.prototype.init=function(){this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));void 0!=this._data.image&&(this._hasDisplayImage=!0,this._drawable.push(new DisplayImage(this._data.image)));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));
this._drawable.push(this._timer);this._drawable.push(new ButtonPanel(this._data.answers,this._hasDisplayImage,this.selected.bind(this),this._data.stats));this._drawable.push(new ValidateButton(this.submit.bind(this)));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._drawable.push(new ButtonPanel(this._data.answers,this._hasDisplayImage,null,this._data.stats))}this._initialized=
!0};MultipleChoiceQuestion.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this));null==this._screen&&(this._screen=b)};
MultipleChoiceQuestion.prototype.setOrigin=function(b,c){var a=c.width>=c.height;switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "ButtonPanel":b.x=c.width/2;this._hasDisplayImage&&a&&(b.x+=c.width/4);b.y=.65*c.height;this._hasDisplayImage&&!a&&(b.y=.75*c.height);break;case "DisplayImage":a?(b.x=
c.width/4,b.y=.65*c.height):(b.x=c.width/2,b.y=.45*c.height);break;case "ValidateButton":b.x=c.width,b.y=c.height}};MultipleChoiceQuestion.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};MultipleChoiceQuestion.prototype.selected=function(b){this._selected=b};
MultipleChoiceQuestion.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var Highscore=function(b){this._data=b;this._drawable=[];this._initialized=!1};
Highscore.prototype.init=function(){this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay("Highscore"));this._drawable.push(new HighscoreList(this._data.ranklist));void 0!=this._data.best&&this._drawable.push(new FooterTextDisplay("Best score in last round: "+this._data.best.name+" (+"+this._data.best.difference+")"));this._initialized=!0};
Highscore.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this));null==this._screen&&(this._screen=b)};
Highscore.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "HighscoreList":b.x=c.width/2;b.y=c.height/3;break;case "FooterTextDisplay":b.x=c.width/2,b.y=c.height}};var PointAndClick=function(b){this._data=b;this._selected=[];this._drawable=[];this._submitted=this._initialized=!1};
PointAndClick.prototype.init=function(){this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);this._drawable.push(new InteractiveImage(this._data.image,this.selected.bind(this)));
break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._drawable.push(new InteractiveImage(this._data.image,null))}this._initialized=!0};
PointAndClick.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this));null==this._screen&&(this._screen=b)};
PointAndClick.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "InteractiveImage":b.x=c.width/2,b.y=.65*c.height}};
PointAndClick.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};PointAndClick.prototype.selected=function(b){this._selected=b;this.submit()};
PointAndClick.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var SimpleFocus=function(b){this._data=b;this._selected=null;this._drawable=[];this._submitted=this._initialized=!1};
SimpleFocus.prototype.init=function(){this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);this._drawable.push(new LabelIterator(this._data.answers,this._data.interval,this.selected.bind(this)));
this._drawable.push(new RoundButton("Stop !",this.submit.bind(this)));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._drawable.push(new LabelIterator(this._data.answers,1500,null)),this._drawable.push(new RoundButton("Stop !",null))}this._initialized=!0};
SimpleFocus.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this));null==this._screen&&(this._screen=b)};
SimpleFocus.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "RoundButton":b.x=c.width/2;b.y=.75*c.height;break;case "LabelIterator":b.x=c.width/2,b.y=.45*c.height}};
SimpleFocus.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};SimpleFocus.prototype.selected=function(b){this._selected=b};
SimpleFocus.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var StageManager=function(){};StageManager.init=function(b){this._canvas=b;this._stage=null;this._height=this._width=0;this.updateSize();this._isInitialized=!0};StageManager.idle=function(){return this.draw(new Idle(JSON.parse('{ "cmd":"show", "screen": "Idle", "text":"Waiting for an activity...", "bg":"img/idle.jpg" }')))};
StageManager.draw=function(b){if(!this._isInitialized||null==b)return!1;this._currentScreen=b;var c=this.createScreenContainer();b.draw(c);b.container=c;this.transition(c);return!0};StageManager.update=function(b){try{this._currentScreen.update(b)}catch(c){console.log("Update cannot be applied to the current screen: "+JSON.stringify(b))}};
StageManager.createStage=function(){var b=new createjs.Stage(this._canvas);b.canvas.width=this._width;b.canvas.height=this._height;b.enableMouseOver(20);createjs.Touch.enable(b);createjs.Ticker.setFPS(60);createjs.Ticker.addEventListener("tick",b);return b};StageManager.createScreenContainer=function(){var b=new createjs.Container;b.width=this._width;b.height=this._height;return b};
StageManager.updateSize=function(){var b=document.getElementById("header").offsetHeight,c=document.getElementById("footer").offsetHeight;this._width=window.innerWidth;this._height=window.innerHeight-(b+c);this._width*=window.devicePixelRatio;this._height*=window.devicePixelRatio};
StageManager.resize=function(){if(null==this._stage)return!1;this.updateSize();var b=this._width,c=this._height;this._stage.canvas.width=b;this._stage.canvas.height=c;var a=this._currentScreen.container;a.width=b;a.height=c;for(b=0;b<a.numChildren;b++)createjs.Tween.removeTweens(a.getChildAt(b)),a.getChildAt(b).removeAllEventListeners();a.removeAllChildren();a.removeAllEventListeners();this._currentScreen.draw(a);return!0};
StageManager.transition=function(b){null==this._stage?(this._stage=this.createStage(),this._stage.addChild(b)):(b.x-=b.width,this._stage.addChildAt(b,0),createjs.Tween.get(this._stage,{loop:!1}).call(function(b){b=b.getChildAt(b.numChildren-1);for(var a=0;a<b.numChildren;a++){for(var g=b.getChildAt(a),k=0;k<g.numChildren;k++)createjs.Tween.removeTweens(g.getChildAt(k)),g.getChildAt(k).removeAllEventListeners();createjs.Tween.removeTweens(b.getChildAt(a));b.getChildAt(a).removeAllEventListeners()}},
[this._stage]).to({x:this._stage.canvas.width},1E3,createjs.Ease.getPowInOut(2)).call(function(b){var a=b.getChildAt(b.numChildren-1);a.removeAllChildren();b.removeChild(a);b.x=b.getChildAt(0).x=0},[this._stage]))};var MessageInterpreter=function(){};MessageInterpreter.interpret=function(b){switch(b.cmd){case "show":StageManager.draw(this.getScreen(b));break;case "update":StageManager.update(b);break;default:console.log("Error: Unknown command "+b.cmd)}};
MessageInterpreter.getScreen=function(b){try{return eval("(new "+b.screen+"(data))")}catch(c){try{return new window[b.screen](b)}catch(a){return console.log("ReferenceError: Screen "+b.screen+" is not defined."),null}}};this.createjs=this.createjs||{};createjs.extend=function(b,c){function a(){this.constructor=b}return a.prototype=c.prototype,b.prototype=new a};this.createjs=this.createjs||{};
createjs.promote=function(b,c){var a=b.prototype,g=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(g){a[(c+="_")+"constructor"]=g.constructor;for(var k in g)a.hasOwnProperty(k)&&"function"==typeof g[k]&&(a[c+k]=g[k])}return b};this.createjs=this.createjs||{};createjs.indexOf=function(b,c){for(var a=0,g=b.length;g>a;a++)if(c===b[a])return a;return-1};this.createjs=this.createjs||{};
(function(){function b(a,g,b){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!g;this.cancelable=!!b;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};c.stopPropagation=function(){this.propagationStopped=!0};c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};c.remove=function(){this.removed=!0};c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)};c.set=function(a){for(var g in a)this[g]=a[g];return this};c.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=b})();this.createjs=this.createjs||{};
(function(){function b(){this._captureListeners=this._listeners=null}var c=b.prototype;b.initialize=function(a){a.addEventListener=c.addEventListener;a.on=c.on;a.removeEventListener=a.off=c.removeEventListener;a.removeAllEventListeners=c.removeAllEventListeners;a.hasEventListener=c.hasEventListener;a.dispatchEvent=c.dispatchEvent;a._dispatchEvent=c._dispatchEvent;a.willTrigger=c.willTrigger};c.addEventListener=function(a,g,b){var c;c=b?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var d=c[a];return d&&this.removeEventListener(a,g,b),d=c[a],d?d.push(g):c[a]=[g],g};c.on=function(a,g,b,c,d,f){return g.handleEvent&&(b=b||g,g=g.handleEvent),b=b||this,this.addEventListener(a,function(a){g.call(b,a,d);c&&a.remove()},f)};c.removeEventListener=function(a,g,b){if(b=b?this._captureListeners:this._listeners){var c=b[a];if(c)for(var d=0,f=c.length;f>d;d++)if(c[d]==g){1==f?delete b[a]:c.splice(d,1);break}}};c.off=c.removeEventListener;c.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};c.dispatchEvent=function(a,g,b){if("string"==typeof a){var c=this._listeners;if(!(g||c&&c[a]))return!0;a=new createjs.Event(a,g,b)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(d){}if(a.bubbles&&this.parent){b=this;for(g=[b];b.parent;)g.push(b=b.parent);c=g.length;for(b=c-1;0<=b&&!a.propagationStopped;b--)g[b]._dispatchEvent(a,1+(0==b));
for(b=1;c>b&&!a.propagationStopped;b++)g[b]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};c.hasEventListener=function(a){var g=this._listeners,b=this._captureListeners;return!!(g&&g[a]||b&&b[a])};c.willTrigger=function(a){for(var g=this;g;){if(g.hasEventListener(a))return!0;g=g.parent}return!1};c.toString=function(){return"[EventDispatcher]"};c._dispatchEvent=function(a,g){var b,c=1==g?this._captureListeners:this._listeners;if(a&&c&&(c=c[a.type])&&(b=c.length)){try{a.currentTarget=
this}catch(h){}try{a.eventPhase=g}catch(h){}a.removed=!1;for(var c=c.slice(),d=0;b>d&&!a.immediatePropagationStopped;d++){var f=c[d];f.handleEvent?f.handleEvent(a):f(a);a.removed&&(this.off(a.type,f,1==g),a.removed=!1)}}};createjs.EventDispatcher=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"Ticker cannot be instantiated.";}b.RAF_SYNCHED="synched";b.RAF="raf";b.TIMEOUT="timeout";b.useRAF=!1;b.timingMode=null;b.maxDelta=0;b.paused=!1;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;createjs.EventDispatcher.initialize(b);b._addEventListener=b.addEventListener;b.addEventListener=function(){return!b._inited&&b.init(),b._addEventListener.apply(b,arguments)};b._inited=!1;b._startTime=0;b._pausedTime=
0;b._ticks=0;b._pausedTicks=0;b._interval=50;b._lastTime=0;b._times=null;b._tickTimes=null;b._timerId=null;b._raf=!0;b.setInterval=function(a){b._interval=a;b._inited&&b._setupTick()};b.getInterval=function(){return b._interval};b.setFPS=function(a){b.setInterval(1E3/a)};b.getFPS=function(){return 1E3/b._interval};try{Object.defineProperties(b,{interval:{get:b.getInterval,set:b.setInterval},framerate:{get:b.getFPS,set:b.setFPS}})}catch(a){console.log(a)}b.init=function(){b._inited||(b._inited=!0,
b._times=[],b._tickTimes=[],b._startTime=b._getTime(),b._times.push(b._lastTime=0),b.interval=b._interval)};b.reset=function(){if(b._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(b._timerId)}else clearTimeout(b._timerId);b.removeAllEventListeners("tick");b._timerId=b._times=b._tickTimes=null;b._startTime=b._lastTime=b._ticks=0;b._inited=!1};b.getMeasuredTickTime=function(a){var g=
0,c=b._tickTimes;if(!c||1>c.length)return-1;a=Math.min(c.length,a||0|b.getFPS());for(var e=0;a>e;e++)g+=c[e];return g/a};b.getMeasuredFPS=function(a){var g=b._times;return!g||2>g.length?-1:(a=Math.min(g.length-1,a||0|b.getFPS()),1E3/((g[0]-g[a])/a))};b.setPaused=function(a){b.paused=a};b.getPaused=function(){return b.paused};b.getTime=function(a){return b._startTime?b._getTime()-(a?b._pausedTime:0):-1};b.getEventTime=function(a){return b._startTime?(b._lastTime||b._startTime)-(a?b._pausedTime:0):
-1};b.getTicks=function(a){return b._ticks-(a?b._pausedTicks:0)};b._handleSynch=function(){b._timerId=null;b._setupTick();b._getTime()-b._lastTime>=.97*(b._interval-1)&&b._tick()};b._handleRAF=function(){b._timerId=null;b._setupTick();b._tick()};b._handleTimeout=function(){b._timerId=null;b._setupTick();b._tick()};b._setupTick=function(){if(null==b._timerId){var a=b.timingMode||b.useRAF&&b.RAF_SYNCHED;if(a==b.RAF_SYNCHED||a==b.RAF){var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(g)return b._timerId=g(a==b.RAF?b._handleRAF:b._handleSynch),void(b._raf=!0)}b._raf=!1;b._timerId=setTimeout(b._handleTimeout,b._interval)}};b._tick=function(){var a=b.paused,g=b._getTime(),c=g-b._lastTime;if(b._lastTime=g,b._ticks++,a&&(b._pausedTicks++,b._pausedTime+=c),b.hasEventListener("tick")){var e=new createjs.Event("tick"),d=b.maxDelta;e.delta=d&&c>d?d:c;e.paused=a;e.time=g;e.runTime=g-b._pausedTime;
b.dispatchEvent(e)}for(b._tickTimes.unshift(b._getTime()-g);100<b._tickTimes.length;)b._tickTimes.pop();for(b._times.unshift(g);100<b._times.length;)b._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-b._startTime};createjs.Ticker=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"UID cannot be instantiated";}b._nextID=0;b.get=function(){return b._nextID++};createjs.UID=b})();this.createjs=this.createjs||{};
(function(){function b(a,g,b,c,d,f,h,l,m,n,p){this.Event_constructor(a,g,b);this.stageX=c;this.stageY=d;this.rawX=null==m?c:m;this.rawY=null==n?d:n;this.nativeEvent=f;this.pointerID=h;this.primary=!!l;this.relatedTarget=p}var c=createjs.extend(b,createjs.Event);c._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};c._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};c._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(c,
{localX:{get:c._get_localX},localY:{get:c._get_localY},isTouch:{get:c._get_isTouch}})}catch(a){}c.clone=function(){return new b(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};c.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=createjs.promote(b,"Event")})();this.createjs=this.createjs||{};
(function(){function b(a,g,b,c,d,f){this.setValues(a,g,b,c,d,f)}var c=b.prototype;b.DEG_TO_RAD=Math.PI/180;b.identity=null;c.setValues=function(a,g,b,c,d,f){return this.a=null==a?1:a,this.b=g||0,this.c=b||0,this.d=null==c?1:c,this.tx=d||0,this.ty=f||0,this};c.append=function(a,g,b,c,d,f){var h=this.a,l=this.b,m=this.c,n=this.d;return(1!=a||0!=g||0!=b||1!=c)&&(this.a=h*a+m*g,this.b=l*a+n*g,this.c=h*b+m*c,this.d=l*b+n*c),this.tx=h*d+m*f+this.tx,this.ty=l*d+n*f+this.ty,this};c.prepend=function(a,g,b,
c,d,f){var h=this.a,l=this.c,m=this.tx;return this.a=a*h+b*this.b,this.b=g*h+c*this.b,this.c=a*l+b*this.d,this.d=g*l+c*this.d,this.tx=a*m+b*this.ty+d,this.ty=g*m+c*this.ty+f,this};c.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)};c.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty)};c.appendTransform=function(a,g,c,e,d,f,h,l,m){if(d%360){var n=d*b.DEG_TO_RAD;d=Math.cos(n);n=Math.sin(n)}else d=1,n=0;return f||h?(f*=b.DEG_TO_RAD,h*=b.DEG_TO_RAD,this.append(Math.cos(h),
Math.sin(h),-Math.sin(f),Math.cos(f),a,g),this.append(d*c,n*c,-n*e,d*e,0,0)):this.append(d*c,n*c,-n*e,d*e,a,g),(l||m)&&(this.tx-=l*this.a+m*this.c,this.ty-=l*this.b+m*this.d),this};c.prependTransform=function(a,g,c,e,d,f,h,l,m){if(d%360){var n=d*b.DEG_TO_RAD;d=Math.cos(n);n=Math.sin(n)}else d=1,n=0;return(l||m)&&(this.tx-=l,this.ty-=m),f||h?(f*=b.DEG_TO_RAD,h*=b.DEG_TO_RAD,this.prepend(d*c,n*c,-n*e,d*e,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(f),Math.cos(f),a,g)):this.prepend(d*c,n*c,-n*
e,d*e,a,g),this};c.rotate=function(a){a*=b.DEG_TO_RAD;var g=Math.cos(a);a=Math.sin(a);var c=this.a,e=this.b;return this.a=c*g+this.c*a,this.b=e*g+this.d*a,this.c=-c*a+this.c*g,this.d=-e*a+this.d*g,this};c.skew=function(a,g){return a*=b.DEG_TO_RAD,g*=b.DEG_TO_RAD,this.append(Math.cos(g),Math.sin(g),-Math.sin(a),Math.cos(a),0,0),this};c.scale=function(a,g){return this.a*=a,this.b*=a,this.c*=g,this.d*=g,this};c.translate=function(a,g){return this.tx+=this.a*a+this.c*g,this.ty+=this.b*a+this.d*g,this};
c.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this};c.invert=function(){var a=this.a,g=this.b,b=this.c,c=this.d,d=this.tx,f=a*c-g*b;return this.a=c/f,this.b=-g/f,this.c=-b/f,this.d=a/f,this.tx=(b*this.ty-c*d)/f,this.ty=-(a*this.ty-g*d)/f,this};c.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d};c.equals=function(a){return this.tx===a.tx&&this.ty===a.ty&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d};c.transformPoint=
function(a,g,b){return b=b||{},b.x=a*this.a+g*this.c+this.tx,b.y=a*this.b+g*this.d+this.ty,b};c.decompose=function(a){null==a&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var g=Math.atan2(-this.c,this.d),c=Math.atan2(this.b,this.a);return 1E-5>Math.abs(1-g/c)?(a.rotation=c/b.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=g/b.DEG_TO_RAD,a.skewY=c/b.DEG_TO_RAD),a};c.copy=
function(a){return this.setValues(a.a,a.b,a.c,a.d,a.tx,a.ty)};c.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)};c.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};b.identity=new b;createjs.Matrix2D=b})();this.createjs=this.createjs||{};
(function(){function b(a,g,b,c,d){this.setValues(a,g,b,c,d)}var c=b.prototype;c.setValues=function(a,g,b,c,d){return this.visible=null==a?!0:!!a,this.alpha=null==g?1:g,this.shadow=b,this.compositeOperation=c,this.matrix=d||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this};c.append=function(a,g,b,c,d){return this.alpha*=g,this.shadow=b||this.shadow,this.compositeOperation=c||this.compositeOperation,this.visible=this.visible&&a,d&&this.matrix.appendMatrix(d),this};c.prepend=function(a,
g,b,c,d){return this.alpha*=g,this.shadow=this.shadow||b,this.compositeOperation=this.compositeOperation||c,this.visible=this.visible&&a,d&&this.matrix.prependMatrix(d),this};c.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this};c.clone=function(){return new b(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())};createjs.DisplayProps=b})();this.createjs=this.createjs||{};
(function(){function b(a,g){this.setValues(a,g)}var c=b.prototype;c.setValues=function(a,g){return this.x=a||0,this.y=g||0,this};c.copy=function(a){return this.x=a.x,this.y=a.y,this};c.clone=function(){return new b(this.x,this.y)};c.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=b})();this.createjs=this.createjs||{};
(function(){function b(a,g,b,c){this.setValues(a,g,b,c)}var c=b.prototype;c.setValues=function(a,g,b,c){return this.x=a||0,this.y=g||0,this.width=b||0,this.height=c||0,this};c.extend=function(a,g,b,c){return b=b||0,c=c||0,a+b>this.x+this.width&&(this.width=a+b-this.x),g+c>this.y+this.height&&(this.height=g+c-this.y),a<this.x&&(this.width+=this.x-a,this.x=a),g<this.y&&(this.height+=this.y-g,this.y=g),this};c.pad=function(a,g,b,c){return this.x-=g,this.y-=a,this.width+=g+c,this.height+=a+b,this};c.copy=
function(a){return this.setValues(a.x,a.y,a.width,a.height)};c.contains=function(a,g,b,c){return b=b||0,c=c||0,a>=this.x&&a+b<=this.x+this.width&&g>=this.y&&g+c<=this.y+this.height};c.union=function(a){return this.clone().extend(a.x,a.y,a.width,a.height)};c.intersection=function(a){var g=a.x,c=a.y,e=g+a.width;a=c+a.height;return this.x>g&&(g=this.x),this.y>c&&(c=this.y),this.x+this.width<e&&(e=this.x+this.width),this.y+this.height<a&&(a=this.y+this.height),g>=e||c>=a?null:new b(g,c,e-g,a-c)};c.intersects=
function(a){return a.x<=this.x+this.width&&this.x<=a.x+a.width&&a.y<=this.y+this.height&&this.y<=a.y+a.height};c.isEmpty=function(){return 0>=this.width||0>=this.height};c.clone=function(){return new b(this.x,this.y,this.width,this.height)};c.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=b})();this.createjs=this.createjs||{};
(function(){function b(a,g,b,c,d,f,h){a.addEventListener&&(this.target=a,this.overLabel=null==b?"over":b,this.outLabel=null==g?"out":g,this.downLabel=null==c?"down":c,this.play=d,this._isPressed=!1,this._isOver=!1,this._enabled=!1,a.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),f&&(h&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(h)),a.hitArea=f))}var c=b.prototype;c.setEnabled=function(a){if(a!=this._enabled){var g=this.target;(this._enabled=a)?(g.cursor="pointer",g.addEventListener("rollover",
this),g.addEventListener("rollout",this),g.addEventListener("mousedown",this),g.addEventListener("pressup",this),g._reset&&(g.__reset=g._reset,g._reset=this._reset)):(g.cursor=null,g.removeEventListener("rollover",this),g.removeEventListener("rollout",this),g.removeEventListener("mousedown",this),g.removeEventListener("pressup",this),g.__reset&&(g._reset=g.__reset,delete g.__reset))}};c.getEnabled=function(){return this._enabled};try{Object.defineProperties(c,{enabled:{get:c.getEnabled,set:c.setEnabled}})}catch(a){}c.toString=
function(){return"[ButtonHelper]"};c.handleEvent=function(a){var g,b=this.target;a=a.type;"mousedown"==a?(this._isPressed=!0,g=this.downLabel):"pressup"==a?(this._isPressed=!1,g=this._isOver?this.overLabel:this.outLabel):"rollover"==a?(this._isOver=!0,g=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,g=this._isPressed?this.overLabel:this.outLabel);this.play?b.gotoAndPlay&&b.gotoAndPlay(g):b.gotoAndStop&&b.gotoAndStop(g)};c._reset=function(){var a=this.paused;this.__reset();this.paused=
a};createjs.ButtonHelper=b})();this.createjs=this.createjs||{};(function(){function b(a,g,b,c){this.color=a||"black";this.offsetX=g||0;this.offsetY=b||0;this.blur=c||0}var c=b.prototype;b.identity=new b("transparent",0,0,0);c.toString=function(){return"[Shadow]"};c.clone=function(){return new b(this.color,this.offsetX,this.offsetY,this.blur)};createjs.Shadow=b})();this.createjs=this.createjs||{};
(function(){function b(a){this.EventDispatcher_constructor();this.complete=!0;this.framerate=0;this._data=this._images=this._frames=this._animations=null;this._margin=this._spacing=this._regY=this._regX=this._numFrames=this._frameWidth=this._frameHeight=this._loadCount=0;this._parseData(a)}var c=createjs.extend(b,createjs.EventDispatcher);c.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(c,{animations:{get:c.getAnimations}})}catch(a){}c.getNumFrames=function(a){if(null==
a)return this._frames?this._frames.length:this._numFrames||0;a=this._data[a];return null==a?0:a.frames.length};c.getAnimation=function(a){return this._data[a]};c.getFrame=function(a){var b;return this._frames&&(b=this._frames[a])?b:null};c.getFrameBounds=function(a,b){var c=this.getFrame(a);return c?(b||new createjs.Rectangle).setValues(-c.regX,-c.regY,c.rect.width,c.rect.height):null};c.toString=function(){return"[SpriteSheet]"};c.clone=function(){throw"SpriteSheet cannot be cloned.";};c._parseData=
function(a){var b,c,e;if(null!=a){if(this.framerate=a.framerate||0,a.images&&0<(c=a.images.length))for(e=this._images=[],b=0;c>b;b++){var d=a.images[b];if("string"==typeof d){var f=d,d=document.createElement("img");d.src=f}e.push(d);d.getContext||d.naturalWidth||(this._loadCount++,this.complete=!1,function(a,b){d.onload=function(){a._handleImageLoad(b)}}(this,f),function(a,b){d.onerror=function(){a._handleImageError(b)}}(this,f))}if(null!=a.frames)if(Array.isArray(a.frames))for(this._frames=[],e=
a.frames,b=0,c=e.length;c>b;b++)f=e[b],this._frames.push({image:this._images[f[4]?f[4]:0],rect:new createjs.Rectangle(f[0],f[1],f[2],f[3]),regX:f[5]||0,regY:f[6]||0});else c=a.frames,this._frameWidth=c.width,this._frameHeight=c.height,this._regX=c.regX||0,this._regY=c.regY||0,this._spacing=c.spacing||0,this._margin=c.margin||0,this._numFrames=c.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(c=a.animations)){this._data={};for(var h in c){a={name:h};f=c[h];if("number"==
typeof f)e=a.frames=[f];else if(Array.isArray(f))if(1==f.length)a.frames=[f[0]];else for(a.speed=f[3],a.next=f[2],e=a.frames=[],b=f[0];b<=f[1];b++)e.push(b);else a.speed=f.speed,a.next=f.next,b=f.frames,e=a.frames="number"==typeof b?[b]:b.slice(0);!0!==a.next&&void 0!==a.next||(a.next=h);(!1===a.next||2>e.length&&a.next==h)&&(a.next=null);a.speed||(a.speed=1);this._animations.push(h);this._data[h]=a}}}};c._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,
this.dispatchEvent("complete"))};c._handleImageError=function(a){var b=new createjs.Event("error");b.src=a;this.dispatchEvent(b);0==--this._loadCount&&this.dispatchEvent("complete")};c._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var a=this._numFrames||1E5,b=0,c=this._frameWidth,e=this._frameHeight,d=this._spacing,f=this._margin,h=0,l=this._images;a:for(;h<l.length;h++)for(var m=l[h],n=m.width,p=m.height,r=f;p-f-e>=r;){for(var q=f;n-f-c>=q;){if(b>=a)break a;b++;
this._frames.push({image:m,rect:new createjs.Rectangle(q,r,c,e),regX:this._regX,regY:this._regY});q+=c+d}r+=e+d}this._numFrames=b}};createjs.SpriteSheet=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(){this._oldStrokeDash=this._strokeDash=this._oldStrokeStyle=this._strokeStyle=this._stroke=this.command=null;this._strokeIgnoreScale=!1;this._fill=null;this._instructions=[];this._commitIndex=0;this._activeInstructions=[];this._dirty=!1;this._storeIndex=0;this.clear()}var c=b.prototype;b.getRGB=function(a,b,c,d){return null!=a&&null==c&&(d=b,c=255&a,b=a>>8&255,a=a>>16&255),null==d?"rgb("+a+","+b+","+c+")":"rgba("+a+","+b+","+c+","+d+")"};b.getHSL=function(a,b,c,d){return null==
d?"hsl("+a%360+","+b+"%,"+c+"%)":"hsla("+a%360+","+b+"%,"+c+"%,"+d+")"};b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};b.STROKE_CAPS_MAP=["butt","round","square"];b.STROKE_JOINTS_MAP=["miter","round","bevel"];var a=createjs.createCanvas?
createjs.createCanvas():document.createElement("canvas");a.getContext&&(b._ctx=a.getContext("2d"),a.width=a.height=1);c.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(c,{instructions:{get:c.getInstructions}})}catch(g){}c.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)};c.draw=function(a,b){this._updateInstructions();for(var c=this._instructions,d=this._storeIndex,f=c.length;f>d;d++)c[d].exec(a,b)};
c.drawAsPath=function(a){this._updateInstructions();for(var b,c=this._instructions,d=this._storeIndex,f=c.length;f>d;d++)!1!==(b=c[d]).path&&b.exec(a)};c.moveTo=function(a,c){return this.append(new b.MoveTo(a,c),!0)};c.lineTo=function(a,c){return this.append(new b.LineTo(a,c))};c.arcTo=function(a,c,e,d,f){return this.append(new b.ArcTo(a,c,e,d,f))};c.arc=function(a,c,e,d,f,h){return this.append(new b.Arc(a,c,e,d,f,h))};c.quadraticCurveTo=function(a,c,e,d){return this.append(new b.QuadraticCurveTo(a,
c,e,d))};c.bezierCurveTo=function(a,c,e,d,f,h){return this.append(new b.BezierCurveTo(a,c,e,d,f,h))};c.rect=function(a,c,e,d){return this.append(new b.Rect(a,c,e,d))};c.closePath=function(){return this._activeInstructions.length?this.append(new b.ClosePath):this};c.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=
!1,this};c.beginFill=function(a){return this._setFill(a?new b.Fill(a):null)};c.beginLinearGradientFill=function(a,c,e,d,f,h){return this._setFill((new b.Fill).linearGradient(a,c,e,d,f,h))};c.beginRadialGradientFill=function(a,c,e,d,f,h,l,m){return this._setFill((new b.Fill).radialGradient(a,c,e,d,f,h,l,m))};c.beginBitmapFill=function(a,c,e){return this._setFill((new b.Fill(null,e)).bitmap(a,c))};c.endFill=function(){return this.beginFill()};c.setStrokeStyle=function(a,c,e,d,f){return this._updateInstructions(!0),
this._strokeStyle=this.command=new b.StrokeStyle(a,c,e,d,f),this._stroke&&(this._stroke.ignoreScale=f),this._strokeIgnoreScale=f,this};c.setStrokeDash=function(a,c){return this._updateInstructions(!0),this._strokeDash=this.command=new b.StrokeDash(a,c),this};c.beginStroke=function(a){return this._setStroke(a?new b.Stroke(a):null)};c.beginLinearGradientStroke=function(a,c,e,d,f,h){return this._setStroke((new b.Stroke).linearGradient(a,c,e,d,f,h))};c.beginRadialGradientStroke=function(a,c,e,d,f,h,l,
m){return this._setStroke((new b.Stroke).radialGradient(a,c,e,d,f,h,l,m))};c.beginBitmapStroke=function(a,c){return this._setStroke((new b.Stroke).bitmap(a,c))};c.endStroke=function(){return this.beginStroke()};c.curveTo=c.quadraticCurveTo;c.drawRect=c.rect;c.drawRoundRect=function(a,b,c,d,f){return this.drawRoundRectComplex(a,b,c,d,f,f,f,f)};c.drawRoundRectComplex=function(a,c,e,d,f,h,l,m){return this.append(new b.RoundRect(a,c,e,d,f,h,l,m))};c.drawCircle=function(a,c,e){return this.append(new b.Circle(a,
c,e))};c.drawEllipse=function(a,c,e,d){return this.append(new b.Ellipse(a,c,e,d))};c.drawPolyStar=function(a,c,e,d,f,h){return this.append(new b.PolyStar(a,c,e,d,f,h))};c.append=function(a,b){return this._activeInstructions.push(a),this.command=a,b||(this._dirty=!0),this};c.decodePath=function(a){for(var c=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],e=[2,2,4,6,0],d=0,f=a.length,h=[],l=0,m=0,n=b.BASE_64;f>d;){var p=a.charAt(d),r=n[p],q=r>>3,t=c[q];if(!t||3&r)throw"bad path data (@"+
d+"): "+p;p=e[q];q||(l=m=0);h.length=0;d++;r=(r>>2&1)+2;for(q=0;p>q;q++){var u=n[a.charAt(d)],v=u>>5?-1:1,u=(31&u)<<6|n[a.charAt(d+1)];3==r&&(u=u<<6|n[a.charAt(d+2)]);u=v*u/10;q%2?l=u+=l:m=u+=m;h[q]=u;d+=r}t.apply(this,h)}return this};c.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this};c.unstore=function(){return this._storeIndex=0,this};c.clone=function(){var a=new b;return a.command=this.command,a._stroke=this._stroke,a._strokeStyle=this._strokeStyle,
a._strokeDash=this._strokeDash,a._strokeIgnoreScale=this._strokeIgnoreScale,a._fill=this._fill,a._instructions=this._instructions.slice(),a._commitIndex=this._commitIndex,a._activeInstructions=this._activeInstructions.slice(),a._dirty=this._dirty,a._storeIndex=this._storeIndex,a};c.toString=function(){return"[Graphics]"};c.mt=c.moveTo;c.lt=c.lineTo;c.at=c.arcTo;c.bt=c.bezierCurveTo;c.qt=c.quadraticCurveTo;c.a=c.arc;c.r=c.rect;c.cp=c.closePath;c.c=c.clear;c.f=c.beginFill;c.lf=c.beginLinearGradientFill;
c.rf=c.beginRadialGradientFill;c.bf=c.beginBitmapFill;c.ef=c.endFill;c.ss=c.setStrokeStyle;c.sd=c.setStrokeDash;c.s=c.beginStroke;c.ls=c.beginLinearGradientStroke;c.rs=c.beginRadialGradientStroke;c.bs=c.beginBitmapStroke;c.es=c.endStroke;c.dr=c.drawRect;c.rr=c.drawRoundRect;c.rc=c.drawRoundRectComplex;c.dc=c.drawCircle;c.de=c.drawEllipse;c.dp=c.drawPolyStar;c.p=c.decodePath;c._updateInstructions=function(a){var c=this._instructions,e=this._activeInstructions,d=this._commitIndex;if(this._dirty&&e.length){c.length=
d;c.push(b.beginCmd);var d=e.length,f=c.length;c.length=f+d;for(var h=0;d>h;h++)c[h+f]=e[h];this._fill&&c.push(this._fill);this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,c.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,c.push(this._strokeStyle)),c.push(this._stroke));this._dirty=!1}a&&(e.length=0,this._commitIndex=c.length)};c._setFill=function(a){return this._updateInstructions(!0),this.command=
this._fill=a,this};c._setStroke=function(a){return this._updateInstructions(!0),(this.command=this._stroke=a)&&(a.ignoreScale=this._strokeIgnoreScale),this};(b.LineTo=function(a,b){this.x=a;this.y=b}).prototype.exec=function(a){a.lineTo(this.x,this.y)};(b.MoveTo=function(a,b){this.x=a;this.y=b}).prototype.exec=function(a){a.moveTo(this.x,this.y)};(b.ArcTo=function(a,b,c,d,f){this.x1=a;this.y1=b;this.x2=c;this.y2=d;this.radius=f}).prototype.exec=function(a){a.arcTo(this.x1,this.y1,this.x2,this.y2,
this.radius)};(b.Arc=function(a,b,c,d,f,h){this.x=a;this.y=b;this.radius=c;this.startAngle=d;this.endAngle=f;this.anticlockwise=!!h}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)};(b.QuadraticCurveTo=function(a,b,c,d){this.cpx=a;this.cpy=b;this.x=c;this.y=d}).prototype.exec=function(a){a.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)};(b.BezierCurveTo=function(a,b,c,d,f,h){this.cp1x=a;this.cp1y=b;this.cp2x=c;this.cp2y=d;this.x=f;this.y=
h}).prototype.exec=function(a){a.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)};(b.Rect=function(a,b,c,d){this.x=a;this.y=b;this.w=c;this.h=d}).prototype.exec=function(a){a.rect(this.x,this.y,this.w,this.h)};(b.ClosePath=function(){}).prototype.exec=function(a){a.closePath()};(b.BeginPath=function(){}).prototype.exec=function(a){a.beginPath()};c=(b.Fill=function(a,b){this.style=a;this.matrix=b}).prototype;c.exec=function(a){if(this.style){a.fillStyle=this.style;var b=this.matrix;
b&&(a.save(),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty));a.fill();b&&a.restore()}};c.linearGradient=function(a,c,e,d,f,h){for(var l=this.style=b._ctx.createLinearGradient(e,d,f,h),m=0,n=a.length;n>m;m++)l.addColorStop(c[m],a[m]);return l.props={colors:a,ratios:c,x0:e,y0:d,x1:f,y1:h,type:"linear"},this};c.radialGradient=function(a,c,e,d,f,h,l,m){for(var n=this.style=b._ctx.createRadialGradient(e,d,f,h,l,m),p=0,r=a.length;r>p;p++)n.addColorStop(c[p],a[p]);return n.props={colors:a,ratios:c,x0:e,y0:d,r0:f,
x1:h,y1:l,r1:m,type:"radial"},this};c.bitmap=function(a,c){if(a.naturalWidth||a.getContext||2<=a.readyState)(this.style=b._ctx.createPattern(a,c||"")).props={image:a,repetition:c,type:"bitmap"};return this};c.path=!1;c=(b.Stroke=function(a,b){this.style=a;this.ignoreScale=b}).prototype;c.exec=function(a){this.style&&(a.strokeStyle=this.style,this.ignoreScale&&(a.save(),a.setTransform(1,0,0,1,0,0)),a.stroke(),this.ignoreScale&&a.restore())};c.linearGradient=b.Fill.prototype.linearGradient;c.radialGradient=
b.Fill.prototype.radialGradient;c.bitmap=b.Fill.prototype.bitmap;c.path=!1;c=(b.StrokeStyle=function(a,b,c,d,f){this.width=a;this.caps=b;this.joints=c;this.miterLimit=d;this.ignoreScale=f}).prototype;c.exec=function(a){a.lineWidth=null==this.width?"1":this.width;a.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:b.STROKE_CAPS_MAP[this.caps];a.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:b.STROKE_JOINTS_MAP[this.joints];a.miterLimit=null==this.miterLimit?"10":this.miterLimit;
a.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale};c.path=!1;(b.StrokeDash=function(a,b){this.segments=a;this.offset=b||0}).prototype.exec=function(a){a.setLineDash&&(a.setLineDash(this.segments||b.StrokeDash.EMPTY_SEGMENTS),a.lineDashOffset=this.offset||0)};b.StrokeDash.EMPTY_SEGMENTS=[];(b.RoundRect=function(a,b,c,d,f,h,l,m){this.x=a;this.y=b;this.w=c;this.h=d;this.radiusTL=f;this.radiusTR=h;this.radiusBR=l;this.radiusBL=m}).prototype.exec=function(a){var b=(p>n?n:p)/2,c=0,d=0,f=0,h=0,l=
this.x,m=this.y,n=this.w,p=this.h,r=this.radiusTL,q=this.radiusTR,t=this.radiusBR,u=this.radiusBL;0>r&&(r*=c=-1);r>b&&(r=b);0>q&&(q*=d=-1);q>b&&(q=b);0>t&&(t*=f=-1);t>b&&(t=b);0>u&&(u*=h=-1);u>b&&(u=b);a.moveTo(l+n-q,m);a.arcTo(l+n+q*d,m-q*d,l+n,m+q,q);a.lineTo(l+n,m+p-t);a.arcTo(l+n+t*f,m+p+t*f,l+n-t,m+p,t);a.lineTo(l+u,m+p);a.arcTo(l-u*h,m+p+u*h,l,m+p-u,u);a.lineTo(l,m+r);a.arcTo(l-r*c,m-r*c,l+r,m,r);a.closePath()};(b.Circle=function(a,b,c){this.x=a;this.y=b;this.radius=c}).prototype.exec=function(a){a.arc(this.x,
this.y,this.radius,0,2*Math.PI)};(b.Ellipse=function(a,b,c,d){this.x=a;this.y=b;this.w=c;this.h=d}).prototype.exec=function(a){var b=this.x,c=this.y,d=this.w,f=this.h,h=d/2*.5522848,l=f/2*.5522848,m=b+d,n=c+f,d=b+d/2,f=c+f/2;a.moveTo(b,f);a.bezierCurveTo(b,f-l,d-h,c,d,c);a.bezierCurveTo(d+h,c,m,f-l,m,f);a.bezierCurveTo(m,f+l,d+h,n,d,n);a.bezierCurveTo(d-h,n,b,f+l,b,f)};(b.PolyStar=function(a,b,c,d,f,h){this.x=a;this.y=b;this.radius=c;this.sides=d;this.pointSize=f;this.angle=h}).prototype.exec=function(a){var b=
this.x,c=this.y,d=this.radius,f=(this.angle||0)/180*Math.PI,h=this.sides,l=1-(this.pointSize||0),m=Math.PI/h;a.moveTo(b+Math.cos(f)*d,c+Math.sin(f)*d);for(var n=0;h>n;n++)f+=m,1!=l&&a.lineTo(b+Math.cos(f)*d*l,c+Math.sin(f)*d*l),f+=m,a.lineTo(b+Math.cos(f)*d,c+Math.sin(f)*d);a.closePath()};b.beginCmd=new b.BeginPath;createjs.Graphics=b})();this.createjs=this.createjs||{};
(function(){function b(){this.EventDispatcher_constructor();this.alpha=1;this.cacheCanvas=null;this.cacheID=0;this.id=createjs.UID.get();this.tickEnabled=this.mouseEnabled=!0;this.parent=this.name=null;this.rotation=this.regY=this.regX=0;this.scaleY=this.scaleX=1;this.skewY=this.skewX=0;this.shadow=null;this.visible=!0;this.y=this.x=0;this.compositeOperation=this.transformMatrix=null;this.snapToPixel=!0;this.cursor=this.hitArea=this.mask=this.filters=null;this._filterOffsetY=this._filterOffsetX=this._cacheOffsetY=
this._cacheOffsetX=0;this._cacheScale=1;this._cacheDataURLID=0;this._cacheDataURL=null;this._props=new createjs.DisplayProps;this._rectangle=new createjs.Rectangle;this._bounds=null}var c=createjs.extend(b,createjs.EventDispatcher);b._MOUSE_EVENTS="click dblclick mousedown mouseout mouseover pressmove pressup rollout rollover".split(" ");b.suppressCrossDomainErrors=!1;b._snapToPixelEnabled=!1;var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(b._hitTestCanvas=
a,b._hitTestContext=a.getContext("2d"),a.width=a.height=1);b._nextCacheID=1;c.getStage=function(){for(var a=this,b=createjs.Stage;a.parent;)a=a.parent;return a instanceof b?a:null};try{Object.defineProperties(c,{stage:{get:c.getStage}})}catch(g){}c.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};c.draw=function(a,b){var c=this.cacheCanvas;if(b||!c)return!1;var d=this._cacheScale;return a.drawImage(c,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+
this._filterOffsetY,c.width/d,c.height/d),!0};c.updateContext=function(a){var c=this.mask,e=this._props.matrix;c&&c.graphics&&!c.graphics.isEmpty()&&(c.getMatrix(e),a.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),c.graphics.drawAsPath(a),a.clip(),e.invert(),a.transform(e.a,e.b,e.c,e.d,e.tx,e.ty));this.getMatrix(e);var c=e.tx,d=e.ty;b._snapToPixelEnabled&&this.snapToPixel&&(c=c+(0>c?-.5:.5)|0,d=d+(0>d?-.5:.5)|0);a.transform(e.a,e.b,e.c,e.d,c,d);a.globalAlpha*=this.alpha;this.compositeOperation&&(a.globalCompositeOperation=
this.compositeOperation);this.shadow&&this._applyShadow(a,this.shadow)};c.cache=function(a,b,c,d,f){f=f||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=c;this._cacheHeight=d;this._cacheOffsetX=a;this._cacheOffsetY=b;this._cacheScale=f;this.updateCache()};c.updateCache=function(a){var c=this.cacheCanvas;if(!c)throw"cache() must be called before updateCache()";var e=this._cacheScale,d=this._cacheOffsetX*e,f=this._cacheOffsetY*
e,h=this._cacheWidth,l=this._cacheHeight,m=c.getContext("2d"),n=this._getFilterBounds(),d=d+(this._filterOffsetX=n.x),f=f+(this._filterOffsetY=n.y),h=Math.ceil(h*e)+n.width,l=Math.ceil(l*e)+n.height;h!=c.width||l!=c.height?(c.width=h,c.height=l):a||m.clearRect(0,0,h+1,l+1);m.save();m.globalCompositeOperation=a;m.setTransform(e,0,0,e,-d,-f);this.draw(m,!0);this._applyFilters();m.restore();this.cacheID=b._nextCacheID++};c.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=
this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0;this._cacheScale=1};c.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};c.localToGlobal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(a,b,c||new createjs.Point)};c.globalToLocal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(a,b,c||new createjs.Point)};
c.localToLocal=function(a,b,c,d){return d=this.localToGlobal(a,b,d),c.globalToLocal(d.x,d.y,d)};c.setTransform=function(a,b,c,d,f,h,l,m,n){return this.x=a||0,this.y=b||0,this.scaleX=null==c?1:c,this.scaleY=null==d?1:d,this.rotation=f||0,this.skewX=h||0,this.skewY=l||0,this.regX=m||0,this.regY=n||0,this};c.getMatrix=function(a){a=a&&a.identity()||new createjs.Matrix2D;return this.transformMatrix?a.copy(this.transformMatrix):a.appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,
this.skewY,this.regX,this.regY)};c.getConcatenatedMatrix=function(a){var b=this;for(a=this.getMatrix(a);b=b.parent;)a.prependMatrix(b.getMatrix(b._props.matrix));return a};c.getConcatenatedDisplayProps=function(a){a=a?a.identity():new createjs.DisplayProps;var b=this,c=b.getMatrix(a.matrix);do a.prepend(b.visible,b.alpha,b.shadow,b.compositeOperation),b!=this&&c.prependMatrix(b.getMatrix(b._props.matrix));while(b=b.parent);return a};c.hitTest=function(a,c){var e=b._hitTestContext;e.setTransform(1,
0,0,1,-a,-c);this.draw(e);var d=this._testHit(e);return e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,2,2),d};c.set=function(a){for(var b in a)this[b]=a[b];return this};c.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var a=this.cacheCanvas;if(a){var b=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,a.width/b,a.height/b)}return null};c.getTransformedBounds=function(){return this._getBounds()};c.setBounds=function(a,b,c,d){null==
a&&(this._bounds=a);this._bounds=(this._bounds||new createjs.Rectangle).setValues(a,b,c,d)};c.clone=function(){return this._cloneProps(new b)};c.toString=function(){return"[DisplayObject (name="+this.name+")]"};c._cloneProps=function(a){return a.alpha=this.alpha,a.mouseEnabled=this.mouseEnabled,a.tickEnabled=this.tickEnabled,a.name=this.name,a.regX=this.regX,a.regY=this.regY,a.rotation=this.rotation,a.scaleX=this.scaleX,a.scaleY=this.scaleY,a.shadow=this.shadow,a.skewX=this.skewX,a.skewY=this.skewY,
a.visible=this.visible,a.x=this.x,a.y=this.y,a.compositeOperation=this.compositeOperation,a.snapToPixel=this.snapToPixel,a.filters=null==this.filters?null:this.filters.slice(0),a.mask=this.mask,a.hitArea=this.hitArea,a.cursor=this.cursor,a._bounds=this._bounds,a};c._applyShadow=function(a,b){b=b||Shadow.identity;a.shadowColor=b.color;a.shadowOffsetX=b.offsetX;a.shadowOffsetY=b.offsetY;a.shadowBlur=b.blur};c._tick=function(a){var b=this._listeners;b&&b.tick&&(a.target=null,a.propagationStopped=a.immediatePropagationStopped=
!1,this.dispatchEvent(a))};c._testHit=function(a){try{var c=1<a.getImageData(0,0,1,1).data[3]}catch(e){if(!b.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return c};c._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,b=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,d=this.cacheCanvas.height,f=0;a>f;f++)this.filters[f].applyFilter(b,
0,0,c,d)};c._getFilterBounds=function(){var a,b=this.filters,c=this._rectangle.setValues(0,0,0,0);if(!b||!(a=b.length))return c;for(b=0;a>b;b++){var d=this.filters[b];d.getBounds&&d.getBounds(c)}return c};c._getBounds=function(a,b){return this._transformBounds(this.getBounds(),a,b)};c._transformBounds=function(a,b,c){if(!a)return a;var d=a.x,f=a.y,h=a.width,l=a.height,m=this._props.matrix,m=c?m.identity():this.getMatrix(m);(d||f)&&m.appendTransform(0,0,1,1,0,0,0,-d,-f);b&&m.prependMatrix(b);b=h*m.a;
h*=m.b;c=l*m.c;var l=l*m.d,n=m.tx,m=m.ty,p=n,r=n,q=m,t=m;return(d=b+n)<p?p=d:d>r&&(r=d),(d=b+c+n)<p?p=d:d>r&&(r=d),(d=c+n)<p?p=d:d>r&&(r=d),(f=h+m)<q?q=f:f>t&&(t=f),(f=h+l+m)<q?q=f:f>t&&(t=f),(f=l+m)<q?q=f:f>t&&(t=f),a.setValues(p,q,r-p,t-q)};c._hasMouseEventListener=function(){for(var a=b._MOUSE_EVENTS,c=0,e=a.length;e>c;c++)if(this.hasEventListener(a[c]))return!0;return!!this.cursor};createjs.DisplayObject=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(){this.DisplayObject_constructor();this.children=[];this.tickChildren=this.mouseChildren=!0}var c=createjs.extend(b,createjs.DisplayObject);c.getNumChildren=function(){return this.children.length};try{Object.defineProperties(c,{numChildren:{get:c.getNumChildren}})}catch(a){}c.initialize=b;c.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){if(this.DisplayObject_draw(a,
b))return!0;for(var c=this.children.slice(),e=0,d=c.length;d>e;e++){var f=c[e];f.isVisible()&&(a.save(),f.updateContext(a),f.draw(a),a.restore())}return!0};c.addChild=function(a){if(null==a)return a;var b=arguments.length;if(1<b){for(var c=0;b>c;c++)this.addChild(arguments[c]);return arguments[b-1]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.push(a),a.dispatchEvent("added"),a};c.addChildAt=function(a,b){var c=arguments.length,e=arguments[c-1];if(0>e||e>this.children.length)return arguments[c-
2];if(2<c){for(var d=0;c-1>d;d++)this.addChildAt(arguments[d],e+d);return arguments[c-2]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),a.dispatchEvent("added"),a};c.removeChild=function(a){var b=arguments.length;if(1<b){for(var c=!0,e=0;b>e;e++)c=c&&this.removeChild(arguments[e]);return c}return this.removeChildAt(createjs.indexOf(this.children,a))};c.removeChildAt=function(a){var b=arguments.length;if(1<b){for(var c=[],e=0;b>e;e++)c[e]=arguments[e];c.sort(function(a,
b){return b-a});for(var d=!0,e=0;b>e;e++)d=d&&this.removeChildAt(c[e]);return d}if(0>a||a>this.children.length-1)return!1;b=this.children[a];return b&&(b.parent=null),this.children.splice(a,1),b.dispatchEvent("removed"),!0};c.removeAllChildren=function(){for(var a=this.children;a.length;)this.removeChildAt(0)};c.getChildAt=function(a){return this.children[a]};c.getChildByName=function(a){for(var b=this.children,c=0,e=b.length;e>c;c++)if(b[c].name==a)return b[c];return null};c.sortChildren=function(a){this.children.sort(a)};
c.getChildIndex=function(a){return createjs.indexOf(this.children,a)};c.swapChildrenAt=function(a,b){var c=this.children,e=c[a],d=c[b];e&&d&&(c[a]=d,c[b]=e)};c.swapChildren=function(a,b){for(var c,e,d=this.children,f=0,h=d.length;h>f&&(d[f]==a&&(c=f),d[f]==b&&(e=f),null==c||null==e);f++);f!=h&&(d[c]=b,d[e]=a)};c.setChildIndex=function(a,b){var c=this.children,e=c.length;if(!(a.parent!=this||0>b||b>=e)){for(var d=0;e>d&&c[d]!=a;d++);d!=e&&d!=b&&(c.splice(d,1),c.splice(b,0,a))}};c.contains=function(a){for(;a;){if(a==
this)return!0;a=a.parent}return!1};c.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,b)};c.getObjectsUnderPoint=function(a,b,c){var e=[];a=this.localToGlobal(a,b);return this._getObjectsUnderPoint(a.x,a.y,e,0<c,1==c),e};c.getObjectUnderPoint=function(a,b,c){a=this.localToGlobal(a,b);return this._getObjectsUnderPoint(a.x,a.y,null,0<c,1==c)};c.getBounds=function(){return this._getBounds(null,!0)};c.getTransformedBounds=function(){return this._getBounds()};c.clone=function(a){var c=this._cloneProps(new b);
return a&&this._cloneChildren(c),c};c.toString=function(){return"[Container (name="+this.name+")]"};c._tick=function(a){if(this.tickChildren)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b];c.tickEnabled&&c._tick&&c._tick(a)}this.DisplayObject__tick(a)};c._cloneChildren=function(a){a.children.length&&a.removeAllChildren();for(var b=a.children,c=0,e=this.children.length;e>c;c++){var d=this.children[c].clone(!0);d.parent=a;b.push(d)}};c._getObjectsUnderPoint=function(a,c,k,e,d,f){if(f=
f||0,!f&&!this._testMask(this,a,c))return null;var h,l=createjs.DisplayObject._hitTestContext;d=d||e&&this._hasMouseEventListener();for(var m=this.children,n=m.length-1;0<=n;n--){var p=m[n],r=p.hitArea;if(p.visible&&(r||p.isVisible())&&(!e||p.mouseEnabled)&&(r||this._testMask(p,a,c)))if(!r&&p instanceof b){if(p=p._getObjectsUnderPoint(a,c,k,e,d,f+1),!k&&p)return e&&!this.mouseChildren?this:p}else if(!e||d||p._hasMouseEventListener()){var q=p.getConcatenatedDisplayProps(p._props);if(h=q.matrix,r&&
(h.appendMatrix(r.getMatrix(r._props.matrix)),q.alpha=r.alpha),l.globalAlpha=q.alpha,l.setTransform(h.a,h.b,h.c,h.d,h.tx-a,h.ty-c),(r||p).draw(l),this._testHit(l)){if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!k)return e&&!this.mouseChildren?this:p;k.push(p)}}}return null};c._testMask=function(a,b,c){var e=a.mask;if(!e||!e.graphics||e.graphics.isEmpty())return!0;var d=this._props.matrix,d=(a=a.parent)?a.getConcatenatedMatrix(d):d.identity(),d=e.getMatrix(e._props.matrix).prependMatrix(d);a=
createjs.DisplayObject._hitTestContext;return a.setTransform(d.a,d.b,d.c,d.d,d.tx-b,d.ty-c),e.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),this._testHit(a)?(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0):!1};c._getBounds=function(a,b){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,a,b);var e=this._props.matrix,e=b?e.identity():this.getMatrix(e);a&&e.prependMatrix(a);for(var d=this.children.length,f=null,h=0;d>h;h++){var l=this.children[h];l.visible&&(c=l._getBounds(e))&&
(f?f.extend(c.x,c.y,c.width,c.height):f=c.clone())}return f};createjs.Container=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a){this.Container_constructor();this.autoClear=!0;this.canvas="string"==typeof a?document.getElementById(a):a;this.mouseY=this.mouseX=0;this.drawRect=null;this.mouseInBounds=this.snapToPixelEnabled=!1;this.tickOnUpdate=!0;this.mouseMoveOutside=!1;this.preventSelection=!0;this._pointerData={};this._pointerCount=0;this._prevStage=this._nextStage=this._mouseOverIntervalID=this._primaryPointerID=null;this.enableDOMEvents(!0)}var c=createjs.extend(b,createjs.Container);c._get_nextStage=
function(){return this._nextStage};c._set_nextStage=function(a){this._nextStage&&(this._nextStage._prevStage=null);a&&(a._prevStage=this);this._nextStage=a};try{Object.defineProperties(c,{nextStage:{get:c._get_nextStage,set:c._set_nextStage}})}catch(a){}c.update=function(a){if(this.canvas&&(this.tickOnUpdate&&this.tick(a),!1!==this.dispatchEvent("drawstart",!1,!0))){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;a=this.drawRect;var b=this.canvas.getContext("2d");b.setTransform(1,
0,0,1,0,0);this.autoClear&&(a?b.clearRect(a.x,a.y,a.width,a.height):b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1));b.save();this.drawRect&&(b.beginPath(),b.rect(a.x,a.y,a.width,a.height),b.clip());this.updateContext(b);this.draw(b,!1);b.restore();this.dispatchEvent("drawend")}};c.tick=function(a){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var b=new createjs.Event("tick");if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);this._tick(b);this.dispatchEvent("tickend")}};
c.handleEvent=function(a){"tick"==a.type&&this.update(a)};c.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};c.toDataURL=function(a,b){var c,e=this.canvas.getContext("2d"),d=this.canvas.width,f=this.canvas.height;if(a){c=e.getImageData(0,0,d,f);var h=e.globalCompositeOperation;e.globalCompositeOperation="destination-over";e.fillStyle=a;e.fillRect(0,0,d,f)}d=this.canvas.toDataURL(b||"image/png");
return a&&(e.putImageData(c,0,0),e.globalCompositeOperation=h),d};c.enableMouseOver=function(a){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0)),null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1E3/Math.min(50,a))};c.enableDOMEvents=function(a){null==a&&(a=!0);var b,c=this._eventListeners;if(!a&&c){for(b in c)a=c[b],a.t.removeEventListener(b,a.f,!1);
this._eventListeners=null}else if(a&&!c&&this.canvas){a=window.addEventListener?window:document;var e=this,c=this._eventListeners={};c.mouseup={t:a,f:function(a){e._handleMouseUp(a)}};c.mousemove={t:a,f:function(a){e._handleMouseMove(a)}};c.dblclick={t:this.canvas,f:function(a){e._handleDoubleClick(a)}};c.mousedown={t:this.canvas,f:function(a){e._handleMouseDown(a)}};for(b in c)a=c[b],a.t.addEventListener(b,a.f,!1)}};c.clone=function(){throw"Stage cannot be cloned.";};c.toString=function(){return"[Stage (name="+
this.name+")]"};c._getElementRect=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){b={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var k=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),d=window.getComputedStyle?getComputedStyle(a,null):a.currentStyle;a=parseInt(d.paddingLeft)+parseInt(d.borderLeftWidth);var f=parseInt(d.paddingTop)+
parseInt(d.borderTopWidth),h=parseInt(d.paddingRight)+parseInt(d.borderRightWidth),d=parseInt(d.paddingBottom)+parseInt(d.borderBottomWidth);return{left:b.left+k+a,right:b.right+k-h,top:b.top+e+f,bottom:b.bottom+e-d}};c._getPointerData=function(a){var b=this._pointerData[a];return b||(b=this._pointerData[a]={x:0,y:0}),b};c._handleMouseMove=function(a){a||(a=window.event);this._handlePointerMove(-1,a,a.pageX,a.pageY)};c._handlePointerMove=function(a,b,c,e,d){if((!this._prevStage||void 0!==d)&&this.canvas){d=
this._nextStage;var f=this._getPointerData(a),h=f.inBounds;this._updatePointerPosition(a,b,c,e);(h||f.inBounds||this.mouseMoveOutside)&&(-1===a&&f.inBounds==!h&&this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",!1,a,f,b),this._dispatchMouseEvent(this,"stagemousemove",!1,a,f,b),this._dispatchMouseEvent(f.target,"pressmove",!0,a,f,b));d&&d._handlePointerMove(a,b,c,e,null)}};c._updatePointerPosition=function(a,b,c,e){var d=this._getElementRect(this.canvas);c-=d.left;e-=d.top;var f=this.canvas.width,
h=this.canvas.height;c/=(d.right-d.left)/f;e/=(d.bottom-d.top)/h;d=this._getPointerData(a);(d.inBounds=0<=c&&0<=e&&f-1>=c&&h-1>=e)?(d.x=c,d.y=e):this.mouseMoveOutside&&(d.x=0>c?0:c>f-1?f-1:c,d.y=0>e?0:e>h-1?h-1:e);d.posEvtObj=b;d.rawX=c;d.rawY=e;(a===this._primaryPointerID||-1===a)&&(this.mouseX=d.x,this.mouseY=d.y,this.mouseInBounds=d.inBounds)};c._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)};c._handlePointerUp=function(a,b,c,e){var d=this._nextStage,f=this._getPointerData(a);if(!this._prevStage||
void 0!==e){var h=null,l=f.target;e||!l&&!d||(h=this._getObjectsUnderPoint(f.x,f.y,null,!0));f.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,a,f,b,h),f.down=!1);h==l&&this._dispatchMouseEvent(l,"click",!0,a,f,b);this._dispatchMouseEvent(l,"pressup",!0,a,f,b);c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):f.target=null;d&&d._handlePointerUp(a,b,c,e||h&&this)}};c._handleMouseDown=function(a){this._handlePointerDown(-1,a,a.pageX,a.pageY)};c._handlePointerDown=
function(a,b,c,e,d){this.preventSelection&&b.preventDefault();null!=this._primaryPointerID&&-1!==a||(this._primaryPointerID=a);null!=e&&this._updatePointerPosition(a,b,c,e);var f=null,h=this._nextStage,l=this._getPointerData(a);d||(f=l.target=this._getObjectsUnderPoint(l.x,l.y,null,!0));l.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,a,l,b,f),l.down=!0);this._dispatchMouseEvent(f,"mousedown",!0,a,l,b);h&&h._handlePointerDown(a,b,c,e,d||f&&this)};c._testMouseOver=function(a,b,c){if(!this._prevStage||
void 0!==b){var e=this._nextStage;if(!this._mouseOverIntervalID)return void(e&&e._testMouseOver(a,b,c));var d=this._getPointerData(-1);if(d&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var f,h,l=d.posEvtObj,m=c||l&&l.target==this.canvas,n=null,p=-1;h="";!b&&(a||this.mouseInBounds&&m)&&(n=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var r=this._mouseOverTarget||[],q=r[r.length-1],t=
this._mouseOverTarget=[];for(f=n;f;)t.unshift(f),h||(h=f.cursor),f=f.parent;this.canvas.style.cursor=h;!b&&c&&(c.canvas.style.cursor=h);f=0;for(h=t.length;h>f&&t[f]==r[f];f++)p=f;q!=n&&this._dispatchMouseEvent(q,"mouseout",!0,-1,d,l,n);for(f=r.length-1;f>p;f--)this._dispatchMouseEvent(r[f],"rollout",!1,-1,d,l,n);for(f=t.length-1;f>p;f--)this._dispatchMouseEvent(t[f],"rollover",!1,-1,d,l,q);q!=n&&this._dispatchMouseEvent(n,"mouseover",!0,-1,d,l,q);e&&e._testMouseOver(a,b||n&&this,c||m&&this)}}};c._handleDoubleClick=
function(a,b){var c=null,e=this._nextStage,d=this._getPointerData(-1);b||(c=this._getObjectsUnderPoint(d.x,d.y,null,!0),this._dispatchMouseEvent(c,"dblclick",!0,-1,d,a));e&&e._handleDoubleClick(a,b||c&&this)};c._dispatchMouseEvent=function(a,b,c,e,d,f,h){a&&(c||a.hasEventListener(b))&&(b=new createjs.MouseEvent(b,c,!1,d.x,d.y,f,e,e===this._primaryPointerID||-1===e,d.rawX,d.rawY,h),a.dispatchEvent(b))};createjs.Stage=createjs.promote(b,"Container")})();this.createjs=this.createjs||{};
(function(){function b(a){this.DisplayObject_constructor();"string"==typeof a?(this.image=document.createElement("img"),this.image.src=a):this.image=a;this.sourceRect=null}var c=createjs.extend(b,createjs.DisplayObject);c.initialize=b;c.isVisible=function(){var a=this.image,a=this.cacheCanvas||a&&(a.naturalWidth||a.getContext||2<=a.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){if(this.DisplayObject_draw(a,b)||!this.image)return!0;var c=this.image,
e=this.sourceRect;if(e){var d=e.x,f=e.y,h=d+e.width,e=f+e.height,l=0,m=0,n=c.width,p=c.height;0>d&&(l-=d,d=0);h>n&&(h=n);0>f&&(m-=f,f=0);e>p&&(e=p);a.drawImage(c,d,f,h-d,e-f,l,m,h-d,e-f)}else a.drawImage(c,0,0);return!0};c.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;var a=this.image,b=this.sourceRect||a;return a&&(a.naturalWidth||a.getContext||2<=a.readyState)?this._rectangle.setValues(0,0,b.width,b.height):null};c.clone=function(){var a=new b(this.image);return this.sourceRect&&
(a.sourceRect=this.sourceRect.clone()),this._cloneProps(a),a};c.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.DisplayObject_constructor();this.currentFrame=0;this.currentAnimation=null;this.paused=!0;this.spriteSheet=a;this.framerate=this.currentAnimationFrame=0;this._currentFrame=this._animation=null;this._skipAdvance=!1;null!=b&&this.gotoAndPlay(b)}var c=createjs.extend(b,createjs.DisplayObject);c.initialize=b;c.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,
b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var e=c.rect;return e.width&&e.height&&a.drawImage(c.image,e.x,e.y,e.width,e.height,-c.regX,-c.regY,e.width,e.height),!0};c.play=function(){this.paused=!1};c.stop=function(){this.paused=!0};c.gotoAndPlay=function(a){this.paused=!1;this._skipAdvance=!0;this._goto(a)};c.gotoAndStop=function(a){this.paused=!0;this._goto(a)};c.advance=function(a){var b=this.framerate||
this.spriteSheet.framerate;this._normalizeFrame(b&&null!=a?a/(1E3/b):1)};c.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};c.clone=function(){return this._cloneProps(new b(this.spriteSheet))};c.toString=function(){return"[Sprite (name="+this.name+")]"};c._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.currentFrame=this.currentFrame,a.currentAnimation=this.currentAnimation,a.paused=this.paused,a.currentAnimationFrame=
this.currentAnimationFrame,a.framerate=this.framerate,a._animation=this._animation,a._currentFrame=this._currentFrame,a._skipAdvance=this._skipAdvance,a};c._tick=function(a){this.paused||(this._skipAdvance||this.advance(a&&a.delta),this._skipAdvance=!1);this.DisplayObject__tick(a)};c._normalizeFrame=function(a){a=a||0;var b,c=this._animation,e=this.paused,d=this._currentFrame;if(c){var f=c.speed||1,h=this.currentAnimationFrame;if(b=c.frames.length,h+a*f>=b){var l=c.next;if(this._dispatchAnimationEnd(c,
d,e,l,b-1))return;if(l)return this._goto(l,a-(b-h)/f);this.paused=!0;h=c.frames.length-1}else h+=a*f;this.currentAnimationFrame=h;this._currentFrame=c.frames[0|h]}else if(d=this._currentFrame+=a,b=this.spriteSheet.getNumFrames(),d>=b&&0<b&&!this._dispatchAnimationEnd(c,d,e,b-1)&&(this._currentFrame-=b)>=b)return this._normalizeFrame();d=0|this._currentFrame;this.currentFrame!=d&&(this.currentFrame=d,this.dispatchEvent("change"))};c._dispatchAnimationEnd=function(a,b,c,e,d){var f=a?a.name:null;if(this.hasEventListener("animationend")){var h=
new createjs.Event("animationend");h.name=f;h.next=e;this.dispatchEvent(h)}a=this._animation!=a||this._currentFrame!=b;return a||c||!this.paused||(this.currentAnimationFrame=d,a=!0),a};c._goto=function(a,b){if(this.currentAnimationFrame=0,isNaN(a)){var c=this.spriteSheet.getAnimation(a);c&&(this._animation=c,this.currentAnimation=a,this._normalizeFrame(b))}else this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()};createjs.Sprite=createjs.promote(b,"DisplayObject")})();
this.createjs=this.createjs||{};
(function(){function b(a){this.DisplayObject_constructor();this.graphics=a?a:new createjs.Graphics}var c=createjs.extend(b,createjs.DisplayObject);c.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this.graphics.draw(a,this),!0)};c.clone=function(a){a=a&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new b(a))};
c.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.DisplayObject_constructor();this.text=a;this.font=b;this.color=c;this.textAlign="left";this.textBaseline="top";this.maxWidth=null;this.lineHeight=this.outline=0;this.lineWidth=null}var c=createjs.extend(b,createjs.DisplayObject),a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(b._workingContext=a.getContext("2d"),a.width=a.height=1);b.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1};b.V_OFFSETS={top:0,hanging:-.01,
middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1};c.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.color||"#000";return this.outline?(a.strokeStyle=c,a.lineWidth=1*this.outline):a.fillStyle=c,this._drawText(this._prepContext(a)),!0};c.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)};c.getMeasuredLineHeight=
function(){return 1.2*this._getMeasuredWidth("M")};c.getMeasuredHeight=function(){return this._drawText(null,{}).height};c.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;if(null==this.text||""===this.text)return null;var a=this._drawText(null,{}),c=this.maxWidth&&this.maxWidth<a.width?this.maxWidth:a.width,e=c*b.H_OFFSETS[this.textAlign||"left"],d=(this.lineHeight||this.getMeasuredLineHeight())*b.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,d,c,a.height)};
c.getMetrics=function(){var a={lines:[]};return a.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),a.vOffset=a.lineHeight*b.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,a,a.lines)};c.clone=function(){return this._cloneProps(new b(this.text,this.font,this.color))};c.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};c._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.textAlign=this.textAlign,a.textBaseline=
this.textBaseline,a.maxWidth=this.maxWidth,a.outline=this.outline,a.lineHeight=this.lineHeight,a.lineWidth=this.lineWidth,a};c._prepContext=function(a){return a.font=this.font||"10px sans-serif",a.textAlign=this.textAlign||"left",a.textBaseline=this.textBaseline||"top",a};c._drawText=function(a,c,e){var d=!!a;d||(a=b._workingContext,a.save(),this._prepContext(a));for(var f=this.lineHeight||this.getMeasuredLineHeight(),h=0,l=0,m=String(this.text).split(/(?:\r\n|\r|\n)/),n=0,p=m.length;p>n;n++){var r=
m[n],q=null;if(null!=this.lineWidth&&(q=a.measureText(r).width)>this.lineWidth)for(var t=r.split(/(\s)/),r=t[0],q=a.measureText(r).width,u=1,v=t.length;v>u;u+=2){var w=a.measureText(t[u]+t[u+1]).width;q+w>this.lineWidth?(d&&this._drawTextLine(a,r,l*f),e&&e.push(r),q>h&&(h=q),r=t[u+1],q=a.measureText(r).width,l++):(r+=t[u]+t[u+1],q+=w)}d&&this._drawTextLine(a,r,l*f);e&&e.push(r);c&&null==q&&(q=a.measureText(r).width);q>h&&(h=q);l++}return c&&(c.width=h,c.height=l*f),d||a.restore(),c};c._drawTextLine=
function(a,b,c){this.outline?a.strokeText(b,0,c,this.maxWidth||65535):a.fillText(b,0,c,this.maxWidth||65535)};c._getMeasuredWidth=function(a){var c=b._workingContext;c.save();a=this._prepContext(c).measureText(a).width;return c.restore(),a};createjs.Text=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.Container_constructor();this.text=a||"";this.spriteSheet=b;this.spaceWidth=this.letterSpacing=this.lineHeight=0;this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var c=createjs.extend(b,createjs.Container);b.maxPoolSize=100;b._spritePool=[];c.draw=function(a,b){this.DisplayObject_draw(a,b)||(this._updateText(),this.Container_draw(a,b))};c.getBounds=function(){return this._updateText(),this.Container_getBounds()};c.isVisible=function(){var a=
this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&0<this.alpha&&0!==this.scaleX&&0!==this.scaleY&&a)};c.clone=function(){return this._cloneProps(new b(this.text,this.spriteSheet))};c.addChild=c.addChildAt=c.removeChild=c.removeChildAt=c.removeAllChildren=function(){};c._cloneProps=function(a){return this.Container__cloneProps(a),a.lineHeight=this.lineHeight,a.letterSpacing=this.letterSpacing,a.spaceWidth=this.spaceWidth,a};c._getFrameIndex=function(a,
b){var c,e=b.getAnimation(a);return e||(a!=(c=a.toUpperCase())||a!=(c=a.toLowerCase())||(c=null),c&&(e=b.getAnimation(c))),e&&e.frames[0]};c._getFrame=function(a,b){var c=this._getFrameIndex(a,b);return null==c?c:b.getFrame(c)};c._getLineHeight=function(a){return(a=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0))?a.rect.height:1};c._getSpaceWidth=function(a){return(a=this._getFrame("1",a)||this._getFrame("l",a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0))?
a.rect.width:1};c._updateText=function(){var a,c=0,k=0,e=this._oldProps,d=!1,f=this.spaceWidth,h=this.lineHeight,l=this.spriteSheet,m=b._spritePool,n=this.children,p=0,r=n.length,q;for(q in e)e[q]!=this[q]&&(e[q]=this[q],d=!0);if(d){(e=!!this._getFrame(" ",l))||f||(f=this._getSpaceWidth(l));h||(h=this._getLineHeight(l));d=0;for(q=this.text.length;q>d;d++){var t=this.text.charAt(d);" "!=t||e?"\n"!=t&&"\r"!=t?(t=this._getFrameIndex(t,l),null!=t&&(r>p?a=n[p]:(n.push(a=m.length?m.pop():new createjs.Sprite),
a.parent=this,r++),a.spriteSheet=l,a.gotoAndStop(t),a.x=c,a.y=k,p++,c+=a.getBounds().width+this.letterSpacing)):("\r"==t&&"\n"==this.text.charAt(d+1)&&d++,c=0,k+=h):c+=f}for(;r>p;)m.push(a=n.pop()),a.parent=null,r--;m.length>b.maxPoolSize&&(m.length=b.maxPoolSize)}};createjs.BitmapText=createjs.promote(b,"Container")})();this.createjs=this.createjs||{};
(function(){function b(a,c,e,d){this.Container_constructor();!b.inited&&b.init();this.mode=a||b.INDEPENDENT;this.startPosition=c||0;this.loop=e;this.currentFrame=0;this.timeline=new createjs.Timeline(null,d,{paused:!0,position:c,useTicks:!0});this.paused=!1;this.autoReset=this.actionsEnabled=!0;this.frameBounds=this.frameBounds||null;this.framerate=null;this._synchOffset=0;this._prevPos=-1;this._t=this._prevPosition=0;this._managed={}}function c(){throw"MovieClipPlugin cannot be instantiated.";}var a=
createjs.extend(b,createjs.Container);b.INDEPENDENT="independent";b.SINGLE_FRAME="single";b.SYNCHED="synched";b.inited=!1;b.init=function(){b.inited||(c.install(),b.inited=!0)};a.getLabels=function(){return this.timeline.getLabels()};a.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()};a.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(a,{labels:{get:a.getLabels},currentLabel:{get:a.getCurrentLabel},totalFrames:{get:a.getDuration},
duration:{get:a.getDuration}})}catch(g){}a.initialize=b;a.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};a.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this._updateTimeline(),this.Container_draw(a,b),!0)};a.play=function(){this.paused=!1};a.stop=function(){this.paused=!0};a.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};a.gotoAndStop=function(a){this.paused=!0;this._goto(a)};a.advance=function(a){var c=b.INDEPENDENT;if(this.mode==c){for(var e=
this,d=e.framerate;(e=e.parent)&&null==d;)e.mode==c&&(d=e._framerate);this._framerate=d;a=null!=d&&-1!=d&&null!=a?a/(1E3/d)+this._t:1;c=0|a;for(this._t=a-c;!this.paused&&c--;)this._prevPosition=0>this._prevPos?0:this._prevPosition+1,this._updateTimeline()}};a.clone=function(){throw"MovieClip cannot be cloned.";};a.toString=function(){return"[MovieClip (name="+this.name+")]"};a._tick=function(a){this.advance(a&&a.delta);this.Container__tick(a)};a._goto=function(a){a=this.timeline.resolve(a);null!=
a&&(-1==this._prevPos&&(this._prevPos=0/0),this._prevPosition=a,this._t=0,this._updateTimeline())};a._reset=function(){this._prevPos=-1;this._t=this.currentFrame=0;this.paused=!1};a._updateTimeline=function(){var a=this.timeline,c=this.mode!=b.INDEPENDENT;a.loop=null==this.loop?!0:this.loop;var e=c?this.startPosition+(this.mode==b.SINGLE_FRAME?0:this._synchOffset):0>this._prevPos?0:this._prevPosition,c=c||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=a._calcPosition(e),a.setPosition(e,
c),this._prevPosition=a._prevPosition,this._prevPos!=a._prevPos){this.currentFrame=this._prevPos=a._prevPos;for(var d in this._managed)this._managed[d]=1;e=a._tweens;a=0;for(d=e.length;d>a;a++){var f=e[a],c=f._target;c==this||f.passive||(f=f._stepPosition,c instanceof createjs.DisplayObject?this._addManagedChild(c,f):this._setState(c.state,f))}e=this.children;for(a=e.length-1;0<=a;a--)d=e[a].id,1==this._managed[d]&&(this.removeChildAt(a),delete this._managed[d])}};a._setState=function(a,b){if(a)for(var c=
a.length-1;0<=c;c--){var d=a[c],f=d.t,d=d.p,h;for(h in d)f[h]=d[h];this._addManagedChild(f,b)}};a._addManagedChild=function(a,c){a._off||(this.addChildAt(a,0),a instanceof b&&(a._synchOffset=c,a.mode==b.INDEPENDENT&&a.autoReset&&!this._managed[a.id]&&a._reset()),this._managed[a.id]=2)};a._getBounds=function(a,b){var c=this.DisplayObject_getBounds();return c||(this._updateTimeline(),this.frameBounds&&(c=this._rectangle.copy(this.frameBounds[this.currentFrame]))),c?this._transformBounds(c,a,b):this.Container__getBounds(a,
b)};createjs.MovieClip=createjs.promote(b,"Container");c.priority=100;c.install=function(){createjs.Tween.installPlugin(c,["startPosition"])};c.init=function(a,b,c){return c};c.step=function(){};c.tween=function(a,c,e,d,f,h){return a.target instanceof b?1==h?f[c]:d[c]:e}})();this.createjs=this.createjs||{};
(function(){function b(){throw"SpriteSheetUtils cannot be instantiated";}var c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.getContext&&(b._workingCanvas=c,b._workingContext=c.getContext("2d"),c.width=c.height=1);b.addFlippedFrames=function(a,c,k,e){if(c||k||e){var d=0;c&&b._flip(a,++d,!0,!1);k&&b._flip(a,++d,!1,!0);e&&b._flip(a,++d,!0,!0)}};b.extractFrame=function(a,c){isNaN(c)&&(c=a.getAnimation(c).frames[0]);var k=a.getFrame(c);if(!k)return null;var e=k.rect,
d=b._workingCanvas;d.width=e.width;d.height=e.height;b._workingContext.drawImage(k.image,e.x,e.y,e.width,e.height,0,0,e.width,e.height);k=document.createElement("img");return k.src=d.toDataURL("image/png"),k};b.mergeAlpha=function(a,b,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(b.width,a.width);c.height=Math.max(b.height,a.height);var e=c.getContext("2d");return e.save(),e.drawImage(a,0,0),e.globalCompositeOperation="destination-in",e.drawImage(b,
0,0),e.restore(),c};b._flip=function(a,c,k,e){for(var d=a._images,f=b._workingCanvas,h=b._workingContext,l=d.length/c,m=0;l>m;m++){var n=d[m];n.__tmp=m;h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,f.width+1,f.height+1);f.width=n.width;f.height=n.height;h.setTransform(k?-1:1,0,0,e?-1:1,k?n.width:0,e?n.height:0);h.drawImage(n,0,0);var p=document.createElement("img");p.src=f.toDataURL("image/png");p.width=n.width;p.height=n.height;d.push(p)}h=a._frames;f=h.length/c;for(m=0;f>m;m++){var n=h[m],r=n.rect.clone(),
p=d[n.image.__tmp+l*c],q={image:p,rect:r,regX:n.regX,regY:n.regY};k&&(r.x=p.width-r.x-r.width,q.regX=r.width-n.regX);e&&(r.y=p.height-r.y-r.height,q.regY=r.height-n.regY);h.push(q)}k="_"+(k?"h":"")+(e?"v":"");e=a._animations;a=a._data;d=e.length/c;for(m=0;d>m;m++){h=e[m];n=a[h];l={name:h+k,speed:n.speed,next:n.next,frames:[]};n.next&&(l.next+=k);h=n.frames;n=0;for(p=h.length;p>n;n++)l.frames.push(h[n]+f*c);a[l.name]=l;e.push(l.name)}};createjs.SpriteSheetUtils=b})();this.createjs=this.createjs||{};
(function(){function b(a){this.EventDispatcher_constructor();this.maxHeight=this.maxWidth=2048;this.spriteSheet=null;this.padding=this.scale=1;this.timeSlice=.3;this.progress=-1;this.framerate=a||0;this._frames=[];this._animations={};this._data=null;this._index=this._nextFrameIndex=0;this._timerID=null;this._scale=1}var c=createjs.extend(b,createjs.EventDispatcher);b.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";b.ERR_RUNNING="a build is already running";c.addFrame=function(a,
c,k,e,d){if(this._data)throw b.ERR_RUNNING;c=c||a.bounds||a.nominalBounds;return!c&&a.getBounds&&(c=a.getBounds()),c?(k=k||1,this._frames.push({source:a,sourceRect:c,scale:k,funct:e,data:d,index:this._frames.length,height:c.height*k})-1):null};c.addAnimation=function(a,c,k,e){if(this._data)throw b.ERR_RUNNING;this._animations[a]={frames:c,next:k,speed:e}};c.addMovieClip=function(a,c,k,e,d,f){if(this._data)throw b.ERR_RUNNING;var h=a.frameBounds,l=c||a.bounds||a.nominalBounds;if(!l&&a.getBounds&&(l=
a.getBounds()),l||h){var m,n;c=this._frames.length;var p=a.timeline.duration;for(m=0;p>m;m++)this.addFrame(a,h&&h[m]?h[m]:l,k,this._setupMovieClipFrame,{i:m,f:e,d:d});m=a.timeline._labels;k=[];for(n in m)k.push({index:m[n],label:n});if(k.length)for(k.sort(function(a,b){return a.index-b.index}),m=0,n=k.length;n>m;m++){e=k[m].label;d=c+k[m].index;for(var h=c+(m==n-1?p:k[m+1].index),l=[],r=d;h>r;r++)l.push(r);f&&!(e=f(e,a,d,h))||this.addAnimation(e,l,!0)}}};c.build=function(){if(this._data)throw b.ERR_RUNNING;
for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};c.buildAsync=function(a){if(this._data)throw b.ERR_RUNNING;this.timeSlice=a;this._startBuild();var c=this;this._timerID=setTimeout(function(){c._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))};c.stopAsync=function(){clearTimeout(this._timerID);this._data=null};c.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};c.toString=function(){return"[SpriteSheetBuilder]"};c._startBuild=function(){var a=
this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var c=[];this._data={images:[],frames:c,framerate:this.framerate,animations:this._animations};var k=this._frames.slice();if(k.sort(function(a,b){return a.height<=b.height?-1:1}),k[k.length-1].height+2*a>this.maxHeight)throw b.ERR_DIMENSIONS;for(var e=0,d=0,f=0;k.length;){var h=this._fillRow(k,e,f,c,a);if(h.w>d&&(d=h.w),e+=h.h,!h.h||!k.length){var l=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");
l.width=this._getSize(d,this.maxWidth);l.height=this._getSize(e,this.maxHeight);this._data.images[f]=l;h.h||(d=e=0,f++)}}};c._setupMovieClipFrame=function(a,b){var c=a.actionsEnabled;a.actionsEnabled=!1;a.gotoAndStop(b.i);a.actionsEnabled=c;b.f&&b.f(a,b.d,b.i)};c._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))};c._fillRow=function(a,c,k,e,d){var f=this.maxWidth,h=this.maxHeight;c+=d;for(var h=h-c,l=d,m=0,n=a.length-1;0<=n;n--){var p=a[n],r=this._scale*p.scale,
q=p.sourceRect,t=p.source,u=Math.floor(r*q.x-d),v=Math.floor(r*q.y-d),w=Math.ceil(r*q.height+2*d),q=Math.ceil(r*q.width+2*d);if(q>f)throw b.ERR_DIMENSIONS;w>h||l+q>f||(p.img=k,p.rect=new createjs.Rectangle(l,c,q,w),m=m||w,a.splice(n,1),e[p.index]=[l,c,q,w,k,Math.round(-u+r*t.regX-d),Math.round(-v+r*t.regY-d)],l+=q)}return{w:l,h:m}};c._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};c._run=function(){for(var a=
50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),b=(new Date).getTime()+a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var e=this;this._timerID=setTimeout(function(){e._run()},50-a)}a=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(b=new createjs.Event("progress"),b.progress=a,this.dispatchEvent(b))};c._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,e=a.sourceRect,d=this._data.images[a.img].getContext("2d");
return a.funct&&a.funct(a.source,a.data),d.save(),d.beginPath(),d.rect(c.x,c.y,c.width,c.height),d.clip(),d.translate(Math.ceil(c.x-e.x*b),Math.ceil(c.y-e.y*b)),d.scale(b,b),a.source.draw(d),d.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a){this.DisplayObject_constructor();"string"==typeof a&&(a=document.getElementById(a));this.mouseEnabled=!1;var b=a.style;b.position="absolute";b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%";this.htmlElement=a;this._oldProps=null}var c=createjs.extend(b,createjs.DisplayObject);c.isVisible=function(){return null!=this.htmlElement};c.draw=function(){return!0};c.cache=function(){};c.uncache=function(){};c.updateCache=
function(){};c.hitTest=function(){};c.localToGlobal=function(){};c.globalToLocal=function(){};c.localToLocal=function(){};c.clone=function(){throw"DOMElement cannot be cloned.";};c.toString=function(){return"[DOMElement (name="+this.name+")]"};c._tick=function(a){var b=this.getStage();b&&b.on("drawend",this._handleDrawEnd,this,!0);this.DisplayObject__tick(a)};c._handleDrawEnd=function(){var a=this.htmlElement;if(a){var a=a.style,b=this.getConcatenatedDisplayProps(this._props),c=b.matrix,e=b.visible?
"visible":"hidden";if(e!=a.visibility&&(a.visibility=e),b.visible){var d=(e=this._oldProps)&&e.matrix;d&&d.equals(c)||(d="matrix("+(1E4*c.a|0)/1E4+","+(1E4*c.b|0)/1E4+","+(1E4*c.c|0)/1E4+","+(1E4*c.d|0)/1E4+","+(c.tx+.5|0),a.transform=a.WebkitTransform=a.OTransform=a.msTransform=d+","+(c.ty+.5|0)+")",a.MozTransform=d+"px,"+(c.ty+.5|0)+"px)",e||(e=this._oldProps=new createjs.DisplayProps(!0,0/0)),e.matrix.copy(c));e.alpha!=b.alpha&&(a.opacity=""+(1E4*b.alpha|0)/1E4,e.alpha=b.alpha)}}};createjs.DOMElement=
createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};(function(){function b(){}var c=b.prototype;c.getBounds=function(a){return a};c.applyFilter=function(a,b,c,e,d,f,h,l){f=f||a;null==h&&(h=b);null==l&&(l=c);try{var m=a.getImageData(b,c,e,d)}catch(n){return!1}return this._applyFilter(m)?(f.putImageData(m,h,l),!0):!1};c.toString=function(){return"[Filter]"};c.clone=function(){return new b};c._applyFilter=function(){return!0};createjs.Filter=b})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){(isNaN(a)||0>a)&&(a=0);(isNaN(b)||0>b)&&(b=0);(isNaN(c)||1>c)&&(c=1);this.blurX=0|a;this.blurY=0|b;this.quality=0|c}var c=createjs.extend(b,createjs.Filter);b.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,
413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,
307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];b.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,
16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];c.getBounds=function(a){var b=0|this.blurX,c=0|this.blurY;if(0>=
b&&0>=c)return a;var e=Math.pow(this.quality,.2);return(a||new createjs.Rectangle).pad(b*e+1,c*e+1,b*e+1,c*e+1)};c.clone=function(){return new b(this.blurX,this.blurY,this.quality)};c.toString=function(){return"[BlurFilter]"};c._applyFilter=function(a){var c=this.blurX>>1;if(isNaN(c)||0>c)return!1;var k=this.blurY>>1;if(isNaN(k)||0>k||0==c&&0==k)return!1;var e=this.quality;(isNaN(e)||1>e)&&(e=1);e|=0;3<e&&(e=3);1>e&&(e=1);var d=a.data,f=0,h=0,l=0,m=0,n=0,p=0,r=0,q=0,t=0,u=0,v=0,w=0,B=0,C=0,n=0,q=
c+c+1|0,p=k+k+1|0,x=0|a.width;a=0|a.height;for(var G=x-1|0,F=a-1|0,E=c+1|0,D=k+1|0,H={r:0,b:0,g:0,a:0},f=H,l=1;q>l;l++)f=f.n={r:0,b:0,g:0,a:0};f.n=H;for(var I={r:0,b:0,g:0,a:0},h=I,l=1;p>l;l++)h=h.n={r:0,b:0,g:0,a:0};h.n=I;for(var l=null,y=0|b.MUL_TABLE[c],J=0|b.SHG_TABLE[c],K=0|b.MUL_TABLE[k],L=0|b.SHG_TABLE[k];0<e--;){for(var r=p=0,z=y,A=J,h=a;-1<--h;){q=E*(w=d[0|p]);t=E*(B=d[p+1|0]);u=E*(C=d[p+2|0]);v=E*(n=d[p+3|0]);f=H;for(l=E;-1<--l;)f.r=w,f.g=B,f.b=C,f.a=n,f=f.n;for(l=1;E>l;l++)m=p+((l>G?G:
l)<<2)|0,q+=f.r=d[m],t+=f.g=d[m+1],u+=f.b=d[m+2],v+=f.a=d[m+3],f=f.n;l=H;for(f=0;x>f;f++)d[p++]=q*z>>>A,d[p++]=t*z>>>A,d[p++]=u*z>>>A,d[p++]=v*z>>>A,m=r+((m=f+c+1)<G?m:G)<<2,q-=l.r-(l.r=d[m]),t-=l.g-(l.g=d[m+1]),u-=l.b-(l.b=d[m+2]),v-=l.a-(l.a=d[m+3]),l=l.n;r+=x}z=K;A=L;for(f=0;x>f;f++){p=f<<2|0;q=D*(w=d[p])|0;t=D*(B=d[p+1|0])|0;u=D*(C=d[p+2|0])|0;v=D*(n=d[p+3|0])|0;h=I;for(l=0;D>l;l++)h.r=w,h.g=B,h.b=C,h.a=n,h=h.n;n=x;for(l=1;k>=l;l++)p=n+f<<2,q+=h.r=d[p],t+=h.g=d[p+1],u+=h.b=d[p+2],v+=h.a=d[p+3],
h=h.n,F>l&&(n+=x);if(p=f,l=I,0<e)for(h=0;a>h;h++)m=p<<2,d[m+3]=n=v*z>>>A,0<n?(d[m]=q*z>>>A,d[m+1]=t*z>>>A,d[m+2]=u*z>>>A):d[m]=d[m+1]=d[m+2]=0,m=f+((m=h+D)<F?m:F)*x<<2,q-=l.r-(l.r=d[m]),t-=l.g-(l.g=d[m+1]),u-=l.b-(l.b=d[m+2]),v-=l.a-(l.a=d[m+3]),l=l.n,p+=x;else for(h=0;a>h;h++)m=p<<2,d[m+3]=n=v*z>>>A,0<n?(n=255/n,d[m]=(q*z>>>A)*n,d[m+1]=(t*z>>>A)*n,d[m+2]=(u*z>>>A)*n):d[m]=d[m+1]=d[m+2]=0,m=f+((m=h+D)<F?m:F)*x<<2,q-=l.r-(l.r=d[m]),t-=l.g-(l.g=d[m+1]),u-=l.b-(l.b=d[m+2]),v-=l.a-(l.a=d[m+3]),l=l.n,
p+=x}}return!0};createjs.BlurFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a){this.alphaMap=a;this._mapData=this._alphaMap=null}var c=createjs.extend(b,createjs.Filter);c.clone=function(){var a=new b(this.alphaMap);return a._alphaMap=this._alphaMap,a._mapData=this._mapData,a};c.toString=function(){return"[AlphaMapFilter]"};c._applyFilter=function(a){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;a=a.data;for(var b=this._mapData,c=0,e=a.length;e>c;c+=4)a[c+3]=b[c]||0;return!0};c._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==
this._alphaMap&&this._mapData)return!0;this._mapData=null;var a,b=this._alphaMap=this.alphaMap,c=b;b instanceof HTMLCanvasElement?a=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=b.width,c.height=b.height,a=c.getContext("2d"),a.drawImage(b,0,0));try{var e=a.getImageData(0,0,b.width,b.height)}catch(d){return!1}return this._mapData=e.data,!0};createjs.AlphaMapFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a){this.mask=a}var c=createjs.extend(b,createjs.Filter);c.applyFilter=function(a,b,c,e,d,f,h,l){return this.mask?(f=f||a,null==h&&(h=b),null==l&&(l=c),f.save(),a!=f?!1:(f.globalCompositeOperation="destination-in",f.drawImage(this.mask,h,l),f.restore(),!0)):!0};c.clone=function(){return new b(this.mask)};c.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,e,d,f,h,l){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=b?b:1;this.blueMultiplier=null!=c?c:1;this.alphaMultiplier=null!=e?e:1;this.redOffset=d||0;this.greenOffset=f||0;this.blueOffset=h||0;this.alphaOffset=l||0}var c=createjs.extend(b,createjs.Filter);c.toString=function(){return"[ColorFilter]"};c.clone=function(){return new b(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,
this.alphaOffset)};c._applyFilter=function(a){a=a.data;for(var b=a.length,c=0;b>c;c+=4)a[c]=a[c]*this.redMultiplier+this.redOffset,a[c+1]=a[c+1]*this.greenMultiplier+this.greenOffset,a[c+2]=a[c+2]*this.blueMultiplier+this.blueOffset,a[c+3]=a[c+3]*this.alphaMultiplier+this.alphaOffset;return!0};createjs.ColorFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,e){this.setColor(a,b,c,e)}var c=b.prototype;b.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];b.IDENTITY_MATRIX=
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];b.LENGTH=b.IDENTITY_MATRIX.length;c.setColor=function(a,b,c,e){return this.reset().adjustColor(a,b,c,e)};c.reset=function(){return this.copy(b.IDENTITY_MATRIX)};c.adjustColor=function(a,b,c,e){return this.adjustHue(e),this.adjustContrast(b),this.adjustBrightness(a),this.adjustSaturation(c)};c.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),
this)};c.adjustContrast=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var c;return 0>a?c=127+a/100*127:(c=a%1,c=0==c?b.DELTA_INDEX[a]:b.DELTA_INDEX[a<<0]*(1-c)+b.DELTA_INDEX[(a<<0)+1]*c,c=127*c+127),this._multiplyMatrix([c/127,0,0,0,.5*(127-c),0,c/127,0,0,.5*(127-c),0,0,c/127,0,.5*(127-c),0,0,0,1,0,0,0,0,0,1]),this};c.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);a=1+(0<a?3*a/100:a/100);return this._multiplyMatrix([.3086*(1-a)+a,.6094*(1-
a),.082*(1-a),0,0,.3086*(1-a),.6094*(1-a)+a,.082*(1-a),0,0,.3086*(1-a),.6094*(1-a),.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]),this};c.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a);a=Math.sin(a);return this._multiplyMatrix([.213+.787*b+-.213*a,.715+-.715*b+-.715*a,.072+-.072*b+.928*a,0,0,.213+-.213*b+.143*a,.715+b*(1-.715)+.14*a,.072+-.072*b+-.283*a,0,0,.213+-.213*b+-.787*a,.715+-.715*b+.715*a,.072+.928*b+.072*a,0,0,0,0,0,1,0,0,0,0,0,1]),this};
c.concat=function(a){return a=this._fixMatrix(a),a.length!=b.LENGTH?this:(this._multiplyMatrix(a),this)};c.clone=function(){return(new b).copy(this)};c.toArray=function(){for(var a=[],c=0,k=b.LENGTH;k>c;c++)a[c]=this[c];return a};c.copy=function(a){for(var c=b.LENGTH,k=0;c>k;k++)this[k]=a[k];return this};c.toString=function(){return"[ColorMatrix]"};c._multiplyMatrix=function(a){var b,c,e,d=[];for(b=0;5>b;b++){for(c=0;5>c;c++)d[c]=this[c+5*b];for(c=0;5>c;c++){var f=0;for(e=0;5>e;e++)f+=a[c+5*e]*d[e];
this[c+5*b]=f}}};c._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};c._fixMatrix=function(a){return a instanceof b&&(a=a.toArray()),a.length<b.LENGTH?a=a.slice(0,a.length).concat(b.IDENTITY_MATRIX.slice(a.length,b.LENGTH)):a.length>b.LENGTH&&(a=a.slice(0,b.LENGTH)),a};createjs.ColorMatrix=b})();this.createjs=this.createjs||{};
(function(){function b(a){this.matrix=a}var c=createjs.extend(b,createjs.Filter);c.toString=function(){return"[ColorMatrixFilter]"};c.clone=function(){return new b(this.matrix)};c._applyFilter=function(a){var b,c,e,d;a=a.data;var f=a.length;b=this.matrix;for(var h=b[0],l=b[1],m=b[2],n=b[3],p=b[4],r=b[5],q=b[6],t=b[7],u=b[8],v=b[9],w=b[10],B=b[11],C=b[12],x=b[13],G=b[14],F=b[15],E=b[16],D=b[17],H=b[18],I=b[19],y=0;f>y;y+=4)b=a[y],c=a[y+1],e=a[y+2],d=a[y+3],a[y]=b*h+c*l+e*m+d*n+p,a[y+1]=b*r+c*q+e*t+
d*u+v,a[y+2]=b*w+c*B+e*C+d*x+G,a[y+3]=b*F+c*E+e*D+d*H+I;return!0};createjs.ColorMatrixFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(){throw"Touch cannot be instantiated";}b.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints)};b.enable=function(c,a,g){return c&&c.canvas&&b.isSupported()?c.__touch?!0:(c.__touch={pointers:{},multitouch:!a,preventDefault:!g,count:0},"ontouchstart"in window?b._IOS_enable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&
b._IE_enable(c),!0):!1};b.disable=function(c){c&&("ontouchstart"in window?b._IOS_disable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&b._IE_disable(c),delete c.__touch)};b._IOS_enable=function(c){var a=c.canvas,g=c.__touch.f=function(a){b._IOS_handleEvent(c,a)};a.addEventListener("touchstart",g,!1);a.addEventListener("touchmove",g,!1);a.addEventListener("touchend",g,!1);a.addEventListener("touchcancel",g,!1)};b._IOS_disable=function(b){var a=b.canvas;a&&(b=b.__touch.f,
a.removeEventListener("touchstart",b,!1),a.removeEventListener("touchmove",b,!1),a.removeEventListener("touchend",b,!1),a.removeEventListener("touchcancel",b,!1))};b._IOS_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var g=a.changedTouches,k=a.type,e=0,d=g.length;d>e;e++){var f=g[e],h=f.identifier;f.target==b.canvas&&("touchstart"==k?this._handleStart(b,h,a,f.pageX,f.pageY):"touchmove"==k?this._handleMove(b,h,a,f.pageX,f.pageY):("touchend"==k||
"touchcancel"==k)&&this._handleEnd(b,h,a))}}};b._IE_enable=function(c){var a=c.canvas,g=c.__touch.f=function(a){b._IE_handleEvent(c,a)};void 0===window.navigator.pointerEnabled?(a.addEventListener("MSPointerDown",g,!1),window.addEventListener("MSPointerMove",g,!1),window.addEventListener("MSPointerUp",g,!1),window.addEventListener("MSPointerCancel",g,!1),c.__touch.preventDefault&&(a.style.msTouchAction="none")):(a.addEventListener("pointerdown",g,!1),window.addEventListener("pointermove",g,!1),window.addEventListener("pointerup",
g,!1),window.addEventListener("pointercancel",g,!1),c.__touch.preventDefault&&(a.style.touchAction="none"));c.__touch.activeIDs={}};b._IE_disable=function(b){var a=b.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",a,!1),window.removeEventListener("MSPointerUp",a,!1),window.removeEventListener("MSPointerCancel",a,!1),b.canvas&&b.canvas.removeEventListener("MSPointerDown",a,!1)):(window.removeEventListener("pointermove",a,!1),window.removeEventListener("pointerup",
a,!1),window.removeEventListener("pointercancel",a,!1),b.canvas&&b.canvas.removeEventListener("pointerdown",a,!1))};b._IE_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();var g=a.type,k=a.pointerId,e=b.__touch.activeIDs;"MSPointerDown"==g||"pointerdown"==g?a.srcElement==b.canvas&&(e[k]=!0,this._handleStart(b,k,a,a.pageX,a.pageY)):e[k]&&("MSPointerMove"==g||"pointermove"==g?this._handleMove(b,k,a,a.pageX,a.pageY):("MSPointerUp"==g||"MSPointerCancel"==g||
"pointerup"==g||"pointercancel"==g)&&(delete e[k],this._handleEnd(b,k,a)))}};b._handleStart=function(b,a,g,k,e){var d=b.__touch;if(d.multitouch||!d.count){var f=d.pointers;f[a]||(f[a]=!0,d.count++,b._handlePointerDown(a,g,k,e))}};b._handleMove=function(b,a,g,k,e){b.__touch.pointers[a]&&b._handlePointerMove(a,g,k,e)};b._handleEnd=function(b,a,g){var k=b.__touch,e=k.pointers;e[a]&&(k.count--,b._handlePointerUp(a,g,!0),delete e[a])};createjs.Touch=b})();this.createjs=this.createjs||{};
(function(){var b=createjs.EaselJS=createjs.EaselJS||{};b.version="0.8.2";b.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(b,c){function a(){this.constructor=b}return a.prototype=c.prototype,b.prototype=new a};this.createjs=this.createjs||{};
createjs.promote=function(b,c){var a=b.prototype,g=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(g){a[(c+="_")+"constructor"]=g.constructor;for(var k in g)a.hasOwnProperty(k)&&"function"==typeof g[k]&&(a[c+k]=g[k])}return b};this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!b;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};c.stopPropagation=function(){this.propagationStopped=!0};c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};c.remove=function(){this.removed=!0};c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)};c.set=function(a){for(var b in a)this[b]=a[b];return this};c.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=b})();this.createjs=this.createjs||{};
(function(){function b(){this._captureListeners=this._listeners=null}var c=b.prototype;b.initialize=function(a){a.addEventListener=c.addEventListener;a.on=c.on;a.removeEventListener=a.off=c.removeEventListener;a.removeAllEventListeners=c.removeAllEventListeners;a.hasEventListener=c.hasEventListener;a.dispatchEvent=c.dispatchEvent;a._dispatchEvent=c._dispatchEvent;a.willTrigger=c.willTrigger};c.addEventListener=function(a,b,c){var e;e=c?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var d=e[a];return d&&this.removeEventListener(a,b,c),d=e[a],d?d.push(b):e[a]=[b],b};c.on=function(a,b,c,e,d,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,d);e&&a.remove()},f)};c.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var e=c[a];if(e)for(var d=0,f=e.length;f>d;d++)if(e[d]==b){1==f?delete c[a]:e.splice(d,1);break}}};c.off=c.removeEventListener;c.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};c.dispatchEvent=function(a,b,c){if("string"==typeof a){var e=this._listeners;if(!(b||e&&e[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(d){}if(a.bubbles&&this.parent){c=this;for(b=[c];c.parent;)b.push(c=c.parent);e=b.length;for(c=e-1;0<=c&&!a.propagationStopped;c--)b[c]._dispatchEvent(a,1+(0==c));
for(c=1;e>c&&!a.propagationStopped;c++)b[c]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};c.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};c.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};c.toString=function(){return"[EventDispatcher]"};c._dispatchEvent=function(a,b){var c,e=1==b?this._captureListeners:this._listeners;if(a&&e&&(e=e[a.type])&&(c=e.length)){try{a.currentTarget=
this}catch(h){}try{a.eventPhase=b}catch(h){}a.removed=!1;for(var e=e.slice(),d=0;c>d&&!a.immediatePropagationStopped;d++){var f=e[d];f.handleEvent?f.handleEvent(a):f(a);a.removed&&(this.off(a.type,f,1==b),a.removed=!1)}}};createjs.EventDispatcher=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"Ticker cannot be instantiated.";}b.RAF_SYNCHED="synched";b.RAF="raf";b.TIMEOUT="timeout";b.useRAF=!1;b.timingMode=null;b.maxDelta=0;b.paused=!1;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;createjs.EventDispatcher.initialize(b);b._addEventListener=b.addEventListener;b.addEventListener=function(){return!b._inited&&b.init(),b._addEventListener.apply(b,arguments)};b._inited=!1;b._startTime=0;b._pausedTime=
0;b._ticks=0;b._pausedTicks=0;b._interval=50;b._lastTime=0;b._times=null;b._tickTimes=null;b._timerId=null;b._raf=!0;b.setInterval=function(a){b._interval=a;b._inited&&b._setupTick()};b.getInterval=function(){return b._interval};b.setFPS=function(a){b.setInterval(1E3/a)};b.getFPS=function(){return 1E3/b._interval};try{Object.defineProperties(b,{interval:{get:b.getInterval,set:b.setInterval},framerate:{get:b.getFPS,set:b.setFPS}})}catch(a){console.log(a)}b.init=function(){b._inited||(b._inited=!0,
b._times=[],b._tickTimes=[],b._startTime=b._getTime(),b._times.push(b._lastTime=0),b.interval=b._interval)};b.reset=function(){if(b._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(b._timerId)}else clearTimeout(b._timerId);b.removeAllEventListeners("tick");b._timerId=b._times=b._tickTimes=null;b._startTime=b._lastTime=b._ticks=0;b._inited=!1};b.getMeasuredTickTime=function(a){var c=
0,k=b._tickTimes;if(!k||1>k.length)return-1;a=Math.min(k.length,a||0|b.getFPS());for(var e=0;a>e;e++)c+=k[e];return c/a};b.getMeasuredFPS=function(a){var c=b._times;return!c||2>c.length?-1:(a=Math.min(c.length-1,a||0|b.getFPS()),1E3/((c[0]-c[a])/a))};b.setPaused=function(a){b.paused=a};b.getPaused=function(){return b.paused};b.getTime=function(a){return b._startTime?b._getTime()-(a?b._pausedTime:0):-1};b.getEventTime=function(a){return b._startTime?(b._lastTime||b._startTime)-(a?b._pausedTime:0):
-1};b.getTicks=function(a){return b._ticks-(a?b._pausedTicks:0)};b._handleSynch=function(){b._timerId=null;b._setupTick();b._getTime()-b._lastTime>=.97*(b._interval-1)&&b._tick()};b._handleRAF=function(){b._timerId=null;b._setupTick();b._tick()};b._handleTimeout=function(){b._timerId=null;b._setupTick();b._tick()};b._setupTick=function(){if(null==b._timerId){var a=b.timingMode||b.useRAF&&b.RAF_SYNCHED;if(a==b.RAF_SYNCHED||a==b.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return b._timerId=c(a==b.RAF?b._handleRAF:b._handleSynch),void(b._raf=!0)}b._raf=!1;b._timerId=setTimeout(b._handleTimeout,b._interval)}};b._tick=function(){var a=b.paused,c=b._getTime(),k=c-b._lastTime;if(b._lastTime=c,b._ticks++,a&&(b._pausedTicks++,b._pausedTime+=k),b.hasEventListener("tick")){var e=new createjs.Event("tick"),d=b.maxDelta;e.delta=d&&k>d?d:k;e.paused=a;e.time=c;e.runTime=c-b._pausedTime;
b.dispatchEvent(e)}for(b._tickTimes.unshift(b._getTime()-c);100<b._tickTimes.length;)b._tickTimes.pop();for(b._times.unshift(c);100<b._times.length;)b._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-b._startTime};createjs.Ticker=b})();this.createjs=this.createjs||{};
(function(){function b(a,c,k){this.loop=this.ignoreGlobalPause=!1;this.duration=0;this.pluginData=k||{};this.target=a;this.position=null;this._paused=this.passive=!1;this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];this._stepPosition=this._prevPosition=0;this._prevPos=-1;this._target=a;this._registered=this._inited=this._useTicks=!1;c&&(this._useTicks=c.useTicks,this.ignoreGlobalPause=c.ignoreGlobalPause,this.loop=c.loop,c.onChange&&this.addEventListener("change",c.onChange),
c.override&&b.removeTweens(a));c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,b.NONE)}var c=createjs.extend(b,createjs.EventDispatcher);b.NONE=0;b.LOOP=1;b.REVERSE=2;b.IGNORE={};b._tweens=[];b._plugins={};b.get=function(a,c,k,e){return e&&b.removeTweens(a),new b(a,c,k)};b.tick=function(a,c){for(var k=b._tweens.slice(),e=k.length-1;0<=e;e--){var d=k[e];c&&!d.ignoreGlobalPause||d._paused||d.tick(d._useTicks?1:a)}};b.handleEvent=function(a){"tick"==
a.type&&this.tick(a.delta,a.paused)};b.removeTweens=function(a){if(a.tweenjs_count){for(var c=b._tweens,k=c.length-1;0<=k;k--){var e=c[k];e._target==a&&(e._paused=!0,c.splice(k,1))}a.tweenjs_count=0}};b.removeAllTweens=function(){for(var a=b._tweens,c=0,k=a.length;k>c;c++){var e=a[c];e._paused=!0;e.target&&(e.target.tweenjs_count=0)}a.length=0};b.hasActiveTweens=function(a){return a?null!=a.tweenjs_count&&!!a.tweenjs_count:b._tweens&&!!b._tweens.length};b.installPlugin=function(a,c){var k=a.priority;
null==k&&(a.priority=k=0);for(var e=0,d=c.length,f=b._plugins;d>e;e++){var h=c[e];if(f[h]){for(var l=f[h],m=0,n=l.length;n>m&&!(k<l[m].priority);m++);f[h].splice(m,0,a)}else f[h]=[a]}};b._register=function(a,c){var k=a._target,e=b._tweens;if(c&&!a._registered)k&&(k.tweenjs_count=k.tweenjs_count?k.tweenjs_count+1:1),e.push(a),!b._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",b),b._inited=!0);else if(!c&&a._registered)for(k&&k.tweenjs_count--,k=e.length;k--;)if(e[k]==a){e.splice(k,
1);break}a._registered=c};c.wait=function(a,b){if(null==a||0>=a)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:a,p0:c,e:this._linearEase,p1:c,v:b})};c.to=function(a,b,c){return(isNaN(b)||0>b)&&(b=0),this._addStep({d:b||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(a))})};c.call=function(a,b,c){return this._addAction({f:a,p:b?b:[this],o:c?c:this._target})};c.set=function(a,b){return this._addAction({f:this._set,o:this,p:[a,
b?b:this._target]})};c.play=function(a){return a||(a=this),this.call(a.setPaused,[!1],a)};c.pause=function(a){return a||(a=this),this.call(a.setPaused,[!0],a)};c.setPosition=function(a,b){0>a&&(a=0);null==b&&(b=1);var c=a,e=!1;if(c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,e=!0)),c==this._prevPos)return e;var d=this._prevPos;if(this.position=this._prevPos=c,this._prevPosition=a,this._target)if(e)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var f=0,h=this._steps.length;h>
f&&!(this._steps[f].t>c);f++);f=this._steps[f-1];this._updateTargetProps(f,(this._stepPosition=c-f.t)/f.d)}return 0!=b&&0<this._actions.length&&(this._useTicks?this._runActions(c,c):1==b&&d>c?(d!=this.duration&&this._runActions(d,this.duration),this._runActions(0,c,!0)):this._runActions(d,c)),e&&this.setPaused(!0),this.dispatchEvent("change"),e};c.tick=function(a){this._paused||this.setPosition(this._prevPosition+a)};c.setPaused=function(a){return this._paused===!!a?this:(this._paused=!!a,b._register(this,
!a),this)};c.w=c.wait;c.t=c.to;c.c=c.call;c.s=c.set;c.toString=function(){return"[Tween]"};c.clone=function(){throw"Tween can not be cloned.";};c._updateTargetProps=function(a,c){var k,e,d,f;if(a||1!=c){if(this.passive=!!a.v,this.passive)return;a.e&&(c=a.e(c,0,1,1));k=a.p0;e=a.p1}else this.passive=!1,k=e=this._curQueueProps;for(var h in this._initQueueProps){null==(d=k[h])&&(k[h]=d=this._initQueueProps[h]);null==(f=e[h])&&(e[h]=f=d);d=d==f||0==c||1==c||"number"!=typeof d?1==c?f:d:d+(f-d)*c;var l=
!1;if(f=b._plugins[h])for(var m=0,n=f.length;n>m;m++){var p=f[m].tween(this,h,d,k,e,c,!!a&&k==e,!a);p==b.IGNORE?l=!0:d=p}l||(this._target[h]=d)}};c._runActions=function(a,b,c){var e=a,d=b,f=-1,h=this._actions.length,l=1;for(a>b&&(e=b,d=a,f=h,h=l=-1);(f+=l)!=h;){b=this._actions[f];var m=b.t;(m==d||m>e&&d>m||c&&m==a)&&b.f.apply(b.o,b.p)}};c._appendQueueProps=function(a){var c,k,e,d,f,h;for(h in a)if(void 0===this._initQueueProps[h]){if(k=this._target[h],c=b._plugins[h])for(e=0,d=c.length;d>e;e++)k=
c[e].init(this,h,k);this._initQueueProps[h]=this._curQueueProps[h]=void 0===k?null:k}for(h in a){if(k=this._curQueueProps[h],c=b._plugins[h])for(f=f||{},e=0,d=c.length;d>e;e++)c[e].step&&c[e].step(this,h,k,a[h],f);this._curQueueProps[h]=a[h]}return f&&this._appendQueueProps(f),this._curQueueProps};c._cloneProps=function(a){var b={},c;for(c in a)b[c]=a[c];return b};c._addStep=function(a){return 0<a.d&&(this._steps.push(a),a.t=this.duration,this.duration+=a.d),this};c._addAction=function(a){return a.t=
this.duration,this._actions.push(a),this};c._set=function(a,b){for(var c in a)b[c]=a[c]};createjs.Tween=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.EventDispatcher_constructor();this.ignoreGlobalPause=!1;this.duration=0;this.loop=!1;this.position=null;this._paused=!1;this._tweens=[];this._labelList=this._labels=null;this._prevPosition=0;this._prevPos=-1;this._registered=this._useTicks=!1;c&&(this._useTicks=c.useTicks,this.loop=c.loop,this.ignoreGlobalPause=c.ignoreGlobalPause,c.onChange&&this.addEventListener("change",c.onChange));a&&this.addTween.apply(this,a);this.setLabels(b);c&&c.paused?this._paused=!0:
createjs.Tween._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,createjs.Tween.NONE)}var c=createjs.extend(b,createjs.EventDispatcher);c.addTween=function(a){var b=arguments.length;if(1<b){for(var c=0;b>c;c++)this.addTween(arguments[c]);return arguments[0]}return 0==b?null:(this.removeTween(a),this._tweens.push(a),a.setPaused(!0),a._paused=!1,a._useTicks=this._useTicks,a.duration>this.duration&&(this.duration=a.duration),0<=this._prevPos&&a.setPosition(this._prevPos,createjs.Tween.NONE),
a)};c.removeTween=function(a){var b=arguments.length;if(1<b){for(var c=!0,e=0;b>e;e++)c=c&&this.removeTween(arguments[e]);return c}if(0==b)return!1;b=this._tweens;for(e=b.length;e--;)if(b[e]==a)return b.splice(e,1),a.duration>=this.duration&&this.updateDuration(),!0;return!1};c.addLabel=function(a,b){this._labels[a]=b;var c=this._labelList;if(c){for(var e=0,d=c.length;d>e&&!(b<c[e].position);e++);c.splice(e,0,{label:a,position:b})}};c.setLabels=function(a){this._labels=a?a:{}};c.getLabels=function(){var a=
this._labelList;if(!a){var a=this._labelList=[],b=this._labels,c;for(c in b)a.push({label:c,position:b[c]});a.sort(function(a,b){return a.position-b.position})}return a};c.getCurrentLabel=function(){var a=this.getLabels(),b=this.position,c=a.length;if(c){for(var e=0;c>e&&!(b<a[e].position);e++);return 0==e?null:a[e-1].label}return null};c.gotoAndPlay=function(a){this.setPaused(!1);this._goto(a)};c.gotoAndStop=function(a){this.setPaused(!0);this._goto(a)};c.setPosition=function(a,b){var c=this._calcPosition(a),
e=!this.loop&&a>=this.duration;if(c==this._prevPos)return e;this._prevPosition=a;this.position=this._prevPos=c;for(var d=0,f=this._tweens.length;f>d;d++)if(this._tweens[d].setPosition(c,b),c!=this._prevPos)return!1;return e&&this.setPaused(!0),this.dispatchEvent("change"),e};c.setPaused=function(a){this._paused=!!a;createjs.Tween._register(this,!a)};c.updateDuration=function(){for(var a=this.duration=0,b=this._tweens.length;b>a;a++){var c=this._tweens[a];c.duration>this.duration&&(this.duration=c.duration)}};
c.tick=function(a){this.setPosition(this._prevPosition+a)};c.resolve=function(a){var b=Number(a);return isNaN(b)&&(b=this._labels[a]),b};c.toString=function(){return"[Timeline]"};c.clone=function(){throw"Timeline can not be cloned.";};c._goto=function(a){a=this.resolve(a);null!=a&&this.setPosition(a)};c._calcPosition=function(a){return 0>a?0:a<this.duration?a:this.loop?a%this.duration:this.duration};createjs.Timeline=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(){throw"Ease cannot be instantiated.";}b.linear=function(b){return b};b.none=b.linear;b.get=function(b){return-1>b&&(b=-1),1<b&&(b=1),function(a){return 0==b?a:0>b?a*(a*-b+1+b):a*((2-a)*b+(1-b))}};b.getPowIn=function(b){return function(a){return Math.pow(a,b)}};b.getPowOut=function(b){return function(a){return 1-Math.pow(1-a,b)}};b.getPowInOut=function(b){return function(a){return 1>(a*=2)?.5*Math.pow(a,b):1-.5*Math.abs(Math.pow(2-a,b))}};b.quadIn=b.getPowIn(2);b.quadOut=b.getPowOut(2);
b.quadInOut=b.getPowInOut(2);b.cubicIn=b.getPowIn(3);b.cubicOut=b.getPowOut(3);b.cubicInOut=b.getPowInOut(3);b.quartIn=b.getPowIn(4);b.quartOut=b.getPowOut(4);b.quartInOut=b.getPowInOut(4);b.quintIn=b.getPowIn(5);b.quintOut=b.getPowOut(5);b.quintInOut=b.getPowInOut(5);b.sineIn=function(b){return 1-Math.cos(b*Math.PI/2)};b.sineOut=function(b){return Math.sin(b*Math.PI/2)};b.sineInOut=function(b){return-.5*(Math.cos(Math.PI*b)-1)};b.getBackIn=function(b){return function(a){return a*a*((b+1)*a-b)}};
b.backIn=b.getBackIn(1.7);b.getBackOut=function(b){return function(a){return--a*a*((b+1)*a+b)+1}};b.backOut=b.getBackOut(1.7);b.getBackInOut=function(b){return b*=1.525,function(a){return 1>(a*=2)?.5*a*a*((b+1)*a-b):.5*((a-=2)*a*((b+1)*a+b)+2)}};b.backInOut=b.getBackInOut(1.7);b.circIn=function(b){return-(Math.sqrt(1-b*b)-1)};b.circOut=function(b){return Math.sqrt(1- --b*b)};b.circInOut=function(b){return 1>(b*=2)?-.5*(Math.sqrt(1-b*b)-1):.5*(Math.sqrt(1-(b-=2)*b)+1)};b.bounceIn=function(c){return 1-
b.bounceOut(1-c)};b.bounceOut=function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375};b.bounceInOut=function(c){return.5>c?.5*b.bounceIn(2*c):.5*b.bounceOut(2*c-1)+.5};b.getElasticIn=function(b,a){var g=2*Math.PI;return function(k){if(0==k||1==k)return k;var e=a/g*Math.asin(1/b);return-(b*Math.pow(2,10*--k)*Math.sin((k-e)*g/a))}};b.elasticIn=b.getElasticIn(1,.3);b.getElasticOut=function(b,a){var g=2*Math.PI;
return function(k){return 0==k||1==k?k:b*Math.pow(2,-10*k)*Math.sin((k-a/g*Math.asin(1/b))*g/a)+1}};b.elasticOut=b.getElasticOut(1,.3);b.getElasticInOut=function(b,a){var g=2*Math.PI;return function(k){var e=a/g*Math.asin(1/b);return 1>(k*=2)?-.5*b*Math.pow(2,10*--k)*Math.sin((k-e)*g/a):b*Math.pow(2,-10*--k)*Math.sin((k-e)*g/a)*.5+1}};b.elasticInOut=b.getElasticInOut(1,.3*1.5);createjs.Ease=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"MotionGuidePlugin cannot be instantiated.";}b.priority=0;b._rotOffS;b._rotOffE;b._rotNormS;b._rotNormE;b.install=function(){return createjs.Tween.installPlugin(b,["guide","x","y","rotation"]),createjs.Tween.IGNORE};b.init=function(b,a,g){var k=b.target;return k.hasOwnProperty("x")||(k.x=0),k.hasOwnProperty("y")||(k.y=0),k.hasOwnProperty("rotation")||(k.rotation=0),"rotation"==a&&(b.__needsRot=!0),"guide"==a?null:g};b.step=function(c,a,g,k,e){if("rotation"==a&&(c.__rotGlobalS=
g,c.__rotGlobalE=k,b.testRotData(c,e)),"guide"!=a)return k;var d;k.hasOwnProperty("path")||(k.path=[]);a=k.path;if(k.hasOwnProperty("end")||(k.end=1),k.hasOwnProperty("start")||(k.start=g&&g.hasOwnProperty("end")&&g.path===a?g.end:0),k.hasOwnProperty("_segments")&&k._length)return k;g=a.length;if(!(6<=g&&0==(g-2)%4))throw"invalid 'path' data, please see documentation for valid paths";k._segments=[];k._length=0;for(var f=2;g>f;f+=4){for(var h,l,m=a[f-2],n=a[f-1],p=a[f+0],r=a[f+1],q=a[f+2],t=a[f+3],
u=m,v=n,w=0,B=[],C=1;10>=C;C++){l=C/10;var x=1-l;h=x*x*m+2*x*l*p+l*l*q;l=x*x*n+2*x*l*r+l*l*t;w+=B[B.push(Math.sqrt((d=h-u)*d+(d=l-v)*d))-1];u=h;v=l}k._segments.push(w);k._segments.push(B);k._length+=w}d=k.orient;k.orient=!0;a={};return b.calc(k,k.start,a),c.__rotPathS=Number(a.rotation.toFixed(5)),b.calc(k,k.end,a),c.__rotPathE=Number(a.rotation.toFixed(5)),k.orient=!1,b.calc(k,k.end,e),k.orient=d,k.orient?(c.__guideData=k,b.testRotData(c,e),k):k};b.testRotData=function(b,a){if(void 0===b.__rotGlobalS||
void 0===b.__rotGlobalE){if(b.__needsRot)return;b.__rotGlobalS=b.__rotGlobalE=void 0!==b._curQueueProps.rotation?b._curQueueProps.rotation:a.rotation=b.target.rotation||0}if(void 0!==b.__guideData){var g=b.__guideData,k=b.__rotGlobalE-b.__rotGlobalS,e=b.__rotPathE-b.__rotPathS,d=k-e;if("auto"==g.orient)180<d?d-=360:-180>d&&(d+=360);else if("cw"==g.orient){for(;0>d;)d+=360;0==d&&0<k&&180!=k&&(d+=360)}else if("ccw"==g.orient){for(d=k-(180<e?360-e:e);0<d;)d-=360;0==d&&0>k&&-180!=k&&(d-=360)}g.rotDelta=
d;g.rotOffS=b.__rotGlobalS-b.__rotPathS;b.__rotGlobalS=b.__rotGlobalE=b.__guideData=b.__needsRot=void 0}};b.tween=function(c,a,g,k,e,d,f){e=e.guide;if(void 0==e||e===k.guide)return g;if(e.lastRatio!=d){switch(b.calc(e,(e.end-e.start)*(f?e.end:d)+e.start,c.target),e.orient){case "cw":case "ccw":case "auto":c.target.rotation+=e.rotOffS+e.rotDelta*d;break;default:c.target.rotation+=e.rotOffS}e.lastRatio=d}return"rotation"!=a||e.orient&&"false"!=e.orient?c.target[a]:g};b.calc=function(b,a,g){if(void 0==
b._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==g&&(g={x:0,y:0,rotation:0});var k=b._segments,e=b.path,d=b._length*a,f=k.length-2;for(a=0;d>k[a]&&f>a;)d-=k[a],a+=2;for(var k=k[a+1],h=0,f=k.length-1;d>k[h]&&f>h;)d-=k[h],h++;d=h/++f+d/(f*k[h]);a=2*a+2;f=1-d;return g.x=f*f*e[a-2]+2*f*d*e[a+0]+d*d*e[a+2],g.y=f*f*e[a-1]+2*f*d*e[a+1]+d*d*e[a+3],b.orient&&(g.rotation=57.2957795*Math.atan2((e[a+1]-e[a-1])*f+(e[a+3]-e[a+1])*d,(e[a+0]-e[a-2])*f+(e[a+2]-e[a+0])*d)),
g};createjs.MotionGuidePlugin=b})();this.createjs=this.createjs||{};(function(){var b=createjs.TweenJS=createjs.TweenJS||{};b.version="0.6.2";b.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"})();var ServerConnection=function(){};ServerConnection.init=function(b){this._server=b;this._isInitialized=!0};ServerConnection.send=function(b){if(!this._isInitialized)return!1;console.log("To server: "+JSON.stringify(b));return!0};
ServerConnection.receive=function(b){if(!this._isInitialized)return!1;console.log("From server: "+JSON.stringify(b));MessageInterpreter.interpret(b);return!0};