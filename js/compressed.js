window.addEventListener("resize",resize,!1);function init(){ServerConnection.init("example.lu/rest/");StageManager.init("canvas");StageManager.idle();resize()}function resize(){StageManager.resize(!0)}var StageManager=function(){};StageManager.init=function(b){this._canvas=b;this._stage=null;this._isInitialized=!0;this._width=800;this._height=450;this._score=0};StageManager.idle=function(){return this.draw(new IdleScreen)};
StageManager.draw=function(b){if(!this._isInitialized||null==b)return!1;this._activity=b;var c=this.createScreen();b.draw(c,this._score);this.transition(c);return!0};StageManager.update=function(b){switch(b.component){case "score":this._score=b.value;break;default:try{this._activity.update(b)}catch(c){console.log("Update cannot be applied to the current activity: "+JSON.stringify(b))}}};StageManager.abort=function(){this.idle()};
StageManager.createStage=function(){var b=new createjs.Stage(this._canvas);b.canvas.width=this._width;b.canvas.height=this._height;b.enableMouseOver(20);createjs.Touch.enable(b);createjs.Ticker.setFPS(60);createjs.Ticker.addEventListener("tick",b);return b};StageManager.createScreen=function(){var b=new createjs.Container;b.width=this._width;b.height=this._height;return b};
StageManager.resize=function(b){if(null==this._stage)return!1;var c=document.getElementById("header").offsetHeight,a=document.getElementById("footer").offsetHeight,h=window.innerWidth,c=window.innerHeight-(c+a),a=this._width,g=this._height;b?(b=Math.min(h/a,c/g),this._stage.scaleX=b*window.devicePixelRatio,this._stage.scaleY=b*window.devicePixelRatio,this._stage.canvas.width=h/a<c/g?h*window.devicePixelRatio:c*this._width/this._height*window.devicePixelRatio,this._stage.canvas.height=this._stage.canvas.width*
this._height/this._width,this._stage.canvas.style.width=this._stage.canvas.width/window.devicePixelRatio+"px",this._stage.canvas.style.height=this._stage.canvas.height/window.devicePixelRatio+"px"):(this._stage.scaleX=h/a*window.devicePixelRatio,this._stage.scaleY=c/g*window.devicePixelRatio,this._stage.canvas.width=h*window.devicePixelRatio,this._stage.canvas.height=c*window.devicePixelRatio,this._stage.canvas.style.width=h+"px",this._stage.canvas.style.height=c+"px");return!0};
StageManager.transition=function(b){null==this._stage?(this._stage=this.createStage(),this._stage.addChild(b)):(b.x-=b.width,this._stage.addChildAt(b,0),createjs.Tween.get(this._stage,{loop:!1}).call(function(b){b=b.getChildAt(b.numChildren-1);for(var a=0;a<b.numChildren;a++)createjs.Tween.removeTweens(b.getChildAt(a)),b.getChildAt(a).removeAllEventListeners()},[this._stage]).to({x:this._stage.canvas.width},1E3,createjs.Ease.getPowInOut(2)).call(function(b){var a=b.getChildAt(b.numChildren-1);a.removeAllChildren();
b.removeChild(a);b.x=b.getChildAt(0).x=0},[this._stage]))};var MessageInterpreter=function(){};MessageInterpreter.interpret=function(b){switch(b.cmd){case "start":StageManager.draw(this.getActivity(b));break;case "update":StageManager.update(b);break;case "abort":StageManager.abort();break;default:console.log("Error: Unknown command "+b.cmd)}};
MessageInterpreter.getActivity=function(b){try{return eval("(new "+b.activity+"(data))")}catch(c){try{return new window[b.activity](b)}catch(a){return console.log("ReferenceError: Activity "+b.activity+" is not defined."),null}}};this.createjs=this.createjs||{};createjs.extend=function(b,c){function a(){this.constructor=b}return a.prototype=c.prototype,b.prototype=new a};this.createjs=this.createjs||{};
createjs.promote=function(b,c){var a=b.prototype,h=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(h){a[(c+="_")+"constructor"]=h.constructor;for(var g in h)a.hasOwnProperty(g)&&"function"==typeof h[g]&&(a[c+g]=h[g])}return b};this.createjs=this.createjs||{};createjs.indexOf=function(b,c){for(var a=0,h=b.length;h>a;a++)if(c===b[a])return a;return-1};this.createjs=this.createjs||{};
(function(){function b(a,h,g){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!h;this.cancelable=!!g;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};c.stopPropagation=function(){this.propagationStopped=!0};c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};c.remove=function(){this.removed=!0};c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)};c.set=function(a){for(var h in a)this[h]=a[h];return this};c.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=b})();this.createjs=this.createjs||{};
(function(){function b(){this._captureListeners=this._listeners=null}var c=b.prototype;b.initialize=function(a){a.addEventListener=c.addEventListener;a.on=c.on;a.removeEventListener=a.off=c.removeEventListener;a.removeAllEventListeners=c.removeAllEventListeners;a.hasEventListener=c.hasEventListener;a.dispatchEvent=c.dispatchEvent;a._dispatchEvent=c._dispatchEvent;a.willTrigger=c.willTrigger};c.addEventListener=function(a,h,g){var b;b=g?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var c=b[a];return c&&this.removeEventListener(a,h,g),c=b[a],c?c.push(h):b[a]=[h],h};c.on=function(a,h,g,b,c,f){return h.handleEvent&&(g=g||h,h=h.handleEvent),g=g||this,this.addEventListener(a,function(a){h.call(g,a,c);b&&a.remove()},f)};c.removeEventListener=function(a,h,g){if(g=g?this._captureListeners:this._listeners){var b=g[a];if(b)for(var c=0,f=b.length;f>c;c++)if(b[c]==h){1==f?delete g[a]:b.splice(c,1);break}}};c.off=c.removeEventListener;c.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};c.dispatchEvent=function(a,h,g){if("string"==typeof a){var b=this._listeners;if(!(h||b&&b[a]))return!0;a=new createjs.Event(a,h,g)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(c){}if(a.bubbles&&this.parent){g=this;for(h=[g];g.parent;)h.push(g=g.parent);b=h.length;for(g=b-1;0<=g&&!a.propagationStopped;g--)h[g]._dispatchEvent(a,1+(0==g));
for(g=1;b>g&&!a.propagationStopped;g++)h[g]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};c.hasEventListener=function(a){var h=this._listeners,g=this._captureListeners;return!!(h&&h[a]||g&&g[a])};c.willTrigger=function(a){for(var h=this;h;){if(h.hasEventListener(a))return!0;h=h.parent}return!1};c.toString=function(){return"[EventDispatcher]"};c._dispatchEvent=function(a,h){var g,b=1==h?this._captureListeners:this._listeners;if(a&&b&&(b=b[a.type])&&(g=b.length)){try{a.currentTarget=
this}catch(c){}try{a.eventPhase=h}catch(c){}a.removed=!1;for(var b=b.slice(),d=0;g>d&&!a.immediatePropagationStopped;d++){var f=b[d];f.handleEvent?f.handleEvent(a):f(a);a.removed&&(this.off(a.type,f,1==h),a.removed=!1)}}};createjs.EventDispatcher=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"Ticker cannot be instantiated.";}b.RAF_SYNCHED="synched";b.RAF="raf";b.TIMEOUT="timeout";b.useRAF=!1;b.timingMode=null;b.maxDelta=0;b.paused=!1;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;createjs.EventDispatcher.initialize(b);b._addEventListener=b.addEventListener;b.addEventListener=function(){return!b._inited&&b.init(),b._addEventListener.apply(b,arguments)};b._inited=!1;b._startTime=0;b._pausedTime=
0;b._ticks=0;b._pausedTicks=0;b._interval=50;b._lastTime=0;b._times=null;b._tickTimes=null;b._timerId=null;b._raf=!0;b.setInterval=function(a){b._interval=a;b._inited&&b._setupTick()};b.getInterval=function(){return b._interval};b.setFPS=function(a){b.setInterval(1E3/a)};b.getFPS=function(){return 1E3/b._interval};try{Object.defineProperties(b,{interval:{get:b.getInterval,set:b.setInterval},framerate:{get:b.getFPS,set:b.setFPS}})}catch(a){console.log(a)}b.init=function(){b._inited||(b._inited=!0,
b._times=[],b._tickTimes=[],b._startTime=b._getTime(),b._times.push(b._lastTime=0),b.interval=b._interval)};b.reset=function(){if(b._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(b._timerId)}else clearTimeout(b._timerId);b.removeAllEventListeners("tick");b._timerId=b._times=b._tickTimes=null;b._startTime=b._lastTime=b._ticks=0;b._inited=!1};b.getMeasuredTickTime=function(a){var h=
0,g=b._tickTimes;if(!g||1>g.length)return-1;a=Math.min(g.length,a||0|b.getFPS());for(var c=0;a>c;c++)h+=g[c];return h/a};b.getMeasuredFPS=function(a){var h=b._times;return!h||2>h.length?-1:(a=Math.min(h.length-1,a||0|b.getFPS()),1E3/((h[0]-h[a])/a))};b.setPaused=function(a){b.paused=a};b.getPaused=function(){return b.paused};b.getTime=function(a){return b._startTime?b._getTime()-(a?b._pausedTime:0):-1};b.getEventTime=function(a){return b._startTime?(b._lastTime||b._startTime)-(a?b._pausedTime:0):
-1};b.getTicks=function(a){return b._ticks-(a?b._pausedTicks:0)};b._handleSynch=function(){b._timerId=null;b._setupTick();b._getTime()-b._lastTime>=.97*(b._interval-1)&&b._tick()};b._handleRAF=function(){b._timerId=null;b._setupTick();b._tick()};b._handleTimeout=function(){b._timerId=null;b._setupTick();b._tick()};b._setupTick=function(){if(null==b._timerId){var a=b.timingMode||b.useRAF&&b.RAF_SYNCHED;if(a==b.RAF_SYNCHED||a==b.RAF){var h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(h)return b._timerId=h(a==b.RAF?b._handleRAF:b._handleSynch),void(b._raf=!0)}b._raf=!1;b._timerId=setTimeout(b._handleTimeout,b._interval)}};b._tick=function(){var a=b.paused,h=b._getTime(),g=h-b._lastTime;if(b._lastTime=h,b._ticks++,a&&(b._pausedTicks++,b._pausedTime+=g),b.hasEventListener("tick")){var c=new createjs.Event("tick"),d=b.maxDelta;c.delta=d&&g>d?d:g;c.paused=a;c.time=h;c.runTime=h-b._pausedTime;
b.dispatchEvent(c)}for(b._tickTimes.unshift(b._getTime()-h);100<b._tickTimes.length;)b._tickTimes.pop();for(b._times.unshift(h);100<b._times.length;)b._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-b._startTime};createjs.Ticker=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"UID cannot be instantiated";}b._nextID=0;b.get=function(){return b._nextID++};createjs.UID=b})();this.createjs=this.createjs||{};
(function(){function b(a,h,b,c,d,f,k,l,m,n,p){this.Event_constructor(a,h,b);this.stageX=c;this.stageY=d;this.rawX=null==m?c:m;this.rawY=null==n?d:n;this.nativeEvent=f;this.pointerID=k;this.primary=!!l;this.relatedTarget=p}var c=createjs.extend(b,createjs.Event);c._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};c._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};c._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(c,
{localX:{get:c._get_localX},localY:{get:c._get_localY},isTouch:{get:c._get_isTouch}})}catch(a){}c.clone=function(){return new b(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};c.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=createjs.promote(b,"Event")})();this.createjs=this.createjs||{};
(function(){function b(a,h,b,c,d,f){this.setValues(a,h,b,c,d,f)}var c=b.prototype;b.DEG_TO_RAD=Math.PI/180;b.identity=null;c.setValues=function(a,h,b,c,d,f){return this.a=null==a?1:a,this.b=h||0,this.c=b||0,this.d=null==c?1:c,this.tx=d||0,this.ty=f||0,this};c.append=function(a,h,b,c,d,f){var k=this.a,l=this.b,m=this.c,n=this.d;return(1!=a||0!=h||0!=b||1!=c)&&(this.a=k*a+m*h,this.b=l*a+n*h,this.c=k*b+m*c,this.d=l*b+n*c),this.tx=k*d+m*f+this.tx,this.ty=l*d+n*f+this.ty,this};c.prepend=function(a,h,b,
c,d,f){var k=this.a,l=this.c,m=this.tx;return this.a=a*k+b*this.b,this.b=h*k+c*this.b,this.c=a*l+b*this.d,this.d=h*l+c*this.d,this.tx=a*m+b*this.ty+d,this.ty=h*m+c*this.ty+f,this};c.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)};c.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty)};c.appendTransform=function(a,h,g,c,d,f,k,l,m){if(d%360){var n=d*b.DEG_TO_RAD;d=Math.cos(n);n=Math.sin(n)}else d=1,n=0;return f||k?(f*=b.DEG_TO_RAD,k*=b.DEG_TO_RAD,this.append(Math.cos(k),
Math.sin(k),-Math.sin(f),Math.cos(f),a,h),this.append(d*g,n*g,-n*c,d*c,0,0)):this.append(d*g,n*g,-n*c,d*c,a,h),(l||m)&&(this.tx-=l*this.a+m*this.c,this.ty-=l*this.b+m*this.d),this};c.prependTransform=function(a,h,g,c,d,f,k,l,m){if(d%360){var n=d*b.DEG_TO_RAD;d=Math.cos(n);n=Math.sin(n)}else d=1,n=0;return(l||m)&&(this.tx-=l,this.ty-=m),f||k?(f*=b.DEG_TO_RAD,k*=b.DEG_TO_RAD,this.prepend(d*g,n*g,-n*c,d*c,0,0),this.prepend(Math.cos(k),Math.sin(k),-Math.sin(f),Math.cos(f),a,h)):this.prepend(d*g,n*g,-n*
c,d*c,a,h),this};c.rotate=function(a){a*=b.DEG_TO_RAD;var h=Math.cos(a);a=Math.sin(a);var g=this.a,c=this.b;return this.a=g*h+this.c*a,this.b=c*h+this.d*a,this.c=-g*a+this.c*h,this.d=-c*a+this.d*h,this};c.skew=function(a,h){return a*=b.DEG_TO_RAD,h*=b.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(a),Math.cos(a),0,0),this};c.scale=function(a,h){return this.a*=a,this.b*=a,this.c*=h,this.d*=h,this};c.translate=function(a,h){return this.tx+=this.a*a+this.c*h,this.ty+=this.b*a+this.d*h,this};
c.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this};c.invert=function(){var a=this.a,h=this.b,b=this.c,c=this.d,d=this.tx,f=a*c-h*b;return this.a=c/f,this.b=-h/f,this.c=-b/f,this.d=a/f,this.tx=(b*this.ty-c*d)/f,this.ty=-(a*this.ty-h*d)/f,this};c.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d};c.equals=function(a){return this.tx===a.tx&&this.ty===a.ty&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d};c.transformPoint=
function(a,h,b){return b=b||{},b.x=a*this.a+h*this.c+this.tx,b.y=a*this.b+h*this.d+this.ty,b};c.decompose=function(a){null==a&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var h=Math.atan2(-this.c,this.d),g=Math.atan2(this.b,this.a);return 1E-5>Math.abs(1-h/g)?(a.rotation=g/b.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=h/b.DEG_TO_RAD,a.skewY=g/b.DEG_TO_RAD),a};c.copy=
function(a){return this.setValues(a.a,a.b,a.c,a.d,a.tx,a.ty)};c.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)};c.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};b.identity=new b;createjs.Matrix2D=b})();this.createjs=this.createjs||{};
(function(){function b(a,h,b,c,d){this.setValues(a,h,b,c,d)}var c=b.prototype;c.setValues=function(a,h,b,c,d){return this.visible=null==a?!0:!!a,this.alpha=null==h?1:h,this.shadow=b,this.compositeOperation=c,this.matrix=d||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this};c.append=function(a,h,b,c,d){return this.alpha*=h,this.shadow=b||this.shadow,this.compositeOperation=c||this.compositeOperation,this.visible=this.visible&&a,d&&this.matrix.appendMatrix(d),this};c.prepend=function(a,
h,b,c,d){return this.alpha*=h,this.shadow=this.shadow||b,this.compositeOperation=this.compositeOperation||c,this.visible=this.visible&&a,d&&this.matrix.prependMatrix(d),this};c.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this};c.clone=function(){return new b(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())};createjs.DisplayProps=b})();this.createjs=this.createjs||{};
(function(){function b(a,h){this.setValues(a,h)}var c=b.prototype;c.setValues=function(a,h){return this.x=a||0,this.y=h||0,this};c.copy=function(a){return this.x=a.x,this.y=a.y,this};c.clone=function(){return new b(this.x,this.y)};c.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=b})();this.createjs=this.createjs||{};
(function(){function b(a,h,b,c){this.setValues(a,h,b,c)}var c=b.prototype;c.setValues=function(a,h,b,c){return this.x=a||0,this.y=h||0,this.width=b||0,this.height=c||0,this};c.extend=function(a,h,b,c){return b=b||0,c=c||0,a+b>this.x+this.width&&(this.width=a+b-this.x),h+c>this.y+this.height&&(this.height=h+c-this.y),a<this.x&&(this.width+=this.x-a,this.x=a),h<this.y&&(this.height+=this.y-h,this.y=h),this};c.pad=function(a,h,b,c){return this.x-=h,this.y-=a,this.width+=h+c,this.height+=a+b,this};c.copy=
function(a){return this.setValues(a.x,a.y,a.width,a.height)};c.contains=function(a,h,b,c){return b=b||0,c=c||0,a>=this.x&&a+b<=this.x+this.width&&h>=this.y&&h+c<=this.y+this.height};c.union=function(a){return this.clone().extend(a.x,a.y,a.width,a.height)};c.intersection=function(a){var h=a.x,g=a.y,c=h+a.width;a=g+a.height;return this.x>h&&(h=this.x),this.y>g&&(g=this.y),this.x+this.width<c&&(c=this.x+this.width),this.y+this.height<a&&(a=this.y+this.height),h>=c||g>=a?null:new b(h,g,c-h,a-g)};c.intersects=
function(a){return a.x<=this.x+this.width&&this.x<=a.x+a.width&&a.y<=this.y+this.height&&this.y<=a.y+a.height};c.isEmpty=function(){return 0>=this.width||0>=this.height};c.clone=function(){return new b(this.x,this.y,this.width,this.height)};c.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=b})();this.createjs=this.createjs||{};
(function(){function b(a,h,b,c,d,f,k){a.addEventListener&&(this.target=a,this.overLabel=null==b?"over":b,this.outLabel=null==h?"out":h,this.downLabel=null==c?"down":c,this.play=d,this._isPressed=!1,this._isOver=!1,this._enabled=!1,a.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),f&&(k&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(k)),a.hitArea=f))}var c=b.prototype;c.setEnabled=function(a){if(a!=this._enabled){var h=this.target;(this._enabled=a)?(h.cursor="pointer",h.addEventListener("rollover",
this),h.addEventListener("rollout",this),h.addEventListener("mousedown",this),h.addEventListener("pressup",this),h._reset&&(h.__reset=h._reset,h._reset=this._reset)):(h.cursor=null,h.removeEventListener("rollover",this),h.removeEventListener("rollout",this),h.removeEventListener("mousedown",this),h.removeEventListener("pressup",this),h.__reset&&(h._reset=h.__reset,delete h.__reset))}};c.getEnabled=function(){return this._enabled};try{Object.defineProperties(c,{enabled:{get:c.getEnabled,set:c.setEnabled}})}catch(a){}c.toString=
function(){return"[ButtonHelper]"};c.handleEvent=function(a){var h,b=this.target;a=a.type;"mousedown"==a?(this._isPressed=!0,h=this.downLabel):"pressup"==a?(this._isPressed=!1,h=this._isOver?this.overLabel:this.outLabel):"rollover"==a?(this._isOver=!0,h=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,h=this._isPressed?this.overLabel:this.outLabel);this.play?b.gotoAndPlay&&b.gotoAndPlay(h):b.gotoAndStop&&b.gotoAndStop(h)};c._reset=function(){var a=this.paused;this.__reset();this.paused=
a};createjs.ButtonHelper=b})();this.createjs=this.createjs||{};(function(){function b(a,h,b,c){this.color=a||"black";this.offsetX=h||0;this.offsetY=b||0;this.blur=c||0}var c=b.prototype;b.identity=new b("transparent",0,0,0);c.toString=function(){return"[Shadow]"};c.clone=function(){return new b(this.color,this.offsetX,this.offsetY,this.blur)};createjs.Shadow=b})();this.createjs=this.createjs||{};
(function(){function b(a){this.EventDispatcher_constructor();this.complete=!0;this.framerate=0;this._data=this._images=this._frames=this._animations=null;this._margin=this._spacing=this._regY=this._regX=this._numFrames=this._frameWidth=this._frameHeight=this._loadCount=0;this._parseData(a)}var c=createjs.extend(b,createjs.EventDispatcher);c.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(c,{animations:{get:c.getAnimations}})}catch(a){}c.getNumFrames=function(a){if(null==
a)return this._frames?this._frames.length:this._numFrames||0;a=this._data[a];return null==a?0:a.frames.length};c.getAnimation=function(a){return this._data[a]};c.getFrame=function(a){var h;return this._frames&&(h=this._frames[a])?h:null};c.getFrameBounds=function(a,h){var b=this.getFrame(a);return b?(h||new createjs.Rectangle).setValues(-b.regX,-b.regY,b.rect.width,b.rect.height):null};c.toString=function(){return"[SpriteSheet]"};c.clone=function(){throw"SpriteSheet cannot be cloned.";};c._parseData=
function(a){var h,b,c;if(null!=a){if(this.framerate=a.framerate||0,a.images&&0<(b=a.images.length))for(c=this._images=[],h=0;b>h;h++){var d=a.images[h];if("string"==typeof d){var f=d,d=document.createElement("img");d.src=f}c.push(d);d.getContext||d.naturalWidth||(this._loadCount++,this.complete=!1,function(a,h){d.onload=function(){a._handleImageLoad(h)}}(this,f),function(a,h){d.onerror=function(){a._handleImageError(h)}}(this,f))}if(null!=a.frames)if(Array.isArray(a.frames))for(this._frames=[],c=
a.frames,h=0,b=c.length;b>h;h++)f=c[h],this._frames.push({image:this._images[f[4]?f[4]:0],rect:new createjs.Rectangle(f[0],f[1],f[2],f[3]),regX:f[5]||0,regY:f[6]||0});else b=a.frames,this._frameWidth=b.width,this._frameHeight=b.height,this._regX=b.regX||0,this._regY=b.regY||0,this._spacing=b.spacing||0,this._margin=b.margin||0,this._numFrames=b.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(b=a.animations)){this._data={};for(var k in b){a={name:k};f=b[k];if("number"==
typeof f)c=a.frames=[f];else if(Array.isArray(f))if(1==f.length)a.frames=[f[0]];else for(a.speed=f[3],a.next=f[2],c=a.frames=[],h=f[0];h<=f[1];h++)c.push(h);else a.speed=f.speed,a.next=f.next,h=f.frames,c=a.frames="number"==typeof h?[h]:h.slice(0);!0!==a.next&&void 0!==a.next||(a.next=k);(!1===a.next||2>c.length&&a.next==k)&&(a.next=null);a.speed||(a.speed=1);this._animations.push(k);this._data[k]=a}}}};c._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,
this.dispatchEvent("complete"))};c._handleImageError=function(a){var h=new createjs.Event("error");h.src=a;this.dispatchEvent(h);0==--this._loadCount&&this.dispatchEvent("complete")};c._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var a=this._numFrames||1E5,h=0,b=this._frameWidth,c=this._frameHeight,d=this._spacing,f=this._margin,k=0,l=this._images;a:for(;k<l.length;k++)for(var m=l[k],n=m.width,p=m.height,r=f;p-f-c>=r;){for(var q=f;n-f-b>=q;){if(h>=a)break a;h++;
this._frames.push({image:m,rect:new createjs.Rectangle(q,r,b,c),regX:this._regX,regY:this._regY});q+=b+d}r+=c+d}this._numFrames=h}};createjs.SpriteSheet=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(){this._oldStrokeDash=this._strokeDash=this._oldStrokeStyle=this._strokeStyle=this._stroke=this.command=null;this._strokeIgnoreScale=!1;this._fill=null;this._instructions=[];this._commitIndex=0;this._activeInstructions=[];this._dirty=!1;this._storeIndex=0;this.clear()}var c=b.prototype;b.getRGB=function(a,b,c,d){return null!=a&&null==c&&(d=b,c=255&a,b=a>>8&255,a=a>>16&255),null==d?"rgb("+a+","+b+","+c+")":"rgba("+a+","+b+","+c+","+d+")"};b.getHSL=function(a,b,c,d){return null==
d?"hsl("+a%360+","+b+"%,"+c+"%)":"hsla("+a%360+","+b+"%,"+c+"%,"+d+")"};b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};b.STROKE_CAPS_MAP=["butt","round","square"];b.STROKE_JOINTS_MAP=["miter","round","bevel"];var a=createjs.createCanvas?
createjs.createCanvas():document.createElement("canvas");a.getContext&&(b._ctx=a.getContext("2d"),a.width=a.height=1);c.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(c,{instructions:{get:c.getInstructions}})}catch(h){}c.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)};c.draw=function(a,b){this._updateInstructions();for(var c=this._instructions,d=this._storeIndex,f=c.length;f>d;d++)c[d].exec(a,b)};
c.drawAsPath=function(a){this._updateInstructions();for(var b,c=this._instructions,d=this._storeIndex,f=c.length;f>d;d++)!1!==(b=c[d]).path&&b.exec(a)};c.moveTo=function(a,g){return this.append(new b.MoveTo(a,g),!0)};c.lineTo=function(a,g){return this.append(new b.LineTo(a,g))};c.arcTo=function(a,g,c,d,f){return this.append(new b.ArcTo(a,g,c,d,f))};c.arc=function(a,g,c,d,f,k){return this.append(new b.Arc(a,g,c,d,f,k))};c.quadraticCurveTo=function(a,g,c,d){return this.append(new b.QuadraticCurveTo(a,
g,c,d))};c.bezierCurveTo=function(a,g,c,d,f,k){return this.append(new b.BezierCurveTo(a,g,c,d,f,k))};c.rect=function(a,g,c,d){return this.append(new b.Rect(a,g,c,d))};c.closePath=function(){return this._activeInstructions.length?this.append(new b.ClosePath):this};c.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=
!1,this};c.beginFill=function(a){return this._setFill(a?new b.Fill(a):null)};c.beginLinearGradientFill=function(a,g,c,d,f,k){return this._setFill((new b.Fill).linearGradient(a,g,c,d,f,k))};c.beginRadialGradientFill=function(a,g,c,d,f,k,l,m){return this._setFill((new b.Fill).radialGradient(a,g,c,d,f,k,l,m))};c.beginBitmapFill=function(a,g,c){return this._setFill((new b.Fill(null,c)).bitmap(a,g))};c.endFill=function(){return this.beginFill()};c.setStrokeStyle=function(a,g,c,d,f){return this._updateInstructions(!0),
this._strokeStyle=this.command=new b.StrokeStyle(a,g,c,d,f),this._stroke&&(this._stroke.ignoreScale=f),this._strokeIgnoreScale=f,this};c.setStrokeDash=function(a,g){return this._updateInstructions(!0),this._strokeDash=this.command=new b.StrokeDash(a,g),this};c.beginStroke=function(a){return this._setStroke(a?new b.Stroke(a):null)};c.beginLinearGradientStroke=function(a,g,c,d,f,k){return this._setStroke((new b.Stroke).linearGradient(a,g,c,d,f,k))};c.beginRadialGradientStroke=function(a,g,c,d,f,k,l,
m){return this._setStroke((new b.Stroke).radialGradient(a,g,c,d,f,k,l,m))};c.beginBitmapStroke=function(a,g){return this._setStroke((new b.Stroke).bitmap(a,g))};c.endStroke=function(){return this.beginStroke()};c.curveTo=c.quadraticCurveTo;c.drawRect=c.rect;c.drawRoundRect=function(a,b,c,d,f){return this.drawRoundRectComplex(a,b,c,d,f,f,f,f)};c.drawRoundRectComplex=function(a,g,c,d,f,k,l,m){return this.append(new b.RoundRect(a,g,c,d,f,k,l,m))};c.drawCircle=function(a,g,c){return this.append(new b.Circle(a,
g,c))};c.drawEllipse=function(a,g,c,d){return this.append(new b.Ellipse(a,g,c,d))};c.drawPolyStar=function(a,g,c,d,f,k){return this.append(new b.PolyStar(a,g,c,d,f,k))};c.append=function(a,b){return this._activeInstructions.push(a),this.command=a,b||(this._dirty=!0),this};c.decodePath=function(a){for(var g=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],c=[2,2,4,6,0],d=0,f=a.length,k=[],l=0,m=0,n=b.BASE_64;f>d;){var p=a.charAt(d),r=n[p],q=r>>3,u=g[q];if(!u||3&r)throw"bad path data (@"+
d+"): "+p;p=c[q];q||(l=m=0);k.length=0;d++;r=(r>>2&1)+2;for(q=0;p>q;q++){var t=n[a.charAt(d)],v=t>>5?-1:1,t=(31&t)<<6|n[a.charAt(d+1)];3==r&&(t=t<<6|n[a.charAt(d+2)]);t=v*t/10;q%2?l=t+=l:m=t+=m;k[q]=t;d+=r}u.apply(this,k)}return this};c.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this};c.unstore=function(){return this._storeIndex=0,this};c.clone=function(){var a=new b;return a.command=this.command,a._stroke=this._stroke,a._strokeStyle=this._strokeStyle,
a._strokeDash=this._strokeDash,a._strokeIgnoreScale=this._strokeIgnoreScale,a._fill=this._fill,a._instructions=this._instructions.slice(),a._commitIndex=this._commitIndex,a._activeInstructions=this._activeInstructions.slice(),a._dirty=this._dirty,a._storeIndex=this._storeIndex,a};c.toString=function(){return"[Graphics]"};c.mt=c.moveTo;c.lt=c.lineTo;c.at=c.arcTo;c.bt=c.bezierCurveTo;c.qt=c.quadraticCurveTo;c.a=c.arc;c.r=c.rect;c.cp=c.closePath;c.c=c.clear;c.f=c.beginFill;c.lf=c.beginLinearGradientFill;
c.rf=c.beginRadialGradientFill;c.bf=c.beginBitmapFill;c.ef=c.endFill;c.ss=c.setStrokeStyle;c.sd=c.setStrokeDash;c.s=c.beginStroke;c.ls=c.beginLinearGradientStroke;c.rs=c.beginRadialGradientStroke;c.bs=c.beginBitmapStroke;c.es=c.endStroke;c.dr=c.drawRect;c.rr=c.drawRoundRect;c.rc=c.drawRoundRectComplex;c.dc=c.drawCircle;c.de=c.drawEllipse;c.dp=c.drawPolyStar;c.p=c.decodePath;c._updateInstructions=function(a){var g=this._instructions,c=this._activeInstructions,d=this._commitIndex;if(this._dirty&&c.length){g.length=
d;g.push(b.beginCmd);var d=c.length,f=g.length;g.length=f+d;for(var k=0;d>k;k++)g[k+f]=c[k];this._fill&&g.push(this._fill);this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,g.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,g.push(this._strokeStyle)),g.push(this._stroke));this._dirty=!1}a&&(c.length=0,this._commitIndex=g.length)};c._setFill=function(a){return this._updateInstructions(!0),this.command=
this._fill=a,this};c._setStroke=function(a){return this._updateInstructions(!0),(this.command=this._stroke=a)&&(a.ignoreScale=this._strokeIgnoreScale),this};(b.LineTo=function(a,b){this.x=a;this.y=b}).prototype.exec=function(a){a.lineTo(this.x,this.y)};(b.MoveTo=function(a,b){this.x=a;this.y=b}).prototype.exec=function(a){a.moveTo(this.x,this.y)};(b.ArcTo=function(a,b,c,d,f){this.x1=a;this.y1=b;this.x2=c;this.y2=d;this.radius=f}).prototype.exec=function(a){a.arcTo(this.x1,this.y1,this.x2,this.y2,
this.radius)};(b.Arc=function(a,b,c,d,f,k){this.x=a;this.y=b;this.radius=c;this.startAngle=d;this.endAngle=f;this.anticlockwise=!!k}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)};(b.QuadraticCurveTo=function(a,b,c,d){this.cpx=a;this.cpy=b;this.x=c;this.y=d}).prototype.exec=function(a){a.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)};(b.BezierCurveTo=function(a,b,c,d,f,k){this.cp1x=a;this.cp1y=b;this.cp2x=c;this.cp2y=d;this.x=f;this.y=
k}).prototype.exec=function(a){a.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)};(b.Rect=function(a,b,c,d){this.x=a;this.y=b;this.w=c;this.h=d}).prototype.exec=function(a){a.rect(this.x,this.y,this.w,this.h)};(b.ClosePath=function(){}).prototype.exec=function(a){a.closePath()};(b.BeginPath=function(){}).prototype.exec=function(a){a.beginPath()};c=(b.Fill=function(a,b){this.style=a;this.matrix=b}).prototype;c.exec=function(a){if(this.style){a.fillStyle=this.style;var b=this.matrix;
b&&(a.save(),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty));a.fill();b&&a.restore()}};c.linearGradient=function(a,c,e,d,f,k){for(var l=this.style=b._ctx.createLinearGradient(e,d,f,k),m=0,n=a.length;n>m;m++)l.addColorStop(c[m],a[m]);return l.props={colors:a,ratios:c,x0:e,y0:d,x1:f,y1:k,type:"linear"},this};c.radialGradient=function(a,c,e,d,f,k,l,m){for(var n=this.style=b._ctx.createRadialGradient(e,d,f,k,l,m),p=0,r=a.length;r>p;p++)n.addColorStop(c[p],a[p]);return n.props={colors:a,ratios:c,x0:e,y0:d,r0:f,
x1:k,y1:l,r1:m,type:"radial"},this};c.bitmap=function(a,c){if(a.naturalWidth||a.getContext||2<=a.readyState)(this.style=b._ctx.createPattern(a,c||"")).props={image:a,repetition:c,type:"bitmap"};return this};c.path=!1;c=(b.Stroke=function(a,b){this.style=a;this.ignoreScale=b}).prototype;c.exec=function(a){this.style&&(a.strokeStyle=this.style,this.ignoreScale&&(a.save(),a.setTransform(1,0,0,1,0,0)),a.stroke(),this.ignoreScale&&a.restore())};c.linearGradient=b.Fill.prototype.linearGradient;c.radialGradient=
b.Fill.prototype.radialGradient;c.bitmap=b.Fill.prototype.bitmap;c.path=!1;c=(b.StrokeStyle=function(a,b,c,d,f){this.width=a;this.caps=b;this.joints=c;this.miterLimit=d;this.ignoreScale=f}).prototype;c.exec=function(a){a.lineWidth=null==this.width?"1":this.width;a.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:b.STROKE_CAPS_MAP[this.caps];a.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:b.STROKE_JOINTS_MAP[this.joints];a.miterLimit=null==this.miterLimit?"10":this.miterLimit;
a.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale};c.path=!1;(b.StrokeDash=function(a,b){this.segments=a;this.offset=b||0}).prototype.exec=function(a){a.setLineDash&&(a.setLineDash(this.segments||b.StrokeDash.EMPTY_SEGMENTS),a.lineDashOffset=this.offset||0)};b.StrokeDash.EMPTY_SEGMENTS=[];(b.RoundRect=function(a,b,c,d,f,k,l,m){this.x=a;this.y=b;this.w=c;this.h=d;this.radiusTL=f;this.radiusTR=k;this.radiusBR=l;this.radiusBL=m}).prototype.exec=function(a){var b=(p>n?n:p)/2,c=0,d=0,f=0,k=0,l=
this.x,m=this.y,n=this.w,p=this.h,r=this.radiusTL,q=this.radiusTR,u=this.radiusBR,t=this.radiusBL;0>r&&(r*=c=-1);r>b&&(r=b);0>q&&(q*=d=-1);q>b&&(q=b);0>u&&(u*=f=-1);u>b&&(u=b);0>t&&(t*=k=-1);t>b&&(t=b);a.moveTo(l+n-q,m);a.arcTo(l+n+q*d,m-q*d,l+n,m+q,q);a.lineTo(l+n,m+p-u);a.arcTo(l+n+u*f,m+p+u*f,l+n-u,m+p,u);a.lineTo(l+t,m+p);a.arcTo(l-t*k,m+p+t*k,l,m+p-t,t);a.lineTo(l,m+r);a.arcTo(l-r*c,m-r*c,l+r,m,r);a.closePath()};(b.Circle=function(a,b,c){this.x=a;this.y=b;this.radius=c}).prototype.exec=function(a){a.arc(this.x,
this.y,this.radius,0,2*Math.PI)};(b.Ellipse=function(a,b,c,d){this.x=a;this.y=b;this.w=c;this.h=d}).prototype.exec=function(a){var b=this.x,c=this.y,d=this.w,f=this.h,k=d/2*.5522848,l=f/2*.5522848,m=b+d,n=c+f,d=b+d/2,f=c+f/2;a.moveTo(b,f);a.bezierCurveTo(b,f-l,d-k,c,d,c);a.bezierCurveTo(d+k,c,m,f-l,m,f);a.bezierCurveTo(m,f+l,d+k,n,d,n);a.bezierCurveTo(d-k,n,b,f+l,b,f)};(b.PolyStar=function(a,b,c,d,f,k){this.x=a;this.y=b;this.radius=c;this.sides=d;this.pointSize=f;this.angle=k}).prototype.exec=function(a){var b=
this.x,c=this.y,d=this.radius,f=(this.angle||0)/180*Math.PI,k=this.sides,l=1-(this.pointSize||0),m=Math.PI/k;a.moveTo(b+Math.cos(f)*d,c+Math.sin(f)*d);for(var n=0;k>n;n++)f+=m,1!=l&&a.lineTo(b+Math.cos(f)*d*l,c+Math.sin(f)*d*l),f+=m,a.lineTo(b+Math.cos(f)*d,c+Math.sin(f)*d);a.closePath()};b.beginCmd=new b.BeginPath;createjs.Graphics=b})();this.createjs=this.createjs||{};
(function(){function b(){this.EventDispatcher_constructor();this.alpha=1;this.cacheCanvas=null;this.cacheID=0;this.id=createjs.UID.get();this.tickEnabled=this.mouseEnabled=!0;this.parent=this.name=null;this.rotation=this.regY=this.regX=0;this.scaleY=this.scaleX=1;this.skewY=this.skewX=0;this.shadow=null;this.visible=!0;this.y=this.x=0;this.compositeOperation=this.transformMatrix=null;this.snapToPixel=!0;this.cursor=this.hitArea=this.mask=this.filters=null;this._filterOffsetY=this._filterOffsetX=this._cacheOffsetY=
this._cacheOffsetX=0;this._cacheScale=1;this._cacheDataURLID=0;this._cacheDataURL=null;this._props=new createjs.DisplayProps;this._rectangle=new createjs.Rectangle;this._bounds=null}var c=createjs.extend(b,createjs.EventDispatcher);b._MOUSE_EVENTS="click dblclick mousedown mouseout mouseover pressmove pressup rollout rollover".split(" ");b.suppressCrossDomainErrors=!1;b._snapToPixelEnabled=!1;var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(b._hitTestCanvas=
a,b._hitTestContext=a.getContext("2d"),a.width=a.height=1);b._nextCacheID=1;c.getStage=function(){for(var a=this,b=createjs.Stage;a.parent;)a=a.parent;return a instanceof b?a:null};try{Object.defineProperties(c,{stage:{get:c.getStage}})}catch(h){}c.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};c.draw=function(a,b){var c=this.cacheCanvas;if(b||!c)return!1;var d=this._cacheScale;return a.drawImage(c,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+
this._filterOffsetY,c.width/d,c.height/d),!0};c.updateContext=function(a){var c=this.mask,e=this._props.matrix;c&&c.graphics&&!c.graphics.isEmpty()&&(c.getMatrix(e),a.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),c.graphics.drawAsPath(a),a.clip(),e.invert(),a.transform(e.a,e.b,e.c,e.d,e.tx,e.ty));this.getMatrix(e);var c=e.tx,d=e.ty;b._snapToPixelEnabled&&this.snapToPixel&&(c=c+(0>c?-.5:.5)|0,d=d+(0>d?-.5:.5)|0);a.transform(e.a,e.b,e.c,e.d,c,d);a.globalAlpha*=this.alpha;this.compositeOperation&&(a.globalCompositeOperation=
this.compositeOperation);this.shadow&&this._applyShadow(a,this.shadow)};c.cache=function(a,b,c,d,f){f=f||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=c;this._cacheHeight=d;this._cacheOffsetX=a;this._cacheOffsetY=b;this._cacheScale=f;this.updateCache()};c.updateCache=function(a){var c=this.cacheCanvas;if(!c)throw"cache() must be called before updateCache()";var e=this._cacheScale,d=this._cacheOffsetX*e,f=this._cacheOffsetY*
e,k=this._cacheWidth,l=this._cacheHeight,m=c.getContext("2d"),n=this._getFilterBounds(),d=d+(this._filterOffsetX=n.x),f=f+(this._filterOffsetY=n.y),k=Math.ceil(k*e)+n.width,l=Math.ceil(l*e)+n.height;k!=c.width||l!=c.height?(c.width=k,c.height=l):a||m.clearRect(0,0,k+1,l+1);m.save();m.globalCompositeOperation=a;m.setTransform(e,0,0,e,-d,-f);this.draw(m,!0);this._applyFilters();m.restore();this.cacheID=b._nextCacheID++};c.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=
this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0;this._cacheScale=1};c.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};c.localToGlobal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(a,b,c||new createjs.Point)};c.globalToLocal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(a,b,c||new createjs.Point)};
c.localToLocal=function(a,b,c,d){return d=this.localToGlobal(a,b,d),c.globalToLocal(d.x,d.y,d)};c.setTransform=function(a,b,c,d,f,k,l,m,n){return this.x=a||0,this.y=b||0,this.scaleX=null==c?1:c,this.scaleY=null==d?1:d,this.rotation=f||0,this.skewX=k||0,this.skewY=l||0,this.regX=m||0,this.regY=n||0,this};c.getMatrix=function(a){a=a&&a.identity()||new createjs.Matrix2D;return this.transformMatrix?a.copy(this.transformMatrix):a.appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,
this.skewY,this.regX,this.regY)};c.getConcatenatedMatrix=function(a){var b=this;for(a=this.getMatrix(a);b=b.parent;)a.prependMatrix(b.getMatrix(b._props.matrix));return a};c.getConcatenatedDisplayProps=function(a){a=a?a.identity():new createjs.DisplayProps;var b=this,c=b.getMatrix(a.matrix);do a.prepend(b.visible,b.alpha,b.shadow,b.compositeOperation),b!=this&&c.prependMatrix(b.getMatrix(b._props.matrix));while(b=b.parent);return a};c.hitTest=function(a,c){var e=b._hitTestContext;e.setTransform(1,
0,0,1,-a,-c);this.draw(e);var d=this._testHit(e);return e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,2,2),d};c.set=function(a){for(var b in a)this[b]=a[b];return this};c.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var a=this.cacheCanvas;if(a){var b=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,a.width/b,a.height/b)}return null};c.getTransformedBounds=function(){return this._getBounds()};c.setBounds=function(a,b,c,d){null==
a&&(this._bounds=a);this._bounds=(this._bounds||new createjs.Rectangle).setValues(a,b,c,d)};c.clone=function(){return this._cloneProps(new b)};c.toString=function(){return"[DisplayObject (name="+this.name+")]"};c._cloneProps=function(a){return a.alpha=this.alpha,a.mouseEnabled=this.mouseEnabled,a.tickEnabled=this.tickEnabled,a.name=this.name,a.regX=this.regX,a.regY=this.regY,a.rotation=this.rotation,a.scaleX=this.scaleX,a.scaleY=this.scaleY,a.shadow=this.shadow,a.skewX=this.skewX,a.skewY=this.skewY,
a.visible=this.visible,a.x=this.x,a.y=this.y,a.compositeOperation=this.compositeOperation,a.snapToPixel=this.snapToPixel,a.filters=null==this.filters?null:this.filters.slice(0),a.mask=this.mask,a.hitArea=this.hitArea,a.cursor=this.cursor,a._bounds=this._bounds,a};c._applyShadow=function(a,b){b=b||Shadow.identity;a.shadowColor=b.color;a.shadowOffsetX=b.offsetX;a.shadowOffsetY=b.offsetY;a.shadowBlur=b.blur};c._tick=function(a){var b=this._listeners;b&&b.tick&&(a.target=null,a.propagationStopped=a.immediatePropagationStopped=
!1,this.dispatchEvent(a))};c._testHit=function(a){try{var c=1<a.getImageData(0,0,1,1).data[3]}catch(e){if(!b.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return c};c._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,b=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,d=this.cacheCanvas.height,f=0;a>f;f++)this.filters[f].applyFilter(b,
0,0,c,d)};c._getFilterBounds=function(){var a,b=this.filters,c=this._rectangle.setValues(0,0,0,0);if(!b||!(a=b.length))return c;for(b=0;a>b;b++){var d=this.filters[b];d.getBounds&&d.getBounds(c)}return c};c._getBounds=function(a,b){return this._transformBounds(this.getBounds(),a,b)};c._transformBounds=function(a,b,c){if(!a)return a;var d=a.x,f=a.y,k=a.width,l=a.height,m=this._props.matrix,m=c?m.identity():this.getMatrix(m);(d||f)&&m.appendTransform(0,0,1,1,0,0,0,-d,-f);b&&m.prependMatrix(b);b=k*m.a;
k*=m.b;c=l*m.c;var l=l*m.d,n=m.tx,m=m.ty,p=n,r=n,q=m,u=m;return(d=b+n)<p?p=d:d>r&&(r=d),(d=b+c+n)<p?p=d:d>r&&(r=d),(d=c+n)<p?p=d:d>r&&(r=d),(f=k+m)<q?q=f:f>u&&(u=f),(f=k+l+m)<q?q=f:f>u&&(u=f),(f=l+m)<q?q=f:f>u&&(u=f),a.setValues(p,q,r-p,u-q)};c._hasMouseEventListener=function(){for(var a=b._MOUSE_EVENTS,c=0,e=a.length;e>c;c++)if(this.hasEventListener(a[c]))return!0;return!!this.cursor};createjs.DisplayObject=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(){this.DisplayObject_constructor();this.children=[];this.tickChildren=this.mouseChildren=!0}var c=createjs.extend(b,createjs.DisplayObject);c.getNumChildren=function(){return this.children.length};try{Object.defineProperties(c,{numChildren:{get:c.getNumChildren}})}catch(a){}c.initialize=b;c.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){if(this.DisplayObject_draw(a,
b))return!0;for(var c=this.children.slice(),e=0,d=c.length;d>e;e++){var f=c[e];f.isVisible()&&(a.save(),f.updateContext(a),f.draw(a),a.restore())}return!0};c.addChild=function(a){if(null==a)return a;var b=arguments.length;if(1<b){for(var c=0;b>c;c++)this.addChild(arguments[c]);return arguments[b-1]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.push(a),a.dispatchEvent("added"),a};c.addChildAt=function(a,b){var c=arguments.length,e=arguments[c-1];if(0>e||e>this.children.length)return arguments[c-
2];if(2<c){for(var d=0;c-1>d;d++)this.addChildAt(arguments[d],e+d);return arguments[c-2]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),a.dispatchEvent("added"),a};c.removeChild=function(a){var b=arguments.length;if(1<b){for(var c=!0,e=0;b>e;e++)c=c&&this.removeChild(arguments[e]);return c}return this.removeChildAt(createjs.indexOf(this.children,a))};c.removeChildAt=function(a){var b=arguments.length;if(1<b){for(var c=[],e=0;b>e;e++)c[e]=arguments[e];c.sort(function(a,
b){return b-a});for(var d=!0,e=0;b>e;e++)d=d&&this.removeChildAt(c[e]);return d}if(0>a||a>this.children.length-1)return!1;b=this.children[a];return b&&(b.parent=null),this.children.splice(a,1),b.dispatchEvent("removed"),!0};c.removeAllChildren=function(){for(var a=this.children;a.length;)this.removeChildAt(0)};c.getChildAt=function(a){return this.children[a]};c.getChildByName=function(a){for(var b=this.children,c=0,e=b.length;e>c;c++)if(b[c].name==a)return b[c];return null};c.sortChildren=function(a){this.children.sort(a)};
c.getChildIndex=function(a){return createjs.indexOf(this.children,a)};c.swapChildrenAt=function(a,b){var c=this.children,e=c[a],d=c[b];e&&d&&(c[a]=d,c[b]=e)};c.swapChildren=function(a,b){for(var c,e,d=this.children,f=0,k=d.length;k>f&&(d[f]==a&&(c=f),d[f]==b&&(e=f),null==c||null==e);f++);f!=k&&(d[c]=b,d[e]=a)};c.setChildIndex=function(a,b){var c=this.children,e=c.length;if(!(a.parent!=this||0>b||b>=e)){for(var d=0;e>d&&c[d]!=a;d++);d!=e&&d!=b&&(c.splice(d,1),c.splice(b,0,a))}};c.contains=function(a){for(;a;){if(a==
this)return!0;a=a.parent}return!1};c.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,b)};c.getObjectsUnderPoint=function(a,b,c){var e=[];a=this.localToGlobal(a,b);return this._getObjectsUnderPoint(a.x,a.y,e,0<c,1==c),e};c.getObjectUnderPoint=function(a,b,c){a=this.localToGlobal(a,b);return this._getObjectsUnderPoint(a.x,a.y,null,0<c,1==c)};c.getBounds=function(){return this._getBounds(null,!0)};c.getTransformedBounds=function(){return this._getBounds()};c.clone=function(a){var c=this._cloneProps(new b);
return a&&this._cloneChildren(c),c};c.toString=function(){return"[Container (name="+this.name+")]"};c._tick=function(a){if(this.tickChildren)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b];c.tickEnabled&&c._tick&&c._tick(a)}this.DisplayObject__tick(a)};c._cloneChildren=function(a){a.children.length&&a.removeAllChildren();for(var b=a.children,c=0,e=this.children.length;e>c;c++){var d=this.children[c].clone(!0);d.parent=a;b.push(d)}};c._getObjectsUnderPoint=function(a,c,g,e,d,f){if(f=
f||0,!f&&!this._testMask(this,a,c))return null;var k,l=createjs.DisplayObject._hitTestContext;d=d||e&&this._hasMouseEventListener();for(var m=this.children,n=m.length-1;0<=n;n--){var p=m[n],r=p.hitArea;if(p.visible&&(r||p.isVisible())&&(!e||p.mouseEnabled)&&(r||this._testMask(p,a,c)))if(!r&&p instanceof b){if(p=p._getObjectsUnderPoint(a,c,g,e,d,f+1),!g&&p)return e&&!this.mouseChildren?this:p}else if(!e||d||p._hasMouseEventListener()){var q=p.getConcatenatedDisplayProps(p._props);if(k=q.matrix,r&&
(k.appendMatrix(r.getMatrix(r._props.matrix)),q.alpha=r.alpha),l.globalAlpha=q.alpha,l.setTransform(k.a,k.b,k.c,k.d,k.tx-a,k.ty-c),(r||p).draw(l),this._testHit(l)){if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!g)return e&&!this.mouseChildren?this:p;g.push(p)}}}return null};c._testMask=function(a,b,c){var e=a.mask;if(!e||!e.graphics||e.graphics.isEmpty())return!0;var d=this._props.matrix,d=(a=a.parent)?a.getConcatenatedMatrix(d):d.identity(),d=e.getMatrix(e._props.matrix).prependMatrix(d);a=
createjs.DisplayObject._hitTestContext;return a.setTransform(d.a,d.b,d.c,d.d,d.tx-b,d.ty-c),e.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),this._testHit(a)?(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0):!1};c._getBounds=function(a,b){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,a,b);var e=this._props.matrix,e=b?e.identity():this.getMatrix(e);a&&e.prependMatrix(a);for(var d=this.children.length,f=null,k=0;d>k;k++){var l=this.children[k];l.visible&&(c=l._getBounds(e))&&
(f?f.extend(c.x,c.y,c.width,c.height):f=c.clone())}return f};createjs.Container=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a){this.Container_constructor();this.autoClear=!0;this.canvas="string"==typeof a?document.getElementById(a):a;this.mouseY=this.mouseX=0;this.drawRect=null;this.mouseInBounds=this.snapToPixelEnabled=!1;this.tickOnUpdate=!0;this.mouseMoveOutside=!1;this.preventSelection=!0;this._pointerData={};this._pointerCount=0;this._prevStage=this._nextStage=this._mouseOverIntervalID=this._primaryPointerID=null;this.enableDOMEvents(!0)}var c=createjs.extend(b,createjs.Container);c._get_nextStage=
function(){return this._nextStage};c._set_nextStage=function(a){this._nextStage&&(this._nextStage._prevStage=null);a&&(a._prevStage=this);this._nextStage=a};try{Object.defineProperties(c,{nextStage:{get:c._get_nextStage,set:c._set_nextStage}})}catch(a){}c.update=function(a){if(this.canvas&&(this.tickOnUpdate&&this.tick(a),!1!==this.dispatchEvent("drawstart",!1,!0))){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;a=this.drawRect;var b=this.canvas.getContext("2d");b.setTransform(1,
0,0,1,0,0);this.autoClear&&(a?b.clearRect(a.x,a.y,a.width,a.height):b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1));b.save();this.drawRect&&(b.beginPath(),b.rect(a.x,a.y,a.width,a.height),b.clip());this.updateContext(b);this.draw(b,!1);b.restore();this.dispatchEvent("drawend")}};c.tick=function(a){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var b=new createjs.Event("tick");if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);this._tick(b);this.dispatchEvent("tickend")}};
c.handleEvent=function(a){"tick"==a.type&&this.update(a)};c.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};c.toDataURL=function(a,b){var c,e=this.canvas.getContext("2d"),d=this.canvas.width,f=this.canvas.height;if(a){c=e.getImageData(0,0,d,f);var k=e.globalCompositeOperation;e.globalCompositeOperation="destination-over";e.fillStyle=a;e.fillRect(0,0,d,f)}d=this.canvas.toDataURL(b||"image/png");
return a&&(e.putImageData(c,0,0),e.globalCompositeOperation=k),d};c.enableMouseOver=function(a){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0)),null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1E3/Math.min(50,a))};c.enableDOMEvents=function(a){null==a&&(a=!0);var b,c=this._eventListeners;if(!a&&c){for(b in c)a=c[b],a.t.removeEventListener(b,a.f,!1);
this._eventListeners=null}else if(a&&!c&&this.canvas){a=window.addEventListener?window:document;var e=this,c=this._eventListeners={};c.mouseup={t:a,f:function(a){e._handleMouseUp(a)}};c.mousemove={t:a,f:function(a){e._handleMouseMove(a)}};c.dblclick={t:this.canvas,f:function(a){e._handleDoubleClick(a)}};c.mousedown={t:this.canvas,f:function(a){e._handleMouseDown(a)}};for(b in c)a=c[b],a.t.addEventListener(b,a.f,!1)}};c.clone=function(){throw"Stage cannot be cloned.";};c.toString=function(){return"[Stage (name="+
this.name+")]"};c._getElementRect=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){b={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var g=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),d=window.getComputedStyle?getComputedStyle(a,null):a.currentStyle;a=parseInt(d.paddingLeft)+parseInt(d.borderLeftWidth);var f=parseInt(d.paddingTop)+
parseInt(d.borderTopWidth),k=parseInt(d.paddingRight)+parseInt(d.borderRightWidth),d=parseInt(d.paddingBottom)+parseInt(d.borderBottomWidth);return{left:b.left+g+a,right:b.right+g-k,top:b.top+e+f,bottom:b.bottom+e-d}};c._getPointerData=function(a){var b=this._pointerData[a];return b||(b=this._pointerData[a]={x:0,y:0}),b};c._handleMouseMove=function(a){a||(a=window.event);this._handlePointerMove(-1,a,a.pageX,a.pageY)};c._handlePointerMove=function(a,b,c,e,d){if((!this._prevStage||void 0!==d)&&this.canvas){d=
this._nextStage;var f=this._getPointerData(a),k=f.inBounds;this._updatePointerPosition(a,b,c,e);(k||f.inBounds||this.mouseMoveOutside)&&(-1===a&&f.inBounds==!k&&this._dispatchMouseEvent(this,k?"mouseleave":"mouseenter",!1,a,f,b),this._dispatchMouseEvent(this,"stagemousemove",!1,a,f,b),this._dispatchMouseEvent(f.target,"pressmove",!0,a,f,b));d&&d._handlePointerMove(a,b,c,e,null)}};c._updatePointerPosition=function(a,b,c,e){var d=this._getElementRect(this.canvas);c-=d.left;e-=d.top;var f=this.canvas.width,
k=this.canvas.height;c/=(d.right-d.left)/f;e/=(d.bottom-d.top)/k;d=this._getPointerData(a);(d.inBounds=0<=c&&0<=e&&f-1>=c&&k-1>=e)?(d.x=c,d.y=e):this.mouseMoveOutside&&(d.x=0>c?0:c>f-1?f-1:c,d.y=0>e?0:e>k-1?k-1:e);d.posEvtObj=b;d.rawX=c;d.rawY=e;(a===this._primaryPointerID||-1===a)&&(this.mouseX=d.x,this.mouseY=d.y,this.mouseInBounds=d.inBounds)};c._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)};c._handlePointerUp=function(a,b,c,e){var d=this._nextStage,f=this._getPointerData(a);if(!this._prevStage||
void 0!==e){var k=null,l=f.target;e||!l&&!d||(k=this._getObjectsUnderPoint(f.x,f.y,null,!0));f.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,a,f,b,k),f.down=!1);k==l&&this._dispatchMouseEvent(l,"click",!0,a,f,b);this._dispatchMouseEvent(l,"pressup",!0,a,f,b);c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):f.target=null;d&&d._handlePointerUp(a,b,c,e||k&&this)}};c._handleMouseDown=function(a){this._handlePointerDown(-1,a,a.pageX,a.pageY)};c._handlePointerDown=
function(a,b,c,e,d){this.preventSelection&&b.preventDefault();null!=this._primaryPointerID&&-1!==a||(this._primaryPointerID=a);null!=e&&this._updatePointerPosition(a,b,c,e);var f=null,k=this._nextStage,l=this._getPointerData(a);d||(f=l.target=this._getObjectsUnderPoint(l.x,l.y,null,!0));l.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,a,l,b,f),l.down=!0);this._dispatchMouseEvent(f,"mousedown",!0,a,l,b);k&&k._handlePointerDown(a,b,c,e,d||f&&this)};c._testMouseOver=function(a,b,c){if(!this._prevStage||
void 0!==b){var e=this._nextStage;if(!this._mouseOverIntervalID)return void(e&&e._testMouseOver(a,b,c));var d=this._getPointerData(-1);if(d&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var f,k,l=d.posEvtObj,m=c||l&&l.target==this.canvas,n=null,p=-1;k="";!b&&(a||this.mouseInBounds&&m)&&(n=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var r=this._mouseOverTarget||[],q=r[r.length-1],u=
this._mouseOverTarget=[];for(f=n;f;)u.unshift(f),k||(k=f.cursor),f=f.parent;this.canvas.style.cursor=k;!b&&c&&(c.canvas.style.cursor=k);f=0;for(k=u.length;k>f&&u[f]==r[f];f++)p=f;q!=n&&this._dispatchMouseEvent(q,"mouseout",!0,-1,d,l,n);for(f=r.length-1;f>p;f--)this._dispatchMouseEvent(r[f],"rollout",!1,-1,d,l,n);for(f=u.length-1;f>p;f--)this._dispatchMouseEvent(u[f],"rollover",!1,-1,d,l,q);q!=n&&this._dispatchMouseEvent(n,"mouseover",!0,-1,d,l,q);e&&e._testMouseOver(a,b||n&&this,c||m&&this)}}};c._handleDoubleClick=
function(a,b){var c=null,e=this._nextStage,d=this._getPointerData(-1);b||(c=this._getObjectsUnderPoint(d.x,d.y,null,!0),this._dispatchMouseEvent(c,"dblclick",!0,-1,d,a));e&&e._handleDoubleClick(a,b||c&&this)};c._dispatchMouseEvent=function(a,b,c,e,d,f,k){a&&(c||a.hasEventListener(b))&&(b=new createjs.MouseEvent(b,c,!1,d.x,d.y,f,e,e===this._primaryPointerID||-1===e,d.rawX,d.rawY,k),a.dispatchEvent(b))};createjs.Stage=createjs.promote(b,"Container")})();this.createjs=this.createjs||{};
(function(){function b(a){this.DisplayObject_constructor();"string"==typeof a?(this.image=document.createElement("img"),this.image.src=a):this.image=a;this.sourceRect=null}var c=createjs.extend(b,createjs.DisplayObject);c.initialize=b;c.isVisible=function(){var a=this.image,a=this.cacheCanvas||a&&(a.naturalWidth||a.getContext||2<=a.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){if(this.DisplayObject_draw(a,b)||!this.image)return!0;var c=this.image,
e=this.sourceRect;if(e){var d=e.x,f=e.y,k=d+e.width,e=f+e.height,l=0,m=0,n=c.width,p=c.height;0>d&&(l-=d,d=0);k>n&&(k=n);0>f&&(m-=f,f=0);e>p&&(e=p);a.drawImage(c,d,f,k-d,e-f,l,m,k-d,e-f)}else a.drawImage(c,0,0);return!0};c.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;var a=this.image,b=this.sourceRect||a;return a&&(a.naturalWidth||a.getContext||2<=a.readyState)?this._rectangle.setValues(0,0,b.width,b.height):null};c.clone=function(){var a=new b(this.image);return this.sourceRect&&
(a.sourceRect=this.sourceRect.clone()),this._cloneProps(a),a};c.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.DisplayObject_constructor();this.currentFrame=0;this.currentAnimation=null;this.paused=!0;this.spriteSheet=a;this.framerate=this.currentAnimationFrame=0;this._currentFrame=this._animation=null;this._skipAdvance=!1;null!=b&&this.gotoAndPlay(b)}var c=createjs.extend(b,createjs.DisplayObject);c.initialize=b;c.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,
b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var e=c.rect;return e.width&&e.height&&a.drawImage(c.image,e.x,e.y,e.width,e.height,-c.regX,-c.regY,e.width,e.height),!0};c.play=function(){this.paused=!1};c.stop=function(){this.paused=!0};c.gotoAndPlay=function(a){this.paused=!1;this._skipAdvance=!0;this._goto(a)};c.gotoAndStop=function(a){this.paused=!0;this._goto(a)};c.advance=function(a){var b=this.framerate||
this.spriteSheet.framerate;this._normalizeFrame(b&&null!=a?a/(1E3/b):1)};c.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};c.clone=function(){return this._cloneProps(new b(this.spriteSheet))};c.toString=function(){return"[Sprite (name="+this.name+")]"};c._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.currentFrame=this.currentFrame,a.currentAnimation=this.currentAnimation,a.paused=this.paused,a.currentAnimationFrame=
this.currentAnimationFrame,a.framerate=this.framerate,a._animation=this._animation,a._currentFrame=this._currentFrame,a._skipAdvance=this._skipAdvance,a};c._tick=function(a){this.paused||(this._skipAdvance||this.advance(a&&a.delta),this._skipAdvance=!1);this.DisplayObject__tick(a)};c._normalizeFrame=function(a){a=a||0;var b,c=this._animation,e=this.paused,d=this._currentFrame;if(c){var f=c.speed||1,k=this.currentAnimationFrame;if(b=c.frames.length,k+a*f>=b){var l=c.next;if(this._dispatchAnimationEnd(c,
d,e,l,b-1))return;if(l)return this._goto(l,a-(b-k)/f);this.paused=!0;k=c.frames.length-1}else k+=a*f;this.currentAnimationFrame=k;this._currentFrame=c.frames[0|k]}else if(d=this._currentFrame+=a,b=this.spriteSheet.getNumFrames(),d>=b&&0<b&&!this._dispatchAnimationEnd(c,d,e,b-1)&&(this._currentFrame-=b)>=b)return this._normalizeFrame();d=0|this._currentFrame;this.currentFrame!=d&&(this.currentFrame=d,this.dispatchEvent("change"))};c._dispatchAnimationEnd=function(a,b,c,e,d){var f=a?a.name:null;if(this.hasEventListener("animationend")){var k=
new createjs.Event("animationend");k.name=f;k.next=e;this.dispatchEvent(k)}a=this._animation!=a||this._currentFrame!=b;return a||c||!this.paused||(this.currentAnimationFrame=d,a=!0),a};c._goto=function(a,b){if(this.currentAnimationFrame=0,isNaN(a)){var c=this.spriteSheet.getAnimation(a);c&&(this._animation=c,this.currentAnimation=a,this._normalizeFrame(b))}else this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()};createjs.Sprite=createjs.promote(b,"DisplayObject")})();
this.createjs=this.createjs||{};
(function(){function b(a){this.DisplayObject_constructor();this.graphics=a?a:new createjs.Graphics}var c=createjs.extend(b,createjs.DisplayObject);c.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this.graphics.draw(a,this),!0)};c.clone=function(a){a=a&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new b(a))};
c.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.DisplayObject_constructor();this.text=a;this.font=b;this.color=c;this.textAlign="left";this.textBaseline="top";this.maxWidth=null;this.lineHeight=this.outline=0;this.lineWidth=null}var c=createjs.extend(b,createjs.DisplayObject),a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(b._workingContext=a.getContext("2d"),a.width=a.height=1);b.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1};b.V_OFFSETS={top:0,hanging:-.01,
middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1};c.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.color||"#000";return this.outline?(a.strokeStyle=c,a.lineWidth=1*this.outline):a.fillStyle=c,this._drawText(this._prepContext(a)),!0};c.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)};c.getMeasuredLineHeight=
function(){return 1.2*this._getMeasuredWidth("M")};c.getMeasuredHeight=function(){return this._drawText(null,{}).height};c.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;if(null==this.text||""===this.text)return null;var a=this._drawText(null,{}),c=this.maxWidth&&this.maxWidth<a.width?this.maxWidth:a.width,e=c*b.H_OFFSETS[this.textAlign||"left"],d=(this.lineHeight||this.getMeasuredLineHeight())*b.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,d,c,a.height)};
c.getMetrics=function(){var a={lines:[]};return a.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),a.vOffset=a.lineHeight*b.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,a,a.lines)};c.clone=function(){return this._cloneProps(new b(this.text,this.font,this.color))};c.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};c._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.textAlign=this.textAlign,a.textBaseline=
this.textBaseline,a.maxWidth=this.maxWidth,a.outline=this.outline,a.lineHeight=this.lineHeight,a.lineWidth=this.lineWidth,a};c._prepContext=function(a){return a.font=this.font||"10px sans-serif",a.textAlign=this.textAlign||"left",a.textBaseline=this.textBaseline||"top",a};c._drawText=function(a,c,e){var d=!!a;d||(a=b._workingContext,a.save(),this._prepContext(a));for(var f=this.lineHeight||this.getMeasuredLineHeight(),k=0,l=0,m=String(this.text).split(/(?:\r\n|\r|\n)/),n=0,p=m.length;p>n;n++){var r=
m[n],q=null;if(null!=this.lineWidth&&(q=a.measureText(r).width)>this.lineWidth)for(var u=r.split(/(\s)/),r=u[0],q=a.measureText(r).width,t=1,v=u.length;v>t;t+=2){var w=a.measureText(u[t]+u[t+1]).width;q+w>this.lineWidth?(d&&this._drawTextLine(a,r,l*f),e&&e.push(r),q>k&&(k=q),r=u[t+1],q=a.measureText(r).width,l++):(r+=u[t]+u[t+1],q+=w)}d&&this._drawTextLine(a,r,l*f);e&&e.push(r);c&&null==q&&(q=a.measureText(r).width);q>k&&(k=q);l++}return c&&(c.width=k,c.height=l*f),d||a.restore(),c};c._drawTextLine=
function(a,b,c){this.outline?a.strokeText(b,0,c,this.maxWidth||65535):a.fillText(b,0,c,this.maxWidth||65535)};c._getMeasuredWidth=function(a){var c=b._workingContext;c.save();a=this._prepContext(c).measureText(a).width;return c.restore(),a};createjs.Text=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.Container_constructor();this.text=a||"";this.spriteSheet=b;this.spaceWidth=this.letterSpacing=this.lineHeight=0;this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var c=createjs.extend(b,createjs.Container);b.maxPoolSize=100;b._spritePool=[];c.draw=function(a,b){this.DisplayObject_draw(a,b)||(this._updateText(),this.Container_draw(a,b))};c.getBounds=function(){return this._updateText(),this.Container_getBounds()};c.isVisible=function(){var a=
this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&0<this.alpha&&0!==this.scaleX&&0!==this.scaleY&&a)};c.clone=function(){return this._cloneProps(new b(this.text,this.spriteSheet))};c.addChild=c.addChildAt=c.removeChild=c.removeChildAt=c.removeAllChildren=function(){};c._cloneProps=function(a){return this.Container__cloneProps(a),a.lineHeight=this.lineHeight,a.letterSpacing=this.letterSpacing,a.spaceWidth=this.spaceWidth,a};c._getFrameIndex=function(a,
b){var c,e=b.getAnimation(a);return e||(a!=(c=a.toUpperCase())||a!=(c=a.toLowerCase())||(c=null),c&&(e=b.getAnimation(c))),e&&e.frames[0]};c._getFrame=function(a,b){var c=this._getFrameIndex(a,b);return null==c?c:b.getFrame(c)};c._getLineHeight=function(a){return(a=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0))?a.rect.height:1};c._getSpaceWidth=function(a){return(a=this._getFrame("1",a)||this._getFrame("l",a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0))?
a.rect.width:1};c._updateText=function(){var a,c=0,g=0,e=this._oldProps,d=!1,f=this.spaceWidth,k=this.lineHeight,l=this.spriteSheet,m=b._spritePool,n=this.children,p=0,r=n.length,q;for(q in e)e[q]!=this[q]&&(e[q]=this[q],d=!0);if(d){(e=!!this._getFrame(" ",l))||f||(f=this._getSpaceWidth(l));k||(k=this._getLineHeight(l));d=0;for(q=this.text.length;q>d;d++){var u=this.text.charAt(d);" "!=u||e?"\n"!=u&&"\r"!=u?(u=this._getFrameIndex(u,l),null!=u&&(r>p?a=n[p]:(n.push(a=m.length?m.pop():new createjs.Sprite),
a.parent=this,r++),a.spriteSheet=l,a.gotoAndStop(u),a.x=c,a.y=g,p++,c+=a.getBounds().width+this.letterSpacing)):("\r"==u&&"\n"==this.text.charAt(d+1)&&d++,c=0,g+=k):c+=f}for(;r>p;)m.push(a=n.pop()),a.parent=null,r--;m.length>b.maxPoolSize&&(m.length=b.maxPoolSize)}};createjs.BitmapText=createjs.promote(b,"Container")})();this.createjs=this.createjs||{};
(function(){function b(a,c,e,d){this.Container_constructor();!b.inited&&b.init();this.mode=a||b.INDEPENDENT;this.startPosition=c||0;this.loop=e;this.currentFrame=0;this.timeline=new createjs.Timeline(null,d,{paused:!0,position:c,useTicks:!0});this.paused=!1;this.autoReset=this.actionsEnabled=!0;this.frameBounds=this.frameBounds||null;this.framerate=null;this._synchOffset=0;this._prevPos=-1;this._t=this._prevPosition=0;this._managed={}}function c(){throw"MovieClipPlugin cannot be instantiated.";}var a=
createjs.extend(b,createjs.Container);b.INDEPENDENT="independent";b.SINGLE_FRAME="single";b.SYNCHED="synched";b.inited=!1;b.init=function(){b.inited||(c.install(),b.inited=!0)};a.getLabels=function(){return this.timeline.getLabels()};a.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()};a.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(a,{labels:{get:a.getLabels},currentLabel:{get:a.getCurrentLabel},totalFrames:{get:a.getDuration},
duration:{get:a.getDuration}})}catch(h){}a.initialize=b;a.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};a.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this._updateTimeline(),this.Container_draw(a,b),!0)};a.play=function(){this.paused=!1};a.stop=function(){this.paused=!0};a.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};a.gotoAndStop=function(a){this.paused=!0;this._goto(a)};a.advance=function(a){var c=b.INDEPENDENT;if(this.mode==c){for(var e=
this,d=e.framerate;(e=e.parent)&&null==d;)e.mode==c&&(d=e._framerate);this._framerate=d;a=null!=d&&-1!=d&&null!=a?a/(1E3/d)+this._t:1;c=0|a;for(this._t=a-c;!this.paused&&c--;)this._prevPosition=0>this._prevPos?0:this._prevPosition+1,this._updateTimeline()}};a.clone=function(){throw"MovieClip cannot be cloned.";};a.toString=function(){return"[MovieClip (name="+this.name+")]"};a._tick=function(a){this.advance(a&&a.delta);this.Container__tick(a)};a._goto=function(a){a=this.timeline.resolve(a);null!=
a&&(-1==this._prevPos&&(this._prevPos=0/0),this._prevPosition=a,this._t=0,this._updateTimeline())};a._reset=function(){this._prevPos=-1;this._t=this.currentFrame=0;this.paused=!1};a._updateTimeline=function(){var a=this.timeline,c=this.mode!=b.INDEPENDENT;a.loop=null==this.loop?!0:this.loop;var e=c?this.startPosition+(this.mode==b.SINGLE_FRAME?0:this._synchOffset):0>this._prevPos?0:this._prevPosition,c=c||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=a._calcPosition(e),a.setPosition(e,
c),this._prevPosition=a._prevPosition,this._prevPos!=a._prevPos){this.currentFrame=this._prevPos=a._prevPos;for(var d in this._managed)this._managed[d]=1;e=a._tweens;a=0;for(d=e.length;d>a;a++){var f=e[a],c=f._target;c==this||f.passive||(f=f._stepPosition,c instanceof createjs.DisplayObject?this._addManagedChild(c,f):this._setState(c.state,f))}e=this.children;for(a=e.length-1;0<=a;a--)d=e[a].id,1==this._managed[d]&&(this.removeChildAt(a),delete this._managed[d])}};a._setState=function(a,b){if(a)for(var c=
a.length-1;0<=c;c--){var d=a[c],f=d.t,d=d.p,k;for(k in d)f[k]=d[k];this._addManagedChild(f,b)}};a._addManagedChild=function(a,c){a._off||(this.addChildAt(a,0),a instanceof b&&(a._synchOffset=c,a.mode==b.INDEPENDENT&&a.autoReset&&!this._managed[a.id]&&a._reset()),this._managed[a.id]=2)};a._getBounds=function(a,b){var c=this.DisplayObject_getBounds();return c||(this._updateTimeline(),this.frameBounds&&(c=this._rectangle.copy(this.frameBounds[this.currentFrame]))),c?this._transformBounds(c,a,b):this.Container__getBounds(a,
b)};createjs.MovieClip=createjs.promote(b,"Container");c.priority=100;c.install=function(){createjs.Tween.installPlugin(c,["startPosition"])};c.init=function(a,b,c){return c};c.step=function(){};c.tween=function(a,c,e,d,f,k){return a.target instanceof b?1==k?f[c]:d[c]:e}})();this.createjs=this.createjs||{};
(function(){function b(){throw"SpriteSheetUtils cannot be instantiated";}var c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.getContext&&(b._workingCanvas=c,b._workingContext=c.getContext("2d"),c.width=c.height=1);b.addFlippedFrames=function(a,c,g,e){if(c||g||e){var d=0;c&&b._flip(a,++d,!0,!1);g&&b._flip(a,++d,!1,!0);e&&b._flip(a,++d,!0,!0)}};b.extractFrame=function(a,c){isNaN(c)&&(c=a.getAnimation(c).frames[0]);var g=a.getFrame(c);if(!g)return null;var e=g.rect,
d=b._workingCanvas;d.width=e.width;d.height=e.height;b._workingContext.drawImage(g.image,e.x,e.y,e.width,e.height,0,0,e.width,e.height);g=document.createElement("img");return g.src=d.toDataURL("image/png"),g};b.mergeAlpha=function(a,b,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(b.width,a.width);c.height=Math.max(b.height,a.height);var e=c.getContext("2d");return e.save(),e.drawImage(a,0,0),e.globalCompositeOperation="destination-in",e.drawImage(b,
0,0),e.restore(),c};b._flip=function(a,c,g,e){for(var d=a._images,f=b._workingCanvas,k=b._workingContext,l=d.length/c,m=0;l>m;m++){var n=d[m];n.__tmp=m;k.setTransform(1,0,0,1,0,0);k.clearRect(0,0,f.width+1,f.height+1);f.width=n.width;f.height=n.height;k.setTransform(g?-1:1,0,0,e?-1:1,g?n.width:0,e?n.height:0);k.drawImage(n,0,0);var p=document.createElement("img");p.src=f.toDataURL("image/png");p.width=n.width;p.height=n.height;d.push(p)}k=a._frames;f=k.length/c;for(m=0;f>m;m++){var n=k[m],r=n.rect.clone(),
p=d[n.image.__tmp+l*c],q={image:p,rect:r,regX:n.regX,regY:n.regY};g&&(r.x=p.width-r.x-r.width,q.regX=r.width-n.regX);e&&(r.y=p.height-r.y-r.height,q.regY=r.height-n.regY);k.push(q)}g="_"+(g?"h":"")+(e?"v":"");e=a._animations;a=a._data;d=e.length/c;for(m=0;d>m;m++){k=e[m];n=a[k];l={name:k+g,speed:n.speed,next:n.next,frames:[]};n.next&&(l.next+=g);k=n.frames;n=0;for(p=k.length;p>n;n++)l.frames.push(k[n]+f*c);a[l.name]=l;e.push(l.name)}};createjs.SpriteSheetUtils=b})();this.createjs=this.createjs||{};
(function(){function b(a){this.EventDispatcher_constructor();this.maxHeight=this.maxWidth=2048;this.spriteSheet=null;this.padding=this.scale=1;this.timeSlice=.3;this.progress=-1;this.framerate=a||0;this._frames=[];this._animations={};this._data=null;this._index=this._nextFrameIndex=0;this._timerID=null;this._scale=1}var c=createjs.extend(b,createjs.EventDispatcher);b.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";b.ERR_RUNNING="a build is already running";c.addFrame=function(a,
c,g,e,d){if(this._data)throw b.ERR_RUNNING;c=c||a.bounds||a.nominalBounds;return!c&&a.getBounds&&(c=a.getBounds()),c?(g=g||1,this._frames.push({source:a,sourceRect:c,scale:g,funct:e,data:d,index:this._frames.length,height:c.height*g})-1):null};c.addAnimation=function(a,c,g,e){if(this._data)throw b.ERR_RUNNING;this._animations[a]={frames:c,next:g,speed:e}};c.addMovieClip=function(a,c,g,e,d,f){if(this._data)throw b.ERR_RUNNING;var k=a.frameBounds,l=c||a.bounds||a.nominalBounds;if(!l&&a.getBounds&&(l=
a.getBounds()),l||k){var m,n;c=this._frames.length;var p=a.timeline.duration;for(m=0;p>m;m++)this.addFrame(a,k&&k[m]?k[m]:l,g,this._setupMovieClipFrame,{i:m,f:e,d:d});m=a.timeline._labels;g=[];for(n in m)g.push({index:m[n],label:n});if(g.length)for(g.sort(function(a,b){return a.index-b.index}),m=0,n=g.length;n>m;m++){e=g[m].label;d=c+g[m].index;for(var k=c+(m==n-1?p:g[m+1].index),l=[],r=d;k>r;r++)l.push(r);f&&!(e=f(e,a,d,k))||this.addAnimation(e,l,!0)}}};c.build=function(){if(this._data)throw b.ERR_RUNNING;
for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};c.buildAsync=function(a){if(this._data)throw b.ERR_RUNNING;this.timeSlice=a;this._startBuild();var c=this;this._timerID=setTimeout(function(){c._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))};c.stopAsync=function(){clearTimeout(this._timerID);this._data=null};c.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};c.toString=function(){return"[SpriteSheetBuilder]"};c._startBuild=function(){var a=
this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var c=[];this._data={images:[],frames:c,framerate:this.framerate,animations:this._animations};var g=this._frames.slice();if(g.sort(function(a,b){return a.height<=b.height?-1:1}),g[g.length-1].height+2*a>this.maxHeight)throw b.ERR_DIMENSIONS;for(var e=0,d=0,f=0;g.length;){var k=this._fillRow(g,e,f,c,a);if(k.w>d&&(d=k.w),e+=k.h,!k.h||!g.length){var l=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");
l.width=this._getSize(d,this.maxWidth);l.height=this._getSize(e,this.maxHeight);this._data.images[f]=l;k.h||(d=e=0,f++)}}};c._setupMovieClipFrame=function(a,b){var c=a.actionsEnabled;a.actionsEnabled=!1;a.gotoAndStop(b.i);a.actionsEnabled=c;b.f&&b.f(a,b.d,b.i)};c._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))};c._fillRow=function(a,c,g,e,d){var f=this.maxWidth,k=this.maxHeight;c+=d;for(var k=k-c,l=d,m=0,n=a.length-1;0<=n;n--){var p=a[n],r=this._scale*p.scale,
q=p.sourceRect,u=p.source,t=Math.floor(r*q.x-d),v=Math.floor(r*q.y-d),w=Math.ceil(r*q.height+2*d),q=Math.ceil(r*q.width+2*d);if(q>f)throw b.ERR_DIMENSIONS;w>k||l+q>f||(p.img=g,p.rect=new createjs.Rectangle(l,c,q,w),m=m||w,a.splice(n,1),e[p.index]=[l,c,q,w,g,Math.round(-t+r*u.regX-d),Math.round(-v+r*u.regY-d)],l+=q)}return{w:l,h:m}};c._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};c._run=function(){for(var a=
50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),b=(new Date).getTime()+a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var e=this;this._timerID=setTimeout(function(){e._run()},50-a)}a=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(b=new createjs.Event("progress"),b.progress=a,this.dispatchEvent(b))};c._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,e=a.sourceRect,d=this._data.images[a.img].getContext("2d");
return a.funct&&a.funct(a.source,a.data),d.save(),d.beginPath(),d.rect(c.x,c.y,c.width,c.height),d.clip(),d.translate(Math.ceil(c.x-e.x*b),Math.ceil(c.y-e.y*b)),d.scale(b,b),a.source.draw(d),d.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a){this.DisplayObject_constructor();"string"==typeof a&&(a=document.getElementById(a));this.mouseEnabled=!1;var b=a.style;b.position="absolute";b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%";this.htmlElement=a;this._oldProps=null}var c=createjs.extend(b,createjs.DisplayObject);c.isVisible=function(){return null!=this.htmlElement};c.draw=function(){return!0};c.cache=function(){};c.uncache=function(){};c.updateCache=
function(){};c.hitTest=function(){};c.localToGlobal=function(){};c.globalToLocal=function(){};c.localToLocal=function(){};c.clone=function(){throw"DOMElement cannot be cloned.";};c.toString=function(){return"[DOMElement (name="+this.name+")]"};c._tick=function(a){var b=this.getStage();b&&b.on("drawend",this._handleDrawEnd,this,!0);this.DisplayObject__tick(a)};c._handleDrawEnd=function(){var a=this.htmlElement;if(a){var a=a.style,b=this.getConcatenatedDisplayProps(this._props),c=b.matrix,e=b.visible?
"visible":"hidden";if(e!=a.visibility&&(a.visibility=e),b.visible){var d=(e=this._oldProps)&&e.matrix;d&&d.equals(c)||(d="matrix("+(1E4*c.a|0)/1E4+","+(1E4*c.b|0)/1E4+","+(1E4*c.c|0)/1E4+","+(1E4*c.d|0)/1E4+","+(c.tx+.5|0),a.transform=a.WebkitTransform=a.OTransform=a.msTransform=d+","+(c.ty+.5|0)+")",a.MozTransform=d+"px,"+(c.ty+.5|0)+"px)",e||(e=this._oldProps=new createjs.DisplayProps(!0,0/0)),e.matrix.copy(c));e.alpha!=b.alpha&&(a.opacity=""+(1E4*b.alpha|0)/1E4,e.alpha=b.alpha)}}};createjs.DOMElement=
createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};(function(){function b(){}var c=b.prototype;c.getBounds=function(a){return a};c.applyFilter=function(a,b,c,e,d,f,k,l){f=f||a;null==k&&(k=b);null==l&&(l=c);try{var m=a.getImageData(b,c,e,d)}catch(n){return!1}return this._applyFilter(m)?(f.putImageData(m,k,l),!0):!1};c.toString=function(){return"[Filter]"};c.clone=function(){return new b};c._applyFilter=function(){return!0};createjs.Filter=b})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){(isNaN(a)||0>a)&&(a=0);(isNaN(b)||0>b)&&(b=0);(isNaN(c)||1>c)&&(c=1);this.blurX=0|a;this.blurY=0|b;this.quality=0|c}var c=createjs.extend(b,createjs.Filter);b.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,
413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,
307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];b.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,
16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];c.getBounds=function(a){var b=0|this.blurX,c=0|this.blurY;if(0>=
b&&0>=c)return a;var e=Math.pow(this.quality,.2);return(a||new createjs.Rectangle).pad(b*e+1,c*e+1,b*e+1,c*e+1)};c.clone=function(){return new b(this.blurX,this.blurY,this.quality)};c.toString=function(){return"[BlurFilter]"};c._applyFilter=function(a){var c=this.blurX>>1;if(isNaN(c)||0>c)return!1;var g=this.blurY>>1;if(isNaN(g)||0>g||0==c&&0==g)return!1;var e=this.quality;(isNaN(e)||1>e)&&(e=1);e|=0;3<e&&(e=3);1>e&&(e=1);var d=a.data,f=0,k=0,l=0,m=0,n=0,p=0,r=0,q=0,u=0,t=0,v=0,w=0,B=0,C=0,n=0,q=
c+c+1|0,p=g+g+1|0,x=0|a.width;a=0|a.height;for(var G=x-1|0,F=a-1|0,E=c+1|0,D=g+1|0,H={r:0,b:0,g:0,a:0},f=H,l=1;q>l;l++)f=f.n={r:0,b:0,g:0,a:0};f.n=H;for(var I={r:0,b:0,g:0,a:0},k=I,l=1;p>l;l++)k=k.n={r:0,b:0,g:0,a:0};k.n=I;for(var l=null,y=0|b.MUL_TABLE[c],J=0|b.SHG_TABLE[c],K=0|b.MUL_TABLE[g],L=0|b.SHG_TABLE[g];0<e--;){for(var r=p=0,z=y,A=J,k=a;-1<--k;){q=E*(w=d[0|p]);u=E*(B=d[p+1|0]);t=E*(C=d[p+2|0]);v=E*(n=d[p+3|0]);f=H;for(l=E;-1<--l;)f.r=w,f.g=B,f.b=C,f.a=n,f=f.n;for(l=1;E>l;l++)m=p+((l>G?G:
l)<<2)|0,q+=f.r=d[m],u+=f.g=d[m+1],t+=f.b=d[m+2],v+=f.a=d[m+3],f=f.n;l=H;for(f=0;x>f;f++)d[p++]=q*z>>>A,d[p++]=u*z>>>A,d[p++]=t*z>>>A,d[p++]=v*z>>>A,m=r+((m=f+c+1)<G?m:G)<<2,q-=l.r-(l.r=d[m]),u-=l.g-(l.g=d[m+1]),t-=l.b-(l.b=d[m+2]),v-=l.a-(l.a=d[m+3]),l=l.n;r+=x}z=K;A=L;for(f=0;x>f;f++){p=f<<2|0;q=D*(w=d[p])|0;u=D*(B=d[p+1|0])|0;t=D*(C=d[p+2|0])|0;v=D*(n=d[p+3|0])|0;k=I;for(l=0;D>l;l++)k.r=w,k.g=B,k.b=C,k.a=n,k=k.n;n=x;for(l=1;g>=l;l++)p=n+f<<2,q+=k.r=d[p],u+=k.g=d[p+1],t+=k.b=d[p+2],v+=k.a=d[p+3],
k=k.n,F>l&&(n+=x);if(p=f,l=I,0<e)for(k=0;a>k;k++)m=p<<2,d[m+3]=n=v*z>>>A,0<n?(d[m]=q*z>>>A,d[m+1]=u*z>>>A,d[m+2]=t*z>>>A):d[m]=d[m+1]=d[m+2]=0,m=f+((m=k+D)<F?m:F)*x<<2,q-=l.r-(l.r=d[m]),u-=l.g-(l.g=d[m+1]),t-=l.b-(l.b=d[m+2]),v-=l.a-(l.a=d[m+3]),l=l.n,p+=x;else for(k=0;a>k;k++)m=p<<2,d[m+3]=n=v*z>>>A,0<n?(n=255/n,d[m]=(q*z>>>A)*n,d[m+1]=(u*z>>>A)*n,d[m+2]=(t*z>>>A)*n):d[m]=d[m+1]=d[m+2]=0,m=f+((m=k+D)<F?m:F)*x<<2,q-=l.r-(l.r=d[m]),u-=l.g-(l.g=d[m+1]),t-=l.b-(l.b=d[m+2]),v-=l.a-(l.a=d[m+3]),l=l.n,
p+=x}}return!0};createjs.BlurFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a){this.alphaMap=a;this._mapData=this._alphaMap=null}var c=createjs.extend(b,createjs.Filter);c.clone=function(){var a=new b(this.alphaMap);return a._alphaMap=this._alphaMap,a._mapData=this._mapData,a};c.toString=function(){return"[AlphaMapFilter]"};c._applyFilter=function(a){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;a=a.data;for(var b=this._mapData,c=0,e=a.length;e>c;c+=4)a[c+3]=b[c]||0;return!0};c._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==
this._alphaMap&&this._mapData)return!0;this._mapData=null;var a,b=this._alphaMap=this.alphaMap,c=b;b instanceof HTMLCanvasElement?a=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=b.width,c.height=b.height,a=c.getContext("2d"),a.drawImage(b,0,0));try{var e=a.getImageData(0,0,b.width,b.height)}catch(d){return!1}return this._mapData=e.data,!0};createjs.AlphaMapFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a){this.mask=a}var c=createjs.extend(b,createjs.Filter);c.applyFilter=function(a,b,c,e,d,f,k,l){return this.mask?(f=f||a,null==k&&(k=b),null==l&&(l=c),f.save(),a!=f?!1:(f.globalCompositeOperation="destination-in",f.drawImage(this.mask,k,l),f.restore(),!0)):!0};c.clone=function(){return new b(this.mask)};c.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,e,d,f,k,l){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=b?b:1;this.blueMultiplier=null!=c?c:1;this.alphaMultiplier=null!=e?e:1;this.redOffset=d||0;this.greenOffset=f||0;this.blueOffset=k||0;this.alphaOffset=l||0}var c=createjs.extend(b,createjs.Filter);c.toString=function(){return"[ColorFilter]"};c.clone=function(){return new b(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,
this.alphaOffset)};c._applyFilter=function(a){a=a.data;for(var b=a.length,c=0;b>c;c+=4)a[c]=a[c]*this.redMultiplier+this.redOffset,a[c+1]=a[c+1]*this.greenMultiplier+this.greenOffset,a[c+2]=a[c+2]*this.blueMultiplier+this.blueOffset,a[c+3]=a[c+3]*this.alphaMultiplier+this.alphaOffset;return!0};createjs.ColorFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,e){this.setColor(a,b,c,e)}var c=b.prototype;b.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];b.IDENTITY_MATRIX=
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];b.LENGTH=b.IDENTITY_MATRIX.length;c.setColor=function(a,b,c,e){return this.reset().adjustColor(a,b,c,e)};c.reset=function(){return this.copy(b.IDENTITY_MATRIX)};c.adjustColor=function(a,b,c,e){return this.adjustHue(e),this.adjustContrast(b),this.adjustBrightness(a),this.adjustSaturation(c)};c.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),
this)};c.adjustContrast=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var c;return 0>a?c=127+a/100*127:(c=a%1,c=0==c?b.DELTA_INDEX[a]:b.DELTA_INDEX[a<<0]*(1-c)+b.DELTA_INDEX[(a<<0)+1]*c,c=127*c+127),this._multiplyMatrix([c/127,0,0,0,.5*(127-c),0,c/127,0,0,.5*(127-c),0,0,c/127,0,.5*(127-c),0,0,0,1,0,0,0,0,0,1]),this};c.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);a=1+(0<a?3*a/100:a/100);return this._multiplyMatrix([.3086*(1-a)+a,.6094*(1-
a),.082*(1-a),0,0,.3086*(1-a),.6094*(1-a)+a,.082*(1-a),0,0,.3086*(1-a),.6094*(1-a),.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]),this};c.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a);a=Math.sin(a);return this._multiplyMatrix([.213+.787*b+-.213*a,.715+-.715*b+-.715*a,.072+-.072*b+.928*a,0,0,.213+-.213*b+.143*a,.715+b*(1-.715)+.14*a,.072+-.072*b+-.283*a,0,0,.213+-.213*b+-.787*a,.715+-.715*b+.715*a,.072+.928*b+.072*a,0,0,0,0,0,1,0,0,0,0,0,1]),this};
c.concat=function(a){return a=this._fixMatrix(a),a.length!=b.LENGTH?this:(this._multiplyMatrix(a),this)};c.clone=function(){return(new b).copy(this)};c.toArray=function(){for(var a=[],c=0,g=b.LENGTH;g>c;c++)a[c]=this[c];return a};c.copy=function(a){for(var c=b.LENGTH,g=0;c>g;g++)this[g]=a[g];return this};c.toString=function(){return"[ColorMatrix]"};c._multiplyMatrix=function(a){var b,c,e,d=[];for(b=0;5>b;b++){for(c=0;5>c;c++)d[c]=this[c+5*b];for(c=0;5>c;c++){var f=0;for(e=0;5>e;e++)f+=a[c+5*e]*d[e];
this[c+5*b]=f}}};c._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};c._fixMatrix=function(a){return a instanceof b&&(a=a.toArray()),a.length<b.LENGTH?a=a.slice(0,a.length).concat(b.IDENTITY_MATRIX.slice(a.length,b.LENGTH)):a.length>b.LENGTH&&(a=a.slice(0,b.LENGTH)),a};createjs.ColorMatrix=b})();this.createjs=this.createjs||{};
(function(){function b(a){this.matrix=a}var c=createjs.extend(b,createjs.Filter);c.toString=function(){return"[ColorMatrixFilter]"};c.clone=function(){return new b(this.matrix)};c._applyFilter=function(a){var b,c,e,d;a=a.data;var f=a.length;b=this.matrix;for(var k=b[0],l=b[1],m=b[2],n=b[3],p=b[4],r=b[5],q=b[6],u=b[7],t=b[8],v=b[9],w=b[10],B=b[11],C=b[12],x=b[13],G=b[14],F=b[15],E=b[16],D=b[17],H=b[18],I=b[19],y=0;f>y;y+=4)b=a[y],c=a[y+1],e=a[y+2],d=a[y+3],a[y]=b*k+c*l+e*m+d*n+p,a[y+1]=b*r+c*q+e*u+
d*t+v,a[y+2]=b*w+c*B+e*C+d*x+G,a[y+3]=b*F+c*E+e*D+d*H+I;return!0};createjs.ColorMatrixFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(){throw"Touch cannot be instantiated";}b.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints)};b.enable=function(c,a,h){return c&&c.canvas&&b.isSupported()?c.__touch?!0:(c.__touch={pointers:{},multitouch:!a,preventDefault:!h,count:0},"ontouchstart"in window?b._IOS_enable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&
b._IE_enable(c),!0):!1};b.disable=function(c){c&&("ontouchstart"in window?b._IOS_disable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&b._IE_disable(c),delete c.__touch)};b._IOS_enable=function(c){var a=c.canvas,h=c.__touch.f=function(a){b._IOS_handleEvent(c,a)};a.addEventListener("touchstart",h,!1);a.addEventListener("touchmove",h,!1);a.addEventListener("touchend",h,!1);a.addEventListener("touchcancel",h,!1)};b._IOS_disable=function(b){var a=b.canvas;a&&(b=b.__touch.f,
a.removeEventListener("touchstart",b,!1),a.removeEventListener("touchmove",b,!1),a.removeEventListener("touchend",b,!1),a.removeEventListener("touchcancel",b,!1))};b._IOS_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var h=a.changedTouches,g=a.type,e=0,d=h.length;d>e;e++){var f=h[e],k=f.identifier;f.target==b.canvas&&("touchstart"==g?this._handleStart(b,k,a,f.pageX,f.pageY):"touchmove"==g?this._handleMove(b,k,a,f.pageX,f.pageY):("touchend"==g||
"touchcancel"==g)&&this._handleEnd(b,k,a))}}};b._IE_enable=function(c){var a=c.canvas,h=c.__touch.f=function(a){b._IE_handleEvent(c,a)};void 0===window.navigator.pointerEnabled?(a.addEventListener("MSPointerDown",h,!1),window.addEventListener("MSPointerMove",h,!1),window.addEventListener("MSPointerUp",h,!1),window.addEventListener("MSPointerCancel",h,!1),c.__touch.preventDefault&&(a.style.msTouchAction="none")):(a.addEventListener("pointerdown",h,!1),window.addEventListener("pointermove",h,!1),window.addEventListener("pointerup",
h,!1),window.addEventListener("pointercancel",h,!1),c.__touch.preventDefault&&(a.style.touchAction="none"));c.__touch.activeIDs={}};b._IE_disable=function(b){var a=b.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",a,!1),window.removeEventListener("MSPointerUp",a,!1),window.removeEventListener("MSPointerCancel",a,!1),b.canvas&&b.canvas.removeEventListener("MSPointerDown",a,!1)):(window.removeEventListener("pointermove",a,!1),window.removeEventListener("pointerup",
a,!1),window.removeEventListener("pointercancel",a,!1),b.canvas&&b.canvas.removeEventListener("pointerdown",a,!1))};b._IE_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();var h=a.type,g=a.pointerId,e=b.__touch.activeIDs;"MSPointerDown"==h||"pointerdown"==h?a.srcElement==b.canvas&&(e[g]=!0,this._handleStart(b,g,a,a.pageX,a.pageY)):e[g]&&("MSPointerMove"==h||"pointermove"==h?this._handleMove(b,g,a,a.pageX,a.pageY):("MSPointerUp"==h||"MSPointerCancel"==h||
"pointerup"==h||"pointercancel"==h)&&(delete e[g],this._handleEnd(b,g,a)))}};b._handleStart=function(b,a,h,g,e){var d=b.__touch;if(d.multitouch||!d.count){var f=d.pointers;f[a]||(f[a]=!0,d.count++,b._handlePointerDown(a,h,g,e))}};b._handleMove=function(b,a,h,g,e){b.__touch.pointers[a]&&b._handlePointerMove(a,h,g,e)};b._handleEnd=function(b,a,h){var g=b.__touch,e=g.pointers;e[a]&&(g.count--,b._handlePointerUp(a,h,!0),delete e[a])};createjs.Touch=b})();this.createjs=this.createjs||{};
(function(){var b=createjs.EaselJS=createjs.EaselJS||{};b.version="0.8.2";b.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(b,c){function a(){this.constructor=b}return a.prototype=c.prototype,b.prototype=new a};this.createjs=this.createjs||{};
createjs.promote=function(b,c){var a=b.prototype,h=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(h){a[(c+="_")+"constructor"]=h.constructor;for(var g in h)a.hasOwnProperty(g)&&"function"==typeof h[g]&&(a[c+g]=h[g])}return b};this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!b;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};c.stopPropagation=function(){this.propagationStopped=!0};c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};c.remove=function(){this.removed=!0};c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)};c.set=function(a){for(var b in a)this[b]=a[b];return this};c.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=b})();this.createjs=this.createjs||{};
(function(){function b(){this._captureListeners=this._listeners=null}var c=b.prototype;b.initialize=function(a){a.addEventListener=c.addEventListener;a.on=c.on;a.removeEventListener=a.off=c.removeEventListener;a.removeAllEventListeners=c.removeAllEventListeners;a.hasEventListener=c.hasEventListener;a.dispatchEvent=c.dispatchEvent;a._dispatchEvent=c._dispatchEvent;a.willTrigger=c.willTrigger};c.addEventListener=function(a,b,c){var e;e=c?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var d=e[a];return d&&this.removeEventListener(a,b,c),d=e[a],d?d.push(b):e[a]=[b],b};c.on=function(a,b,c,e,d,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,d);e&&a.remove()},f)};c.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var e=c[a];if(e)for(var d=0,f=e.length;f>d;d++)if(e[d]==b){1==f?delete c[a]:e.splice(d,1);break}}};c.off=c.removeEventListener;c.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};c.dispatchEvent=function(a,b,c){if("string"==typeof a){var e=this._listeners;if(!(b||e&&e[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(d){}if(a.bubbles&&this.parent){c=this;for(b=[c];c.parent;)b.push(c=c.parent);e=b.length;for(c=e-1;0<=c&&!a.propagationStopped;c--)b[c]._dispatchEvent(a,1+(0==c));
for(c=1;e>c&&!a.propagationStopped;c++)b[c]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};c.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};c.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};c.toString=function(){return"[EventDispatcher]"};c._dispatchEvent=function(a,b){var c,e=1==b?this._captureListeners:this._listeners;if(a&&e&&(e=e[a.type])&&(c=e.length)){try{a.currentTarget=
this}catch(k){}try{a.eventPhase=b}catch(k){}a.removed=!1;for(var e=e.slice(),d=0;c>d&&!a.immediatePropagationStopped;d++){var f=e[d];f.handleEvent?f.handleEvent(a):f(a);a.removed&&(this.off(a.type,f,1==b),a.removed=!1)}}};createjs.EventDispatcher=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"Ticker cannot be instantiated.";}b.RAF_SYNCHED="synched";b.RAF="raf";b.TIMEOUT="timeout";b.useRAF=!1;b.timingMode=null;b.maxDelta=0;b.paused=!1;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;createjs.EventDispatcher.initialize(b);b._addEventListener=b.addEventListener;b.addEventListener=function(){return!b._inited&&b.init(),b._addEventListener.apply(b,arguments)};b._inited=!1;b._startTime=0;b._pausedTime=
0;b._ticks=0;b._pausedTicks=0;b._interval=50;b._lastTime=0;b._times=null;b._tickTimes=null;b._timerId=null;b._raf=!0;b.setInterval=function(a){b._interval=a;b._inited&&b._setupTick()};b.getInterval=function(){return b._interval};b.setFPS=function(a){b.setInterval(1E3/a)};b.getFPS=function(){return 1E3/b._interval};try{Object.defineProperties(b,{interval:{get:b.getInterval,set:b.setInterval},framerate:{get:b.getFPS,set:b.setFPS}})}catch(a){console.log(a)}b.init=function(){b._inited||(b._inited=!0,
b._times=[],b._tickTimes=[],b._startTime=b._getTime(),b._times.push(b._lastTime=0),b.interval=b._interval)};b.reset=function(){if(b._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(b._timerId)}else clearTimeout(b._timerId);b.removeAllEventListeners("tick");b._timerId=b._times=b._tickTimes=null;b._startTime=b._lastTime=b._ticks=0;b._inited=!1};b.getMeasuredTickTime=function(a){var c=
0,g=b._tickTimes;if(!g||1>g.length)return-1;a=Math.min(g.length,a||0|b.getFPS());for(var e=0;a>e;e++)c+=g[e];return c/a};b.getMeasuredFPS=function(a){var c=b._times;return!c||2>c.length?-1:(a=Math.min(c.length-1,a||0|b.getFPS()),1E3/((c[0]-c[a])/a))};b.setPaused=function(a){b.paused=a};b.getPaused=function(){return b.paused};b.getTime=function(a){return b._startTime?b._getTime()-(a?b._pausedTime:0):-1};b.getEventTime=function(a){return b._startTime?(b._lastTime||b._startTime)-(a?b._pausedTime:0):
-1};b.getTicks=function(a){return b._ticks-(a?b._pausedTicks:0)};b._handleSynch=function(){b._timerId=null;b._setupTick();b._getTime()-b._lastTime>=.97*(b._interval-1)&&b._tick()};b._handleRAF=function(){b._timerId=null;b._setupTick();b._tick()};b._handleTimeout=function(){b._timerId=null;b._setupTick();b._tick()};b._setupTick=function(){if(null==b._timerId){var a=b.timingMode||b.useRAF&&b.RAF_SYNCHED;if(a==b.RAF_SYNCHED||a==b.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return b._timerId=c(a==b.RAF?b._handleRAF:b._handleSynch),void(b._raf=!0)}b._raf=!1;b._timerId=setTimeout(b._handleTimeout,b._interval)}};b._tick=function(){var a=b.paused,c=b._getTime(),g=c-b._lastTime;if(b._lastTime=c,b._ticks++,a&&(b._pausedTicks++,b._pausedTime+=g),b.hasEventListener("tick")){var e=new createjs.Event("tick"),d=b.maxDelta;e.delta=d&&g>d?d:g;e.paused=a;e.time=c;e.runTime=c-b._pausedTime;
b.dispatchEvent(e)}for(b._tickTimes.unshift(b._getTime()-c);100<b._tickTimes.length;)b._tickTimes.pop();for(b._times.unshift(c);100<b._times.length;)b._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-b._startTime};createjs.Ticker=b})();this.createjs=this.createjs||{};
(function(){function b(a,c,g){this.loop=this.ignoreGlobalPause=!1;this.duration=0;this.pluginData=g||{};this.target=a;this.position=null;this._paused=this.passive=!1;this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];this._stepPosition=this._prevPosition=0;this._prevPos=-1;this._target=a;this._registered=this._inited=this._useTicks=!1;c&&(this._useTicks=c.useTicks,this.ignoreGlobalPause=c.ignoreGlobalPause,this.loop=c.loop,c.onChange&&this.addEventListener("change",c.onChange),
c.override&&b.removeTweens(a));c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,b.NONE)}var c=createjs.extend(b,createjs.EventDispatcher);b.NONE=0;b.LOOP=1;b.REVERSE=2;b.IGNORE={};b._tweens=[];b._plugins={};b.get=function(a,c,g,e){return e&&b.removeTweens(a),new b(a,c,g)};b.tick=function(a,c){for(var g=b._tweens.slice(),e=g.length-1;0<=e;e--){var d=g[e];c&&!d.ignoreGlobalPause||d._paused||d.tick(d._useTicks?1:a)}};b.handleEvent=function(a){"tick"==
a.type&&this.tick(a.delta,a.paused)};b.removeTweens=function(a){if(a.tweenjs_count){for(var c=b._tweens,g=c.length-1;0<=g;g--){var e=c[g];e._target==a&&(e._paused=!0,c.splice(g,1))}a.tweenjs_count=0}};b.removeAllTweens=function(){for(var a=b._tweens,c=0,g=a.length;g>c;c++){var e=a[c];e._paused=!0;e.target&&(e.target.tweenjs_count=0)}a.length=0};b.hasActiveTweens=function(a){return a?null!=a.tweenjs_count&&!!a.tweenjs_count:b._tweens&&!!b._tweens.length};b.installPlugin=function(a,c){var g=a.priority;
null==g&&(a.priority=g=0);for(var e=0,d=c.length,f=b._plugins;d>e;e++){var k=c[e];if(f[k]){for(var l=f[k],m=0,n=l.length;n>m&&!(g<l[m].priority);m++);f[k].splice(m,0,a)}else f[k]=[a]}};b._register=function(a,c){var g=a._target,e=b._tweens;if(c&&!a._registered)g&&(g.tweenjs_count=g.tweenjs_count?g.tweenjs_count+1:1),e.push(a),!b._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",b),b._inited=!0);else if(!c&&a._registered)for(g&&g.tweenjs_count--,g=e.length;g--;)if(e[g]==a){e.splice(g,
1);break}a._registered=c};c.wait=function(a,b){if(null==a||0>=a)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:a,p0:c,e:this._linearEase,p1:c,v:b})};c.to=function(a,b,c){return(isNaN(b)||0>b)&&(b=0),this._addStep({d:b||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(a))})};c.call=function(a,b,c){return this._addAction({f:a,p:b?b:[this],o:c?c:this._target})};c.set=function(a,b){return this._addAction({f:this._set,o:this,p:[a,
b?b:this._target]})};c.play=function(a){return a||(a=this),this.call(a.setPaused,[!1],a)};c.pause=function(a){return a||(a=this),this.call(a.setPaused,[!0],a)};c.setPosition=function(a,b){0>a&&(a=0);null==b&&(b=1);var c=a,e=!1;if(c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,e=!0)),c==this._prevPos)return e;var d=this._prevPos;if(this.position=this._prevPos=c,this._prevPosition=a,this._target)if(e)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var f=0,k=this._steps.length;k>
f&&!(this._steps[f].t>c);f++);f=this._steps[f-1];this._updateTargetProps(f,(this._stepPosition=c-f.t)/f.d)}return 0!=b&&0<this._actions.length&&(this._useTicks?this._runActions(c,c):1==b&&d>c?(d!=this.duration&&this._runActions(d,this.duration),this._runActions(0,c,!0)):this._runActions(d,c)),e&&this.setPaused(!0),this.dispatchEvent("change"),e};c.tick=function(a){this._paused||this.setPosition(this._prevPosition+a)};c.setPaused=function(a){return this._paused===!!a?this:(this._paused=!!a,b._register(this,
!a),this)};c.w=c.wait;c.t=c.to;c.c=c.call;c.s=c.set;c.toString=function(){return"[Tween]"};c.clone=function(){throw"Tween can not be cloned.";};c._updateTargetProps=function(a,c){var g,e,d,f;if(a||1!=c){if(this.passive=!!a.v,this.passive)return;a.e&&(c=a.e(c,0,1,1));g=a.p0;e=a.p1}else this.passive=!1,g=e=this._curQueueProps;for(var k in this._initQueueProps){null==(d=g[k])&&(g[k]=d=this._initQueueProps[k]);null==(f=e[k])&&(e[k]=f=d);d=d==f||0==c||1==c||"number"!=typeof d?1==c?f:d:d+(f-d)*c;var l=
!1;if(f=b._plugins[k])for(var m=0,n=f.length;n>m;m++){var p=f[m].tween(this,k,d,g,e,c,!!a&&g==e,!a);p==b.IGNORE?l=!0:d=p}l||(this._target[k]=d)}};c._runActions=function(a,b,c){var e=a,d=b,f=-1,k=this._actions.length,l=1;for(a>b&&(e=b,d=a,f=k,k=l=-1);(f+=l)!=k;){b=this._actions[f];var m=b.t;(m==d||m>e&&d>m||c&&m==a)&&b.f.apply(b.o,b.p)}};c._appendQueueProps=function(a){var c,g,e,d,f,k;for(k in a)if(void 0===this._initQueueProps[k]){if(g=this._target[k],c=b._plugins[k])for(e=0,d=c.length;d>e;e++)g=
c[e].init(this,k,g);this._initQueueProps[k]=this._curQueueProps[k]=void 0===g?null:g}for(k in a){if(g=this._curQueueProps[k],c=b._plugins[k])for(f=f||{},e=0,d=c.length;d>e;e++)c[e].step&&c[e].step(this,k,g,a[k],f);this._curQueueProps[k]=a[k]}return f&&this._appendQueueProps(f),this._curQueueProps};c._cloneProps=function(a){var b={},c;for(c in a)b[c]=a[c];return b};c._addStep=function(a){return 0<a.d&&(this._steps.push(a),a.t=this.duration,this.duration+=a.d),this};c._addAction=function(a){return a.t=
this.duration,this._actions.push(a),this};c._set=function(a,b){for(var c in a)b[c]=a[c]};createjs.Tween=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.EventDispatcher_constructor();this.ignoreGlobalPause=!1;this.duration=0;this.loop=!1;this.position=null;this._paused=!1;this._tweens=[];this._labelList=this._labels=null;this._prevPosition=0;this._prevPos=-1;this._registered=this._useTicks=!1;c&&(this._useTicks=c.useTicks,this.loop=c.loop,this.ignoreGlobalPause=c.ignoreGlobalPause,c.onChange&&this.addEventListener("change",c.onChange));a&&this.addTween.apply(this,a);this.setLabels(b);c&&c.paused?this._paused=!0:
createjs.Tween._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,createjs.Tween.NONE)}var c=createjs.extend(b,createjs.EventDispatcher);c.addTween=function(a){var b=arguments.length;if(1<b){for(var c=0;b>c;c++)this.addTween(arguments[c]);return arguments[0]}return 0==b?null:(this.removeTween(a),this._tweens.push(a),a.setPaused(!0),a._paused=!1,a._useTicks=this._useTicks,a.duration>this.duration&&(this.duration=a.duration),0<=this._prevPos&&a.setPosition(this._prevPos,createjs.Tween.NONE),
a)};c.removeTween=function(a){var b=arguments.length;if(1<b){for(var c=!0,e=0;b>e;e++)c=c&&this.removeTween(arguments[e]);return c}if(0==b)return!1;b=this._tweens;for(e=b.length;e--;)if(b[e]==a)return b.splice(e,1),a.duration>=this.duration&&this.updateDuration(),!0;return!1};c.addLabel=function(a,b){this._labels[a]=b;var c=this._labelList;if(c){for(var e=0,d=c.length;d>e&&!(b<c[e].position);e++);c.splice(e,0,{label:a,position:b})}};c.setLabels=function(a){this._labels=a?a:{}};c.getLabels=function(){var a=
this._labelList;if(!a){var a=this._labelList=[],b=this._labels,c;for(c in b)a.push({label:c,position:b[c]});a.sort(function(a,b){return a.position-b.position})}return a};c.getCurrentLabel=function(){var a=this.getLabels(),b=this.position,c=a.length;if(c){for(var e=0;c>e&&!(b<a[e].position);e++);return 0==e?null:a[e-1].label}return null};c.gotoAndPlay=function(a){this.setPaused(!1);this._goto(a)};c.gotoAndStop=function(a){this.setPaused(!0);this._goto(a)};c.setPosition=function(a,b){var c=this._calcPosition(a),
e=!this.loop&&a>=this.duration;if(c==this._prevPos)return e;this._prevPosition=a;this.position=this._prevPos=c;for(var d=0,f=this._tweens.length;f>d;d++)if(this._tweens[d].setPosition(c,b),c!=this._prevPos)return!1;return e&&this.setPaused(!0),this.dispatchEvent("change"),e};c.setPaused=function(a){this._paused=!!a;createjs.Tween._register(this,!a)};c.updateDuration=function(){for(var a=this.duration=0,b=this._tweens.length;b>a;a++){var c=this._tweens[a];c.duration>this.duration&&(this.duration=c.duration)}};
c.tick=function(a){this.setPosition(this._prevPosition+a)};c.resolve=function(a){var b=Number(a);return isNaN(b)&&(b=this._labels[a]),b};c.toString=function(){return"[Timeline]"};c.clone=function(){throw"Timeline can not be cloned.";};c._goto=function(a){a=this.resolve(a);null!=a&&this.setPosition(a)};c._calcPosition=function(a){return 0>a?0:a<this.duration?a:this.loop?a%this.duration:this.duration};createjs.Timeline=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(){throw"Ease cannot be instantiated.";}b.linear=function(b){return b};b.none=b.linear;b.get=function(b){return-1>b&&(b=-1),1<b&&(b=1),function(a){return 0==b?a:0>b?a*(a*-b+1+b):a*((2-a)*b+(1-b))}};b.getPowIn=function(b){return function(a){return Math.pow(a,b)}};b.getPowOut=function(b){return function(a){return 1-Math.pow(1-a,b)}};b.getPowInOut=function(b){return function(a){return 1>(a*=2)?.5*Math.pow(a,b):1-.5*Math.abs(Math.pow(2-a,b))}};b.quadIn=b.getPowIn(2);b.quadOut=b.getPowOut(2);
b.quadInOut=b.getPowInOut(2);b.cubicIn=b.getPowIn(3);b.cubicOut=b.getPowOut(3);b.cubicInOut=b.getPowInOut(3);b.quartIn=b.getPowIn(4);b.quartOut=b.getPowOut(4);b.quartInOut=b.getPowInOut(4);b.quintIn=b.getPowIn(5);b.quintOut=b.getPowOut(5);b.quintInOut=b.getPowInOut(5);b.sineIn=function(b){return 1-Math.cos(b*Math.PI/2)};b.sineOut=function(b){return Math.sin(b*Math.PI/2)};b.sineInOut=function(b){return-.5*(Math.cos(Math.PI*b)-1)};b.getBackIn=function(b){return function(a){return a*a*((b+1)*a-b)}};
b.backIn=b.getBackIn(1.7);b.getBackOut=function(b){return function(a){return--a*a*((b+1)*a+b)+1}};b.backOut=b.getBackOut(1.7);b.getBackInOut=function(b){return b*=1.525,function(a){return 1>(a*=2)?.5*a*a*((b+1)*a-b):.5*((a-=2)*a*((b+1)*a+b)+2)}};b.backInOut=b.getBackInOut(1.7);b.circIn=function(b){return-(Math.sqrt(1-b*b)-1)};b.circOut=function(b){return Math.sqrt(1- --b*b)};b.circInOut=function(b){return 1>(b*=2)?-.5*(Math.sqrt(1-b*b)-1):.5*(Math.sqrt(1-(b-=2)*b)+1)};b.bounceIn=function(c){return 1-
b.bounceOut(1-c)};b.bounceOut=function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375};b.bounceInOut=function(c){return.5>c?.5*b.bounceIn(2*c):.5*b.bounceOut(2*c-1)+.5};b.getElasticIn=function(b,a){var h=2*Math.PI;return function(g){if(0==g||1==g)return g;var e=a/h*Math.asin(1/b);return-(b*Math.pow(2,10*--g)*Math.sin((g-e)*h/a))}};b.elasticIn=b.getElasticIn(1,.3);b.getElasticOut=function(b,a){var h=2*Math.PI;
return function(g){return 0==g||1==g?g:b*Math.pow(2,-10*g)*Math.sin((g-a/h*Math.asin(1/b))*h/a)+1}};b.elasticOut=b.getElasticOut(1,.3);b.getElasticInOut=function(b,a){var h=2*Math.PI;return function(g){var e=a/h*Math.asin(1/b);return 1>(g*=2)?-.5*b*Math.pow(2,10*--g)*Math.sin((g-e)*h/a):b*Math.pow(2,-10*--g)*Math.sin((g-e)*h/a)*.5+1}};b.elasticInOut=b.getElasticInOut(1,.3*1.5);createjs.Ease=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"MotionGuidePlugin cannot be instantiated.";}b.priority=0;b._rotOffS;b._rotOffE;b._rotNormS;b._rotNormE;b.install=function(){return createjs.Tween.installPlugin(b,["guide","x","y","rotation"]),createjs.Tween.IGNORE};b.init=function(b,a,h){var g=b.target;return g.hasOwnProperty("x")||(g.x=0),g.hasOwnProperty("y")||(g.y=0),g.hasOwnProperty("rotation")||(g.rotation=0),"rotation"==a&&(b.__needsRot=!0),"guide"==a?null:h};b.step=function(c,a,h,g,e){if("rotation"==a&&(c.__rotGlobalS=
h,c.__rotGlobalE=g,b.testRotData(c,e)),"guide"!=a)return g;var d;g.hasOwnProperty("path")||(g.path=[]);a=g.path;if(g.hasOwnProperty("end")||(g.end=1),g.hasOwnProperty("start")||(g.start=h&&h.hasOwnProperty("end")&&h.path===a?h.end:0),g.hasOwnProperty("_segments")&&g._length)return g;h=a.length;if(!(6<=h&&0==(h-2)%4))throw"invalid 'path' data, please see documentation for valid paths";g._segments=[];g._length=0;for(var f=2;h>f;f+=4){for(var k,l,m=a[f-2],n=a[f-1],p=a[f+0],r=a[f+1],q=a[f+2],u=a[f+3],
t=m,v=n,w=0,B=[],C=1;10>=C;C++){l=C/10;var x=1-l;k=x*x*m+2*x*l*p+l*l*q;l=x*x*n+2*x*l*r+l*l*u;w+=B[B.push(Math.sqrt((d=k-t)*d+(d=l-v)*d))-1];t=k;v=l}g._segments.push(w);g._segments.push(B);g._length+=w}d=g.orient;g.orient=!0;a={};return b.calc(g,g.start,a),c.__rotPathS=Number(a.rotation.toFixed(5)),b.calc(g,g.end,a),c.__rotPathE=Number(a.rotation.toFixed(5)),g.orient=!1,b.calc(g,g.end,e),g.orient=d,g.orient?(c.__guideData=g,b.testRotData(c,e),g):g};b.testRotData=function(b,a){if(void 0===b.__rotGlobalS||
void 0===b.__rotGlobalE){if(b.__needsRot)return;b.__rotGlobalS=b.__rotGlobalE=void 0!==b._curQueueProps.rotation?b._curQueueProps.rotation:a.rotation=b.target.rotation||0}if(void 0!==b.__guideData){var h=b.__guideData,g=b.__rotGlobalE-b.__rotGlobalS,e=b.__rotPathE-b.__rotPathS,d=g-e;if("auto"==h.orient)180<d?d-=360:-180>d&&(d+=360);else if("cw"==h.orient){for(;0>d;)d+=360;0==d&&0<g&&180!=g&&(d+=360)}else if("ccw"==h.orient){for(d=g-(180<e?360-e:e);0<d;)d-=360;0==d&&0>g&&-180!=g&&(d-=360)}h.rotDelta=
d;h.rotOffS=b.__rotGlobalS-b.__rotPathS;b.__rotGlobalS=b.__rotGlobalE=b.__guideData=b.__needsRot=void 0}};b.tween=function(c,a,h,g,e,d,f){e=e.guide;if(void 0==e||e===g.guide)return h;if(e.lastRatio!=d){switch(b.calc(e,(e.end-e.start)*(f?e.end:d)+e.start,c.target),e.orient){case "cw":case "ccw":case "auto":c.target.rotation+=e.rotOffS+e.rotDelta*d;break;default:c.target.rotation+=e.rotOffS}e.lastRatio=d}return"rotation"!=a||e.orient&&"false"!=e.orient?c.target[a]:h};b.calc=function(b,a,h){if(void 0==
b._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==h&&(h={x:0,y:0,rotation:0});var g=b._segments,e=b.path,d=b._length*a,f=g.length-2;for(a=0;d>g[a]&&f>a;)d-=g[a],a+=2;for(var g=g[a+1],k=0,f=g.length-1;d>g[k]&&f>k;)d-=g[k],k++;d=k/++f+d/(f*g[k]);a=2*a+2;f=1-d;return h.x=f*f*e[a-2]+2*f*d*e[a+0]+d*d*e[a+2],h.y=f*f*e[a-1]+2*f*d*e[a+1]+d*d*e[a+3],b.orient&&(h.rotation=57.2957795*Math.atan2((e[a+1]-e[a-1])*f+(e[a+3]-e[a+1])*d,(e[a+0]-e[a-2])*f+(e[a+2]-e[a+0])*d)),
h};createjs.MotionGuidePlugin=b})();this.createjs=this.createjs||{};(function(){var b=createjs.TweenJS=createjs.TweenJS||{};b.version="0.6.2";b.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"})();var ServerConnection=function(){};ServerConnection.init=function(b){this._server=b;this._isInitialized=!0};ServerConnection.send=function(b){if(!this._isInitialized)return!1;console.log("To server: "+JSON.stringify(b));return!0};
ServerConnection.receive=function(b){if(!this._isInitialized)return!1;console.log("From server: "+JSON.stringify(b));MessageInterpreter.interpret(b);return!0};var SimpleQuestion=function(b){this._data=b;this._selected=[null];this._submitted=!1};
SimpleQuestion.prototype.draw=function(b,c){switch(this._data.view){case "student":new BackgroundImage(b,this._data.bg);this._timer=new Timer(b,this._data.time,this.submit.bind(this));new DifficultyMeter(b,this._data.difficulty);new Score(b,"Score: "+c.toString());new Title(b,this._data.text);new AnswerButtons(b,this._data.answers,this.selected.bind(this));break;case "projector":new BackgroundImage(b,this._data.bg),this._timer=new Timer(b,this._data.time,null),new DifficultyMeter(b,this._data.difficulty),
new Score(b,this._data.activity),new Title(b,this._data.text),new AnswerButtons(b,this._data.answers,null)}};SimpleQuestion.prototype.selected=function(b){this._selected=b;this.submit()};SimpleQuestion.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.update(b.value);"relative"===b.type&&this._timer.change(b.value);"pause"===b.type&&this._timer.stop();"resume"===b.type&&this._timer.start();break;default:throw Error();}};
SimpleQuestion.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.activity+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected[0])+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var IdleScreen=function(){};IdleScreen.prototype.draw=function(b){new BackgroundImage(b,"img/idle.jpg");new Title(b,"Waiting for an activity...")};
var StopButton=function(b,c){function a(a){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(-h,-h,2*h,2*h)}var h=Math.min(b.width/6,b.height/5),g=new createjs.Text("Stop !","bold 40px Dimbo","#d3d3d3");g.textBaseline="middle";g.x=b.width/2;g.y=.75*b.height;g.textAlign="center";var e=new createjs.Shape;e.graphics.beginRadialGradientFill(["#F0261B","#C01E15"],
[0,1],0,0,0,0,0,h).drawCircle(0,0,h);e.x=b.width/2;e.y=.75*b.height;e.shadow=new createjs.Shadow("#000000",5,5,10);e.on("click",function(a){null!=c&&(a.target.filters=[new createjs.ColorFilter(0,0,0,1,144,22,16,0)],a.target.cache(-h,-h,2*h,2*h),c())});e.on("mouseover",a);e.on("mouseout",a);b.addChild(e);b.addChild(g)},AnswerCycle=function(b,c,a){if(0<c.length){var h=function(b){createjs.Tween.get(g).to({text:c[b]}).wait(e).call(function(a){++b>=c.length&&(b=0);null!=a&&a([c[b]]);h(b)},[a])},g=new createjs.Text(c[0],
"30px Dimbo","#000000");g.x=b.width/2;g.y=.4*b.height;g.textAlign="center";null!=a&&a([c[0]]);var e=1500;h(0);b.addChild(g)}},Timer=function(b,c,a){0<c&&(this._tickTime=1E3,this._screen=b,this._running=!1,this._maxValue=this._time=Math.max(Math.floor(c),1),this._callback=a,this._backgroundCircle=this.drawBackgroundCircle(),this._timeLabel=this.createTimeLabel(),this._progressArc=this.createProgressArc(),this.start(!0))};Timer.prototype.change=function(b){this.update(this._time+b)};
Timer.prototype.update=function(b){var c=this._time;this._time=Math.max(Math.floor(b),0);this._time>this._maxValue&&(this._maxValue=this._time);this.updateTimeLabel();this.updateProgressAnimation();this._running&&this.startProgressAnimation();b=this._time-c;this.changeAnimation(0<=b?"+"+b.toString():b.toString())};Timer.prototype.start=function(b){this._running||(this._running=!0,this.startProgressAnimation(),this.tick(new Date((new Date).getTime()-this._tickTime)),b||this.changeAnimation("started"))};
Timer.prototype.stop=function(){this._running&&(this._running=!1,this.stopProgressAnimation(),this.updateProgressAnimation(),this.changeAnimation("paused"))};
Timer.prototype.tick=function(b){if(0<this._time){var c=this._tickTime-((new Date).getTime()-b.getTime()-this._tickTime);b=new Date;createjs.Tween.get(this._timeLabel,{loop:!1}).wait(c).call(function(){this._running&&(0<this._time&&(this._time--,this.updateTimeLabel()),6>this._time&&this.lowTimeAnimation(),this.tick(b))}.bind(this))}else this._running=!1,null!=this._callback&&this._callback()};
Timer.prototype.createTimeLabel=function(){var b=new createjs.Text(this._time.toString(),"50px Dimbo","#F0261B");b.textBaseline="alphabetic";b.x=this._screen.width-this._screen.width/20;b.y=this._screen.width/14;b.lineWidth=this._screen.width/8;b.textAlign="center";this._screen.addChild(b);return b};Timer.prototype.updateTimeLabel=function(){this._timeLabel.text=this._time.toString()};
Timer.prototype.createProgressArc=function(){var b=new createjs.Shape;b.graphics.setStrokeStyle(this._screen.width/80).beginStroke("#F0261B").arc(this._screen.width,0,this._screen.width/8,Math.PI/2,Math.PI);b.x=b.regX=this._screen.width;b.y=b.regY=0;this._screen.addChild(b);return b};Timer.prototype.startProgressAnimation=function(){createjs.Tween.get(this._progressArc,{loop:!1,override:!0}).to({rotation:-90},1E3*this._time,createjs.Ease.getPowInOut(1))};Timer.prototype.stopProgressAnimation=function(){createjs.Tween.removeTweens(this._progressArc)};
Timer.prototype.updateProgressAnimation=function(){this._progressArc.rotation=-90*(1+-this._time/this._maxValue)};Timer.prototype.drawBackgroundCircle=function(){var b=new createjs.Shape;b.graphics.beginFill("#d3d3d3").drawCircle(0,0,this._screen.width/8);b.x=this._screen.width;b.y=0;b.filters=[new createjs.ColorFilter(1,1,1,1)];this._screen.addChild(b);return b};
Timer.prototype.changeAnimation=function(b){b=new createjs.Text(b,"35px Dimbo","#F0261B");b.textBaseline="alphabetic";b.x=this._screen.width-this._screen.width/15;b.y=this._screen.width/10;b.alpha=0;b.lineWidth=this._screen.width/8;b.textAlign="center";createjs.Tween.get(b,{loop:!1}).to({alpha:1},1E3,createjs.Ease.getPowInOut(1)).to({alpha:0},1E3,createjs.Ease.getPowInOut(1));createjs.Tween.get(b,{loop:!1}).to({y:0},2200,createjs.Ease.getPowInOut(3)).call(function(b,a){b.removeChild(a)},[this._screen,
b]);this._screen.addChild(b)};
Timer.prototype.lowTimeAnimation=function(){this._backgroundCircle.cache(-this._screen.width/8,0,this._screen.width/8,this._screen.width/8,2);this._backgroundCircle.handleEvent=function(){this.updateCache()};createjs.Tween.get(this._backgroundCircle.filters[0],{loop:!1}).call(function(b){createjs.Ticker.addEventListener("tick",b)},[this._backgroundCircle]).to({redMultiplier:1.5,greenMultiplier:.5,blueMultiplier:.5},300).to({redMultiplier:1,greenMultiplier:1,blueMultiplier:1},300).call(function(b){createjs.Ticker.removeEventListener("tick",
b)},[this._backgroundCircle])};
var BackgroundImage=function(b,c){var a=new createjs.Bitmap(c);a.image.onload=function(){a.scaleX=b.width/a.image.width;a.scaleY=b.height/a.image.height};b.addChildAt(a,0)},AnswerButtons=function(b,c,a){function h(b){if(null!=a){null==b.target.clicked?(b.target.filters=[new createjs.ColorFilter(0,0,0,1,255,203,151,0)],b.target.clicked=1):(b.target.filters=b.isTouch?[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]:[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)],b.target.clicked=null);b.target.cache(0,
0,b.target.graphics.command.w,b.target.graphics.command.h);b=[];for(var c=0;c<m.length;c++)null!=m[c].clicked&&b.push(m[c].label);a(b)}}function g(a){if(null==a.target.clicked){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h)}}var e=c.length,d=Math.ceil(e/2),f=b.width/30,k=b.height/50,l=new createjs.Shape;
l.graphics.beginFill("#d3d3d3").drawRoundRect(0,0,b.width-f,b.height/2,0);l.x=f/2;l.y=b.height/2-4*k;l.alpha=.4;b.addChild(l);for(var m=[],l=0;l<e;l++){var n=c[l],p=b.width/2-1.5*f,r=b.height/(2*d)-1.5*k,q=f+l%2*(f+p),u=b.height/2-3*k+Math.floor(l/2)*(k+r),t=new createjs.Text(n);t.lineWidth=p-f/2;t.lineHeight=r/3;t.font="26px Dimbo";var v=t.getMeasuredHeight()/t.lineHeight;t.font=Math.min(Math.floor(r/v),26)+"px Dimbo";v=t.getMeasuredHeight()/t.lineHeight;t.color="#F0261B";t.textAlign="center";t.textBaseline=
"middle";t.x=q+p/2;t.y=u+r/2-(v-1)*t.lineHeight/2;v=new createjs.Shape;v.graphics.beginFill("#d3d3d3").drawRoundRect(0,0,p,r,0);v.x=q;v.y=u;v.label=n;v.shadow=new createjs.Shadow("#333333",5,5,10);v.on("click",h);v.on("mouseover",g);v.on("mouseout",g);m.push(v);b.addChild(v);b.addChild(t)}},ValidateButton=function(b,c){function a(a){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,
1,1,1,0,0,0,0)]}a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h)}var h=new createjs.Text("Validate","30px Dimbo","#F0261B");h.x=b.width;h.y=b.height;h.textAlign="right";h.textBaseline="alphabetic";var g=new createjs.Shape;g.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,h.getMeasuredWidth()+h.getMeasuredHeight()/2,1.5*h.getMeasuredHeight(),h.getMeasuredHeight(),0,0,0);g.x=b.width-h.getMeasuredWidth()-h.getMeasuredHeight()/2;g.y=b.height-4/3*h.getMeasuredHeight();
g.on("click",function(a){null!=c&&(a.target.filters=[new createjs.ColorFilter(0,0,0,1,255,203,151,0)],a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h),null!=c&&c())});g.on("mouseover",a);g.on("mouseout",a);b.addChild(g);b.addChild(h)},Score=function(b,c){var a=new createjs.Text(c.toString(),"30px Dimbo","#F0261B");a.x=0;a.y=0;a.textAlign="left";a.textBaseline="top";var h=new createjs.Shape;h.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,a.getMeasuredWidth()+a.getMeasuredHeight()/
2,1.5*a.getMeasuredHeight(),0,0,a.getMeasuredHeight(),0);h.x=0;h.y=0;b.addChild(h);b.addChild(a)},InteractiveImage=function(b,c,a){var h=new createjs.Bitmap(c),g=b.width/20;h.y=b.height/2-2*g;h.image.onload=function(){var a=Math.min(.9*b.width/h.image.width,(b.height/2+g)/h.image.height);h.scaleX=a;h.scaleY=a;h.x=(b.width-h.image.width*h.scaleX)/2};h.shadow=new createjs.Shadow("#333333",5,5,10);h.on("click",function(c){if(null!=a){var d=new createjs.Shape;d.graphics.beginFill("#000000").drawPolyStar(0,
0,b.width/80,5,.6,-90);d.x=c.stageX/b.stage.scaleX;d.y=c.stageY/b.stage.scaleY;b.addChild(d);a([Math.round(c.localX),Math.round(c.localY)])}});b.addChild(h)},ActivityName=function(b,c){var a=new createjs.Text(c.toString(),"30px Dimbo","#F0261B");a.x=0;a.y=0;a.textAlign="left";a.textBaseline="top";var h=new createjs.Shape;h.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,a.getMeasuredWidth()+a.getMeasuredHeight()/2,1.5*a.getMeasuredHeight(),0,0,a.getMeasuredHeight(),0);h.x=0;h.y=0;b.addChild(h);
b.addChild(a)},Title=function(b,c){var a=.75*b.width,h=b.height/13,g=1.5*b.height/10,e=(b.width-a)/2,d=h/4,f=new createjs.Text(c,"30px Dimbo","#F0261B");f.x=b.width/2;f.y=g;f.lineWidth=a-10;f.lineHeight=h;f.textAlign="center";var k=f.getMeasuredHeight()/h,l=new createjs.Shape;l.graphics.beginFill("#d3d3d3").drawRoundRect(0,0,a,h*k+2*d,h/2);l.x=e;l.y=g-d;b.addChild(l);b.addChild(f)},DifficultyMeter=function(b,c){c=Math.min(c,5);for(var a=b.height/20,h=b.width/30,g=0;5>g;g++){var e=new createjs.Shape;
c>g?e.graphics.beginFill("#F0261B"):e.graphics.beginFill("#333333");e.graphics.drawPolyStar(0,0,b.width/80,5,.6,-90);e.x=b.width/2-(2.5-g)*h+h/2;e.y=a;b.addChild(e)}},MultipleChoiceQuestion=function(b){this._data=b;this._selected=[];this._submitted=!1};
MultipleChoiceQuestion.prototype.draw=function(b,c){switch(this._data.view){case "student":new BackgroundImage(b,this._data.bg);this._timer=new Timer(b,this._data.time,this.submit.bind(this));new DifficultyMeter(b,this._data.difficulty);new Score(b,"Score: "+c.toString());new Title(b,this._data.text);new AnswerButtons(b,this._data.answers,this.selected.bind(this));new ValidateButton(b,this.submit.bind(this));break;case "projector":new BackgroundImage(b,this._data.bg),this._timer=new Timer(b,this._data.time,
null),new DifficultyMeter(b,this._data.difficulty),new Score(b,this._data.activity),new Title(b,this._data.text),new AnswerButtons(b,this._data.answers,null)}};MultipleChoiceQuestion.prototype.selected=function(b){this._selected=b};
MultipleChoiceQuestion.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.update(b.value);"relative"===b.type&&this._timer.change(b.value);"pause"===b.type&&this._timer.stop();"resume"===b.type&&this._timer.start();break;default:throw Error();}};
MultipleChoiceQuestion.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.activity+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var PointAndClick=function(b){this._data=b;this._selected=[];this._submitted=!1};
PointAndClick.prototype.draw=function(b,c){switch(this._data.view){case "student":new BackgroundImage(b,this._data.bg);this._timer=new Timer(b,this._data.time,this.submit.bind(this));new DifficultyMeter(b,this._data.difficulty);new Score(b,"Score: "+c.toString());new Title(b,this._data.text);new InteractiveImage(b,this._data.imagePath,this.selected.bind(this));break;case "projector":new BackgroundImage(b,this._data.bg),this._timer=new Timer(b,this._data.time,null),new DifficultyMeter(b,this._data.difficulty),
new Score(b,this._data.activity),new Title(b,this._data.text),new InteractiveImage(b,this._data.imagePath,null)}};PointAndClick.prototype.selected=function(b){this._selected=b;this.submit()};PointAndClick.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.update(b.value);"relative"===b.type&&this._timer.change(b.value);"pause"===b.type&&this._timer.stop();"resume"===b.type&&this._timer.start();break;default:throw Error();}};
PointAndClick.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.activity+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var Focus=function(b){this._data=b;this._selected=[null];this._submitted=!1};
Focus.prototype.draw=function(b,c){switch(this._data.view){case "student":new BackgroundImage(b,this._data.bg);this._timer=new Timer(b,this._data.time,this.submit.bind(this));new DifficultyMeter(b,this._data.difficulty);new Score(b,"Score: "+c.toString());new Title(b,this._data.text);new AnswerCycle(b,this._data.answers,this.selected.bind(this));new StopButton(b,this.submit.bind(this));break;case "projector":new BackgroundImage(b,this._data.bg),this._timer=new Timer(b,this._data.time,null),new DifficultyMeter(b,
this._data.difficulty),new Score(b,this._data.activity),new Title(b,this._data.text),new AnswerCycle(b,this._data.answers,null),new StopButton(b,null)}};Focus.prototype.selected=function(b){this._selected=b};Focus.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.update(b.value);"relative"===b.type&&this._timer.change(b.value);"pause"===b.type&&this._timer.stop();"resume"===b.type&&this._timer.start();break;default:throw Error();}};
Focus.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.activity+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected[0])+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};