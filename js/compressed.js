window.addEventListener("resize",resize);function initCanvas(){StageManager.init("canvas");StageManager.idle()}function resize(){StageManager.resize()}function showFPS(){setTimeout(function(){var b=createjs.Ticker.getMeasuredFPS(),b=Math.round(100*b)/100;console.log("FPS: "+b);showFPS()},1E3)}var SimpleQuestion=function(b){this._data=b;this._selected=[null];this._drawable=[];this._submitted=this._initialized=!1};
SimpleQuestion.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/quiz-background.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));this._data.image&&""!=this._data.image&&(this._hasDisplayImage=!0,this._drawable.push(new DisplayImage(this._data.image)));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));
this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);this._drawable.push(new ButtonPanel(this._data.answers,this._hasDisplayImage,this.selected.bind(this),this._data.stats));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._drawable.push(new ButtonPanel(this._data.answers,this._hasDisplayImage,null,this._data.stats))}this._initialized=
!0};SimpleQuestion.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
SimpleQuestion.prototype.setOrigin=function(b,c){var a=c.width>=c.height;switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "ButtonPanel":b.x=c.width/2;this._hasDisplayImage&&a&&(b.x+=c.width/4);b.y=.67*c.height;this._hasDisplayImage&&!a&&(b.y=.8*c.height);break;case "DisplayImage":a?(b.x=c.width/
4,b.y=.67*c.height):(b.x=c.width/2,b.y=.46*c.height)}};SimpleQuestion.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};SimpleQuestion.prototype.selected=function(b){this._selected=b;this.submit()};
SimpleQuestion.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected[0])+',"time-left" : '+this._timer.getTime()+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var PointAndClickSolution=function(b){this._data=b;this._selected=[];this._drawable=[];this._submitted=this._initialized=!1};
PointAndClickSolution.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/europe.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));this._drawable.push(new InteractiveImage(this._data.image,null,this._data.stats));"student"===this._data.view&&this._drawable.push(new HeaderDisplay("Score: +"+this._data.score));this._initialized=!0};
PointAndClickSolution.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
PointAndClickSolution.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "InteractiveImage":b.x=c.width/2,b.y=.65*c.height}};var Race=function(b){this._data=b;this._drawable=[];this._initialized=!1};
Race.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/highscore.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay("Race"));this._rpd=new RaceProgressionDisplay(this._data.groups,this._data.steps);this._drawable.push(this._rpd);this._footerDisplay=new FooterTextDisplay("");this._drawable.push(this._footerDisplay);this._fireworkEffect=new FireworkEffect;this._drawable.push(this._fireworkEffect);this._initialized=!0};
Race.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};Race.prototype.update=function(b){switch(b.component){case "rpd":this._rpd.update(b.group,b.value)&&this._footerDisplay.update("Last move: "+b.group+" ("+(0<=b.value?"+"+b.value:b.value)+")");break;default:throw Error();}};
Race.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "RaceProgressionDisplay":b.x=c.width/2;b.y=c.height/3;break;case "FooterTextDisplay":b.x=c.width/2,b.y=c.height}};var Idle=function(b){this._data=b;this._drawable=[];this._initialized=!1};
Idle.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/idle.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._initialized=!0};Idle.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
Idle.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "TitleDisplay":b.x=c.width/2,b.y=c.height/5}};var BuildPairs=function(b){this._data=b;this._selected={};this._drawable=[];this._submitted=this._initialized=!1};
BuildPairs.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/quiz-background3.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);this._drawable.push(new WordPairs(this._data.answers,
this.selected.bind(this)));this._drawable.push(new SubmitButton(this.submit.bind(this)));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._drawable.push(new WordPairs(this._data.answers,null))}this._initialized=!0};
BuildPairs.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
BuildPairs.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "SubmitButton":b.x=c.width;b.y=c.height;break;case "WordPairs":b.x=c.width/2,b.y=.7*c.height}};
BuildPairs.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};BuildPairs.prototype.selected=function(b){this._selected=b};
BuildPairs.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+',"time-left" : '+this._timer.getTime()+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var MultipleChoiceFocus=function(b){this._data=b;this._currentItem=null;this._selected=[];this._drawable=[];this._submitted=this._initialized=!1};
MultipleChoiceFocus.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/quiz-background3.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);this._labelIterator=
new LabelIterator(this._data.answers,this._data.interval,this.currentItem.bind(this));this._drawable.push(this._labelIterator);this._drawable.push(new RoundButton("Select !",this.select.bind(this)));this._drawable.push(new SubmitButton(this.submit.bind(this)));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._labelIterator=new LabelIterator(this._data.answers,1500,null),this._drawable.push(this._labelIterator),
this._drawable.push(new RoundButton("Select !",null))}this._initialized=!0};MultipleChoiceFocus.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
MultipleChoiceFocus.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "RoundButton":b.x=c.width/2;b.y=.75*c.height;break;case "LabelIterator":b.x=c.width/2;b.y=.45*c.height;break;case "SubmitButton":b.x=c.width,b.y=c.height}};
MultipleChoiceFocus.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};MultipleChoiceFocus.prototype.currentItem=function(b){this._currentItem=b;return-1<this._selected.indexOf(b)?!0:!1};
MultipleChoiceFocus.prototype.select=function(){var b=this._currentItem,c=this._selected.indexOf(b);-1<c?(this._selected.splice(c,1),this._labelIterator.updateColor(!1)):(this._selected.push(b),this._labelIterator.updateColor(!0))};
MultipleChoiceFocus.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+',"time-left" : '+this._timer.getTime()+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var HeaderDisplay=function(b){this._value=b};
HeaderDisplay.prototype.addTo=function(b){b.name="HeaderDisplay";var c=this.createLabel(b.width,b.height,this._value),a=this.createBackgroundPanel(c.getMeasuredWidth(),c.getMeasuredHeight());b.addChild(a,c)};HeaderDisplay.prototype.createLabel=function(b,c,a){b=Math.floor(Math.max(b/23,c/20));c=new createjs.Text;c.text=a.toString();c.font=b+"px Dimbo";c.color="#f0261b";c.textAlign="left";c.textBaseline="top";return c};
HeaderDisplay.prototype.createBackgroundPanel=function(b,c){var a=new createjs.Shape;a.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,b+c/2,1.5*c,0,0,c,0);return a};var TimeDisplay=function(b,c){this._currentTime=this._totalTime=Math.max(Math.round(b),0);this._tickTime=1E3;this._running=!1;this._submit=c;this._initialized=!1};
TimeDisplay.prototype.addTo=function(b){this._container=b;b.name="TimeDisplay";if(0<this._currentTime||!this._submit)this._radius=Math.max(b.width/9,b.height/7),this._backgroundCircle=this.createBackgroundCircle(),this._timeLabel=this.createTimeLabel(b.width,b.height,this._currentTime),this._progressArc=this.createProgressArc(b.width,b.height),this.updateProgressAnimation(),this._running&&this.startProgressAnimation(),b.addChild(this._backgroundCircle,this._progressArc,this._timeLabel),this._initialized||
(this.startTimer(!0),this._initialized=!0)};TimeDisplay.prototype.createBackgroundCircle=function(){var b=new createjs.Shape;b.graphics.beginFill("#d3d3d3").drawCircle(0,0,this._radius);b.filters=[new createjs.ColorFilter(1,1,1,1)];return b};
TimeDisplay.prototype.createTimeLabel=function(b,c,a){b=Math.floor(Math.max(b/18,c/15));c=new createjs.Text;c.text=a.toString();c.font=b+"px Dimbo";c.color="#F0261B";c.x=.4*-this._radius;c.y=.4*this._radius;c.lineWidth=this._radius;c.textAlign="center";c.textBaseline="middle";return c};
TimeDisplay.prototype.createProgressArc=function(b,c){var a=Math.max(b/80,c/60),g=new createjs.Shape;g.graphics.setStrokeStyle(a).beginStroke("#F0261B").arc(0,0,this._radius,Math.PI/2,Math.PI);g.x=g.regX=0;g.y=g.regY=0;return g};TimeDisplay.prototype.startTimer=function(b){this._running||(this._running=!0,this.startProgressAnimation(),this.tick(new Date((new Date).getTime()-this._tickTime)),b||this.statusAnimation("resumed"))};
TimeDisplay.prototype.stopTimer=function(){this._running&&(this._running=!1,this.stopProgressAnimation(),this.updateProgressAnimation(),this.statusAnimation("paused"))};
TimeDisplay.prototype.tick=function(b){if(0<this._currentTime){this._lastSleepTime||(this._lastSleepTime=this._tickTime);var c=this._tickTime-((new Date).getTime()-b.getTime()-this._lastSleepTime);this._lastSleepTime=c;b=new Date;createjs.Tween.get(this._timeLabel,{loop:!1}).wait(c).call(function(){this._running&&(0<this._currentTime&&(this._currentTime--,this.updateTimeLabel()),6>this._currentTime&&this.lowTimeAnimation(),this.tick(b))}.bind(this))}else this._running=!1,null!=this._submit&&this._submit()};
TimeDisplay.prototype.updateTimeLabel=function(){this._timeLabel.text=this._currentTime.toString()};TimeDisplay.prototype.changeTime=function(b){this.updateTime(this._currentTime+b)};
TimeDisplay.prototype.updateTime=function(b){var c=this._currentTime;this._currentTime=Math.max(Math.floor(b),0);this._currentTime>this._totalTime&&(this._totalTime=this._currentTime);this.updateTimeLabel();this.updateProgressAnimation();this._running&&this.startProgressAnimation();b=this._currentTime-c;this.statusAnimation(0<=b?"+"+b.toString():b.toString())};
TimeDisplay.prototype.startProgressAnimation=function(){createjs.Tween.get(this._progressArc,{loop:!1,override:!0}).to({rotation:-90},1E3*this._currentTime,createjs.Ease.getPowInOut(1))};TimeDisplay.prototype.stopProgressAnimation=function(){createjs.Tween.removeTweens(this._progressArc)};TimeDisplay.prototype.updateProgressAnimation=function(){this._progressArc.rotation=-90*(1+-this._currentTime/this._totalTime)};
TimeDisplay.prototype.lowTimeAnimation=function(){this._backgroundCircle.cache(-this._radius,0,this._radius,this._radius,2);this._backgroundCircle.handleEvent=function(){this.updateCache()};createjs.Tween.get(this._backgroundCircle.filters[0],{loop:!1}).call(function(b){createjs.Ticker.addEventListener("tick",b)},[this._backgroundCircle]).to({redMultiplier:1.5,greenMultiplier:.3,blueMultiplier:.3},250).to({redMultiplier:1,greenMultiplier:1,blueMultiplier:1},250).call(function(b){createjs.Ticker.removeEventListener("tick",
b)},[this._backgroundCircle])};
TimeDisplay.prototype.statusAnimation=function(b){var c=Math.floor(Math.max(this._container.width/25,this._container.height/25)),a=new createjs.Text;a.text=b.toString();a.font=c+"px Dimbo";a.color="#F0261B";a.x=-this._radius/2;a.y=this._radius;a.alpha=0;a.lineWidth=this._radius;a.textAlign="center";a.textBaseline="bottom";createjs.Tween.get(a,{loop:!1}).to({alpha:1},1E3,createjs.Ease.getPowInOut(1)).to({alpha:0},1E3,createjs.Ease.getPowInOut(1));createjs.Tween.get(a,{loop:!1}).to({y:0},2200,createjs.Ease.getPowInOut(2)).call(function(a,
b){a.removeChild(b)},[this._container,a]);this._container.addChild(a)};TimeDisplay.prototype.getTime=function(){return this._currentTime};var WordPairs=function(b,c){this._answers=b;this._line=new createjs.Shape;this._connections=new createjs.Shape;this._connectMap={};this._panelDictionary=[];this._onChange=c};
WordPairs.prototype.addTo=function(b){b.name="WordPairs";this.redrawConnections();var c=this._answers[0],a=this._answers[1],g=.4*b.height,h=g/c.length,c=this.createWordPanel(h,c,"left");c.x=.1*-b.width;c.y=-g/2;a=this.createWordPanel(h,a,"right");a.x=.1*b.width;a.y=-g/2;b.addChild(c,a,this._connections,this._line)};
WordPairs.prototype.createWordPanel=function(b,c,a){for(var g=new createjs.Container,h=0;h<c.length;h++){var d=c[h],e=this.createLabel(b,d,a);e.y+=h*b;var f=b/5,k=e.getMeasuredWidth()+f,l=e.getMeasuredHeight()+f,d=this.createPanel(k,l,f,d,a);d.y+=h*b;g.addChild(d,e)}return g};WordPairs.prototype.createLabel=function(b,c,a){b*=.5;var g=new createjs.Text;g.text=c.toString();g.font=b+"px Dimbo";g.color="#f0261b";g.textAlign="left"===a?"right":"left";g.textBaseline="middle";return g};
WordPairs.prototype.createPanel=function(b,c,a,g,h){function d(a){a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h);this._hoveredPanel=a.target}function e(a){a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)];a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h);this._hoveredPanel=null}function f(a){this._selectedPanel=a.target}function k(a){var g=this._selectedPanel.connectPoint,
b=this._line,g=this._selectedPanel.localToLocal(g[0],g[1],b);a=b.globalToLocal(a.rawX,a.rawY);b.graphics.clear().setStrokeStyle(3).beginStroke("black").moveTo(g.x,g.y).lineTo(a.x,a.y).endStroke()}function l(a){if(a.isTouch){this._hoveredPanel=null;for(var g in this._panelDictionary){var b=this._panelDictionary[g],c=b.globalToLocal(a.rawX,a.rawY);if(b.hitTest(c.x,c.y)){this._hoveredPanel=b;break}}}if(null!=this._hoveredPanel&&this._hoveredPanel.anchor!=this._selectedPanel.anchor){a="left"===this._selectedPanel.anchor?
this._selectedPanel.text:this._hoveredPanel.text;g="right"===this._selectedPanel.anchor?this._selectedPanel.text:this._hoveredPanel.text;for(var h in this._connectMap)if(this._connectMap[h]===g){delete this._connectMap[h];this.redrawConnections();break}this._connectMap[a]=g;this.redrawConnections()}this._selectedPanel=null;this._line.graphics.clear();this._onChange(this._connectMap)}var m=new createjs.Shape;m.text=g.toString();m.anchor=h;m.graphics.beginFill("#d3d3d3").drawRect(0,0,b,c);m.connectPoint=
"left"===h?[b,c/2]:[0,c/2];m.x="left"===h?-b+a/2:-a/2;m.y=-c/2;void 0!=this._onChange&&(m.on("mouseover",d.bind(this)),m.on("mouseout",e.bind(this)),m.on("mousedown",f.bind(this)),m.on("pressmove",k.bind(this)),m.on("pressup",l.bind(this)));return this._panelDictionary[m.text]=m};
WordPairs.prototype.drawConnection=function(b,c){b=this._panelDictionary[b];c=this._panelDictionary[c];var a=this._connections,g=b.localToLocal(b.connectPoint[0],b.connectPoint[1],a),h=c.localToLocal(c.connectPoint[0],c.connectPoint[1],a);a.graphics.setStrokeStyle(3).beginStroke("black").moveTo(g.x,g.y).lineTo(h.x,h.y).endStroke()};WordPairs.prototype.redrawConnections=function(){this._connections.graphics.clear();for(var b in this._connectMap)this.drawConnection(b,this._connectMap[b])};
var FooterTextDisplay=function(b){this._value=b};FooterTextDisplay.prototype.addTo=function(b){b.name="FooterTextDisplay";this._label=this.createLabel(b.width,b.height);b.addChild(this._label)};FooterTextDisplay.prototype.createLabel=function(b,c){var a=Math.floor(Math.max(b/40,c/30)),g=new createjs.Text;g.text=this._value.toString();g.font=a+"px Dimbo";g.color="#f0261b";g.textAlign="center";g.textBaseline="bottom";return g};
FooterTextDisplay.prototype.update=function(b){this._value=b;this._label.text=b.toString()};var SubmitButton=function(b){this._submit=b};SubmitButton.prototype.addTo=function(b){b.name="SubmitButton";var c=this.createLabel(b.width,b.height),a=this.createBackgroundPanel(c.getMeasuredWidth(),c.getMeasuredHeight());b.addChild(a,c)};
SubmitButton.prototype.createLabel=function(b,c){var a=Math.floor(Math.max(b/23,c/20)),g=new createjs.Text;g.text="Submit";g.font=a+"px Dimbo";g.color="#f0261b";g.textAlign="right";g.textBaseline="bottom";return g};
SubmitButton.prototype.createBackgroundPanel=function(b,c){function a(a){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h)}var g=b+c/2,h=1.5*c,d=new createjs.Shape;d.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,g,h,c,0,0,0);d.x=-g;d.y=-h;d.on("click",function(a){null!=this._submit&&
(a.target.filters=[new createjs.ColorFilter(0,0,0,1,255,203,151,0)],a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h),this._submit())}.bind(this));d.on("mouseover",a.bind(this));d.on("mouseout",a.bind(this));return d};var BackgroundImage=function(b){this._imagePath=b};BackgroundImage.prototype.addTo=function(b){this._container=b;b.name="BackgroundImage";this.createBackgroundImage(b.width,b.height,this._imagePath)};
BackgroundImage.prototype.createBackgroundImage=function(b,c,a){var g=new createjs.Bitmap(a);g.image.onload=function(){g.scaleX=b/g.image.width;g.scaleY=c/g.image.height;this._container.addChild(g)}.bind(this);return g};var CatchField=function(b,c,a){this._wordPool=b;this._velocity=1E4/c;this._hitTest=a;this._running=!1;this._interval=6E3/c;this._apples=[]};
CatchField.prototype.addTo=function(b){b.name="CatchField";this._container=b;if(this._running)for(var c=this._apples,a=0;a<c.length;a++)b.addChild(c[a]);else this._running=!0,c=new createjs.Shape,b.addChild(c),this.tick(c)};
CatchField.prototype.tick=function(b){createjs.Tween.get(b,{loop:!1}).wait(this._interval).call(function(){var c=this._container,a=this.createApple(this.getRandomWord(),c.width,Math.max(c.width,c.height));this.animateApple(c,a,.9*c.height-this._appleSize/2,this._velocity);this._apples.push(a);c.addChild(a);this.tick(b)}.bind(this))};
CatchField.prototype.createApple=function(b,c,a){this._appleSize=a/6;var g=new createjs.Container;g.addChild(this.createAppleSprite(this._appleSize));g.addChild(this.createAppleLabel(a/12,b));g.x=this.getRandomNumber(this._appleSize/2,c-this._appleSize/2);g.y=-this._appleSize;g.width=this._appleSize;g.text=b.toString();return g};CatchField.prototype.getRandomNumber=function(b,c){return Math.floor(Math.random()*(c-b+1)+b)};
CatchField.prototype.getRandomWord=function(){return this._wordPool[this.getRandomNumber(0,this._wordPool.length-1)]};
CatchField.prototype.animateApple=function(b,c,a,g){createjs.Tween.get(c,{loop:!1}).to({y:a},g).call(function(a){this._hitTest(c)?createjs.Tween.get(c,{loop:!1}).to({rotation:360,alpha:0,scaleX:0,scaleY:0,y:c.y+this._appleSize/2},500).call(function(a){this._apples.splice(this._apples.indexOf(c),1);b.removeChild(c)}.bind(this)):createjs.Tween.get(c,{loop:!1}).to({y:c.y+b.height},g).call(function(a){this._apples.splice(this._apples.indexOf(c),1);b.removeChild(c)}.bind(this))}.bind(this))};
CatchField.prototype.createAppleSprite=function(b){var c=new createjs.Bitmap("img/apple.png");c.image.onload=function(){c.scaleX=c.scaleY=b/c.image.width};c.x-=this._appleSize/2;c.y-=this._appleSize/2;return c};CatchField.prototype.createAppleLabel=function(b,c){var a=.5*b,g=new createjs.Text;g.text=c.toString();g.font=a+"px Dimbo";g.color="#d3d3d3";g.lineWidth=this._appleSize;g.textAlign="center";g.textBaseline="middle";return g};var RoundButton=function(b,c){this._value=b;this._action=c};
RoundButton.prototype.addTo=function(b){b.name="RoundButton";var c=Math.min(b.width/4,b.height/5),a=this.createLabel(b.width,b.height,this._value),c=this.createBackgroundCircle(c);b.addChild(c,a)};RoundButton.prototype.createLabel=function(b,c,a){b=Math.floor(Math.min(b/10,c/10));c=new createjs.Text;c.text=a.toString();c.font="bold "+b+"px Dimbo";c.color="#d3d3d3";c.textBaseline="middle";c.textAlign="center";return c};
RoundButton.prototype.createBackgroundCircle=function(b){function c(a){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(-b,-b,2*b,2*b)}var a=new createjs.Shape;a.graphics.beginRadialGradientFill(["#F0261B","#C01E15"],[0,1],0,0,0,0,0,b).drawCircle(0,0,b);a.shadow=new createjs.Shadow("#000000",5,5,10);a.on("click",function(a){null!=this._action&&(a.target.filters=
[new createjs.ColorFilter(0,0,0,1,144,22,16,0)],a.target.cache(-b,-b,2*b,2*b),setTimeout(function(){a.target.filters=void 0;a.target.uncache()},150),this._action())}.bind(this));a.on("mouseover",c.bind(this));a.on("mouseout",c.bind(this));return a};var DisplayImage=function(b){this._imagePath=b};DisplayImage.prototype.addTo=function(b){b.name="DisplayImage";var c=this.createImageObject(b.width,b.height,this._imagePath);b.addChild(c)};
DisplayImage.prototype.createImageObject=function(b,c,a){var g=new createjs.Bitmap(a),h=b>=c;g.image.onload=function(){var a=Math.min(.4*b/g.image.width,.5*c/g.image.height);h||(a*=.9);g.scaleX=g.scaleY=a;g.x=-(g.image.width*g.scaleX)/2;g.y=-(g.image.height*g.scaleY)/2};g.shadow=new createjs.Shadow("#333333",5,5,10);return g};var LabelIterator=function(b,c,a){this._values=b;this._interval=Math.max(c,0);this.onChange=a;this._currentIndex=0;this._running=!1};
LabelIterator.prototype.addTo=function(b){b.name="LabelIterator";this._label=this.createLabel(b.width,b.height);this._running?(this.updateLabel(),this.updateColor()):(this._running=!0,this.tick());b.addChild(this._label)};LabelIterator.prototype.createLabel=function(b,c){var a=Math.floor(Math.max(b/20,c/20)),g=new createjs.Text;g.font=a+"px Dimbo";g.color="#000";g.textAlign="center";g.textBaseline="middle";return g};LabelIterator.prototype.updateLabel=function(){this._label.text=this._values[this._currentIndex]};
LabelIterator.prototype.tick=function(){this.updateLabel();this.updateColor();createjs.Tween.get(this._label,{loop:!1}).wait(this._interval).call(function(){this._currentIndex=(this._currentIndex+1)%this._values.length;this.tick()}.bind(this))};LabelIterator.prototype.updateColor=function(){null!=this.onChange&&(this.onChange(this._values[this._currentIndex])?this._label.color="#f0261b":this._label.color="#000")};
var FireworkEffect=function(){this._sprite=new createjs.Sprite(new createjs.SpriteSheet({images:["img/spritesheet_sparkle.png"],frames:{width:200,height:200,regX:100,regY:100}}));this._sparkles=[]};FireworkEffect.prototype.addTo=function(b){this._container=b;for(b=0;b<this._sparkles.length;b++)this.tick(this._sparkles[b])};
FireworkEffect.prototype.tick=function(b){0>this._container.getChildIndex(b)&&this._container.addChild(b);for(var c=b.numChildren,a=c-1;0<=a;a--){var g=b.getChildAt(a);g.vY+=.8;g.vX*=.99;g.x+=1*g.vX;g.y+=1*g.vY;g.scaleX=g.scaleY=g.scaleX+1*g.vS;g.alpha+=1*g.vA;(0>=g.alpha||g.y>this._container.height)&&b.removeChild(g)}0==c?(this._container.removeChild(b),this._sparkles.splice(this._sparkles.indexOf(b),1)):createjs.Tween.get(this._container).wait(createjs.Ticker.interval).call(this.tick.bind(this),
[b])};
FireworkEffect.prototype.explosionAnimation=function(b,c,a,g){for(var h=new createjs.Container,d=this._container.width,e=this._container.height,f=0;f<b;f++){var k=this._sprite.clone();k.x=c;k.y=a;k.rotation=360*Math.random();k.alpha=.5*Math.random()+.5;var l=Math.min(d/1E3,e/1E3);k.scaleX=k.scaleY=Math.random()*l+l;var l=2*Math.PI*Math.random(),m=30*(Math.random()-.5)*g;k.vX=Math.cos(l)*m;k.vY=Math.sin(l)*m;k.vS=.2*(Math.random()-.5);k.vA=.02*-Math.random()-.01;k.gotoAndPlay(Math.random()*k.spriteSheet.getNumFrames());h.addChild(k)}this._sparkles.push(h);
this._running||this.tick(h)};var RaceProgressionDisplay=function(b,c){this._spriteWidth=400;this._spriteHeight=248;this._sprite=new createjs.Sprite(new createjs.SpriteSheet({images:["img/spritesheet_horse.png"],frames:{width:this._spriteWidth,height:this._spriteHeight,regX:Math.round(this._spriteWidth/2),regY:Math.round(this._spriteHeight/2)}}));this._sprite.gotoAndStop(7);this._groups=b;this._numSteps=c};
RaceProgressionDisplay.prototype.addTo=function(b){this._container=b;b.name="RaceProgressionDisplay";var c=this._groups.length,a=.7*b.width,g=b.height/(2*c),h=b.width/10;this._stepWidth=a/this._numSteps;this._horseSprites=[];this._rankCounter=1;for(var d=0;d<c;d++){var e=this.createLabel(this._groups[d].name,a);e.x=-a/2+.9*h;e.y=g*(d+.5);var f=this.createProgressBar(this._groups[d].position,this._numSteps,this._groups[d].color,a,g);f.x=-a/2+h;f.y=g*d;b.addChild(f,e)}for(d=1;d<this._numSteps;d++)b.addChild(this.createStepDivisor(-a/
2+h+d*this._stepWidth,g*c));for(d=0;d<c;d++)e=this.createHorseSprite(),e.x=-a/2+this._groups[d].position*this._stepWidth+this._stepWidth/2+h,e.y=g*(d+.5),e.scaleX=e.scaleY=3*g/5/this._spriteHeight,e.position=this._groups[d].position,b.addChild(e),this._horseSprites[this._groups[d].name]=e,e.position>=this._numSteps-1&&this.createRankLabel(d)};
RaceProgressionDisplay.prototype.createStepDivisor=function(b,c){var a=new createjs.Shape;a.graphics.setStrokeStyle(3).beginStroke("black").moveTo(b,0).lineTo(b,c).endStroke();a.alpha=.5;return a};RaceProgressionDisplay.prototype.createLabel=function(b,c){var a=c/20,g=new createjs.Text;g.text=b.toString();g.font=a+"px Dimbo";g.color="#000";g.textAlign="right";g.textBaseline="middle";return g};
RaceProgressionDisplay.prototype.createProgressBar=function(b,c,a,g,h){b=new createjs.Shape;b.graphics.beginFill(a).drawRect(0,0,g,h);b.shadow=new createjs.Shadow("#333333",5,5,10);return b};RaceProgressionDisplay.prototype.createHorseSprite=function(){return this._sprite.clone()};
RaceProgressionDisplay.prototype.update=function(b,c){var a=this._horseSprites[b];if(!a)return console.log("Group "+b+" not found."),!1;if(0<=a.position+c&&a.position<this._numSteps-1){var g=a.position;a.position=Math.max(Math.min(a.position+c,this._numSteps-1),0);g=a.position-g;createjs.Tween.get(a,{loop:!1}).to({scaleX:0>g?-a.scaleX/2:a.scaleX},0>g?200:0).to({scaleX:0>g?-a.scaleX:a.scaleX},0>g?200:0).call(a.play).to({x:a.x+g*this._stepWidth},1E3*Math.abs(g)).call(a.gotoAndStop,[7]).to({scaleX:a.scaleX},
0>g?200:0);for(a=this._groups.length-1;0<=a;a--)if(this._groups[a].name===b){this._groups[a].position+=g;this._groups[a].position==this._numSteps-1&&this.createRankLabel(a);break}return!0}return!1};
RaceProgressionDisplay.prototype.createRankLabel=function(b){var c;this._groups[b].rank?(c=this._groups[b].rank,this._rankCounter=Math.max(this._rankCounter,c)):(c=this._rankCounter,this._groups[b].rank=c);var a=this._container.width/30,g=new createjs.Text;g.text=c.toString()+". ";g.font=a+"px Dimbo";g.color="#f0261b";g.textAlign="right";g.textBaseline="middle";g.x=this._container.width/2;g.y=this._container.height/(2*this._groups.length)*(b+.5);this._rankCounter++;this._container.addChild(g)};
var TitleDisplay=function(b){this._value=b};TitleDisplay.prototype.addTo=function(b){b.name="TitleDisplay";var c=.75*b.width,a=b.height/13,g=this.createLabel(c,a),c=this.createBackgroundPanel(c,a,g.getMeasuredHeight());b.addChild(c,g)};
TitleDisplay.prototype.createLabel=function(b,c){var a=Math.floor(Math.max(b/22+5,c/4+30)),g=new createjs.Text;g.text=this._value.toString();g.font=a+"px Dimbo";g.color="#f0261b";g.lineWidth=b-b/15;g.lineHeight=c;g.textAlign="center";for(g.textBaseline="middle";g.getMeasuredHeight()>2*c;)a-=2,g.font=a+"px Dimbo";return g};TitleDisplay.prototype.createBackgroundPanel=function(b,c,a){a=a/c*c+c/2;var g=new createjs.Shape;g.graphics.beginFill("#d3d3d3").drawRoundRect(0,0,b,a,c/2);g.x=-b/2;g.y=c/4-c;return g};
var InteractiveImage=function(b,c,a){this._imagePath=b;this._submit=c;this._stats=a};InteractiveImage.prototype.addTo=function(b){this._container=b;b.name="InteractiveImage";this.createInteractiveImage(b);this.preloadPinIcon()};
InteractiveImage.prototype.createInteractiveImage=function(b){var c=new createjs.Bitmap(this._imagePath),a=b.width/20;c.image.onload=function(){c.scaleX=c.scaleY=Math.min(.9*b.width/c.image.width,(b.height/2+a)/c.image.height);c.x=-(c.image.width*c.scaleX)/2;c.y=-(c.image.height*c.scaleY)/2;this._container.addChild(c);void 0!=this._stats&&this.createStats(this._stats,c)}.bind(this);c.shadow=new createjs.Shadow("#333333",5,5,10);c.on("click",function(a){if(null!=this._submit||a.isAnswer){var h=this.createPin(b.width,
b.height);h.x=a.localX*c.scaleX+c.x;h.y=a.localY*c.scaleY+c.y;a.selected&&(h.filters=[new createjs.ColorFilter(0,0,0,1,255,99,71,0)]);if(a.isAnswer){h.alpha=0;var d=h.x,e=h.y;h.x+=50;h.y-=50;h.alpha=0;createjs.Tween.get(h,{loop:!1}).wait(Math.round(300*Math.random())+1E3).to({x:d,y:e,alpha:1},300,createjs.Ease.getPowInOut(2))}null!=this._submit&&this._submit([Math.round(a.localX),Math.round(a.localY)])}}.bind(this));return c};
InteractiveImage.prototype.createPin=function(b,c){var a=new createjs.Bitmap("img/pin.png");a.image.onload=function(){var g=Math.min(.05*b/a.image.width,.05*c/a.image.height);a.scaleX=a.scaleY=g;a.y-=a.image.height*g;a.cache(0,0,a.image.width,a.image.height);this._container.addChild(a)}.bind(this);return a};InteractiveImage.prototype.preloadPinIcon=function(){(new createjs.LoadQueue).loadFile("img/pin.png")};
InteractiveImage.prototype.createStats=function(b,c){var a=b.correct;this.createCorrectArea(a.type,a.data,c);for(var a=b.answers,g=0;g<a.length;g++){var h=new createjs.Event("click");h.localX=a[g].x;h.localY=a[g].y;h.selected=a[g].selected;h.isAnswer=!0;c.dispatchEvent(h)}};
InteractiveImage.prototype.createCorrectArea=function(b,c,a){var g=new createjs.Shape;switch(b){case "polygon":g.graphics.beginFill("green");g.graphics.moveTo(this.convertLocalToAbsoluteX(c[0].x,a),this.convertLocalToAbsoluteY(c[0].y,a));for(b=1;b<c.length;b++)g.graphics.lineTo(this.convertLocalToAbsoluteX(c[b].x,a),this.convertLocalToAbsoluteY(c[b].y,a));g.graphics.lineTo(this.convertLocalToAbsoluteX(c[c.length-1].x,a),this.convertLocalToAbsoluteY(c[c.length-1].y,a));g.graphics.endFill();break;case "circle":b=
Math.round(Math.sqrt(Math.pow(c.center.x-c.radius.x,2)+Math.pow(c.center.y-c.radius.y,2))*a.scaleX),g.graphics.beginFill("green").drawCircle(this.convertLocalToAbsoluteX(c.center.x,a),this.convertLocalToAbsoluteY(c.center.y,a),b)}g.alpha=.7;this._container.addChild(g)};InteractiveImage.prototype.convertLocalToAbsoluteX=function(b,c){return b*c.scaleX+c.x};InteractiveImage.prototype.convertLocalToAbsoluteY=function(b,c){return b*c.scaleY+c.y};var HighscoreList=function(b){this._ranklist=b};
HighscoreList.prototype.addTo=function(b){this._container=b;b.name="HighscoreList";for(var c=.9*b.width,a=b.height/9,g=0;g<this._ranklist.length;g++){var h=-c/2,d=a*g,e=this._ranklist[g],f=Math.min(.8*b.width,.8*b.height)/(9*window.devicePixelRatio),k=f-f/5*Math.min(g,2.5),f=k/80*a,l=this.createBackgroundPanel(c,a,g);l.x=h;l.y=d;var m=this.createRankLabel(k,g);m.x=h+.15*c;m.y=d+a/2;var n=this.createNameLabel(k,e.name);n.x=h+.2*c;n.y=d+a/2;var p=this.createScoreLabel(k,e.score);p.x=h+.7*c;p.y=d+a/
2;var q=this.createChangeIcon(f,e.change);q.x=h+.85*c;q.y=d+a/2;e=this.createChangeLabel(k,e.change);e.x=h+.93*c;e.y=d+a/2;b.addChild(l,m,n,p,e);0==g&&(e=this.createCrownIcon(f),e.x+=h+.06*c,e.y+=d+a/2)}};
HighscoreList.prototype.createBackgroundPanel=function(b,c,a){var g=new createjs.Shape;g.graphics.beginFill("#d3d3d3").drawRect(0,0,b,c);g.shadow=new createjs.Shadow("#333333",5,5,10);switch(a){case 0:g.filters=[new createjs.ColorFilter(1,1,1,1,75,75,10,0)];break;case 1:g.filters=[new createjs.ColorFilter(1,1,1,1,30,30,10,0)];break;case 2:g.filters=[new createjs.ColorFilter(1,1,1,1,15,15,10,0)];break;case 3:g.filters=[new createjs.ColorFilter(1,1,1,1,7,7,4,0)]}g.cache(0,0,b,c);return g};
HighscoreList.prototype.createCrownIcon=function(b){var c=new createjs.Bitmap("img/crown.jpg");c.image.onload=function(){var a=b/c.image.height;c.scaleX=c.scaleY=a;c.x-=c.image.width*a/2;c.y-=c.image.height*a/2;this._container.addChild(c)}.bind(this);return c};HighscoreList.prototype.createRankLabel=function(b,c){var a=new createjs.Text;a.text=c+1+" .";a.font=b+"px Dimbo";a.color="#f0261b";a.textAlign="center";a.textBaseline="middle";return a};
HighscoreList.prototype.createNameLabel=function(b,c){var a=new createjs.Text;a.text=c.toString();a.font=b+"px Dimbo";a.color="#f0261b";a.textAlign="left";a.textBaseline="middle";return a};HighscoreList.prototype.createScoreLabel=function(b,c){var a=new createjs.Text;a.text=c.toString();a.font=b+"px Dimbo";a.color="#f0261b";a.textAlign="center";a.textBaseline="middle";return a};
HighscoreList.prototype.createChangeIcon=function(b,c){var a;a=0<c?new createjs.Bitmap("img/rankUp.png"):0>c?new createjs.Bitmap("img/rankDown.png"):new createjs.Bitmap("img/rankSame.png");a.image.onload=function(){var g=b/a.image.height;a.scaleX=a.scaleY=g;a.x-=a.image.width*g/2;a.y-=a.image.height*g/2;this._container.addChild(a)}.bind(this);return a};
HighscoreList.prototype.createChangeLabel=function(b,c){var a=new createjs.Text;0<c&&(c="+"+c.toString());0==c&&(c="-");a.text=c;a.font=b+"px Dimbo";a.color=0<c?"#3bb742":0>c?"#f0261b":"#496da3";a.textAlign="center";a.textBaseline="middle";return a};HighscoreList.prototype.update=function(b){this._ranklist=b;this._container.removeAllChildren();this.addTo(this._container)};
var ButtonPanel=function(b,c,a,g){this._values=b;this._minified=c;this._setSelected=a;this._stats=g;this._buttons=[];this._initialized=!1};
ButtonPanel.prototype.addTo=function(b){b.name="ButtonPanel";var c=b.width>=b.height,a=b.width;this._minified&&c&&(a/=2);var g=b.height/2;this._minified&&!c&&(g*=.7);var h=b.width/60,d=b.height/50,e=this._values.length,c=this._minified||!c?1:2,f=Math.ceil(e/c),k=(a-h*(c+3))/c,f=(g-d*(f+3))/f,a=this.createMasterPanel(a-2*h,g-2*d);b.addChild(a);if(0<this._buttons.length){for(var l=[],g=0;g<this._buttons.length;g++)l.push(null!=this._buttons[g].clicked);this._buttons=[]}for(g=0;g<e;g++){var m=this._values[g],
n=g%c,p=Math.floor(g/c),q=void 0;void 0!=this._stats&&(q=this._stats[g].correct);var r=void 0==l?!1:l[g],q=this.createButtonPanel(k,f,r,q);q.x=h+n*(h+k)+a.x;q.y=d+p*(d+f)+a.y;q.label=m.toString();this._buttons.push(q);r&&q.dispatchEvent("click");m=this.createButtonLabel(k-h,f,m);m.x=q.x+k/2;n=m.getMeasuredHeight()/m.lineHeight;m.y=q.y+f/2-(n-1)*m.lineHeight/2;b.addChild(q,m);void 0!=this._stats&&this.createStats(b,q,this._stats[g].amount,this._stats[g].selected)}this._initialized=!0};
ButtonPanel.prototype.createMasterPanel=function(b,c){var a=new createjs.Shape;a.graphics.beginFill("#d3d3d3").drawRect(0,0,b,c);a.x=-b/2;a.y=-c/2;a.alpha=.4;return a};
ButtonPanel.prototype.createButtonPanel=function(b,c,a,g){function h(a){if(null==a.target.clicked){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h)}}a=new createjs.Shape;void 0==g?a.graphics.beginFill("#d3d3d3"):g?a.graphics.beginFill("#5cb85c"):a.graphics.beginFill("#f5756e");a.graphics.drawRect(0,
0,b,c);a.width=b;a.height=c;a.shadow=new createjs.Shadow("#333333",5,5,10);a.on("click",function(a){if(null!=this._setSelected){null==a.target.clicked?(a.target.filters=[new createjs.ColorFilter(0,0,0,1,255,203,151,0)],a.target.clicked=1):(a.target.filters=a.isTouch?[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]:[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)],a.target.clicked=null);a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h);a=[];for(var g=0;g<this._buttons.length;g++)null!=
this._buttons[g].clicked&&a.push(this._buttons[g].label);this._setSelected(a)}}.bind(this));a.on("mouseover",h.bind(this));a.on("mouseout",h.bind(this));return a};ButtonPanel.prototype.createButtonLabel=function(b,c,a){var g=40,h=new createjs.Text;h.text=a.toString();h.font=g+"px Dimbo";h.lineWidth=b;h.lineHeight=1.5*g;h.color="#f0261b";h.textAlign="center";for(h.textBaseline="middle";h.getMeasuredHeight()>c;)g-=2,h.lineHeight=1.5*g,h.font=g+"px Dimbo";return h};
ButtonPanel.prototype.createStats=function(b,c,a,g){for(var h=0,d=0;d<this._stats.length;d++)h+=this._stats[d].amount;d=this.createStatBar(c.height);d.x=c.x;d.y=c.y;this.animateStatBar(d,c.width,a,h,this._initialized);var e=this.createStatLabel(b.width,b.height,a);e.x=c.x+c.width*a/h;e.y=c.y;this.animateStatLabel(e,this._initialized);b.addChild(d,e);g&&(a=this.createSelectedHighlight(c.width,c.height),a.x=c.x,a.y=c.y,b.addChild(a))};
ButtonPanel.prototype.createStatBar=function(b){var c=new createjs.Shape;c.graphics.beginFill("#000").drawRect(0,0,0,b);c.alpha=.5;return c};ButtonPanel.prototype.animateStatBar=function(b,c,a,g,h){createjs.Tween.get(b.graphics.command,{loop:!1}).wait(h?0:1E3).to({w:c*a/g},h?0:2E3,createjs.Ease.getPowInOut(2))};
ButtonPanel.prototype.createStatLabel=function(b,c,a){b=Math.floor(Math.max(b/40,c/30));a=new createjs.Text(a.toString());a.font=b+"px Dimbo";a.color="#000";a.textAlign="left";a.textBaseline="top";a.alpha=0;return a};ButtonPanel.prototype.animateStatLabel=function(b,c){createjs.Tween.get(b,{loop:!1}).wait(c?0:2700).to({alpha:.8},c?0:1E3,createjs.Ease.getPowInOut(2))};
ButtonPanel.prototype.createSelectedHighlight=function(b,c){var a=new createjs.Shape;a.graphics.setStrokeStyle(6).beginStroke("#f0261b").drawRect(0,0,b,c);a.alpha=.9;return a};var MovingPlatform=function(){this._lastKeyPressed=null};
MovingPlatform.prototype.addTo=function(b){b.name="MovingPlatform";this._width=b.width;this._height=b.height;var c=this.createPlatform(Math.max(b.width,b.height)/5,b.height/20);c.x+=.5*b.width-c.width/2;c.y+=.9*b.height;this._platform=c;this.createPlatformControls(c,b);b.addChild(c)};MovingPlatform.prototype.createPlatform=function(b,c){var a=new createjs.Shape;a.graphics.beginFill("#d3d3d3").drawRect(0,0,b,c);a.width=b;a.height=c;return a};
MovingPlatform.prototype.createPlatformControls=function(b,c){window.onkeydown=function(a){this._lastKeyPressed=a=a.key;"a"===a||"A"===a||"ArrowLeft"===a?this.movePlatform(b,0):"d"!==a&&"D"!==a&&"ArrowRight"!==a||this.movePlatform(b,this._width)}.bind(this);window.onkeyup=function(a){this._lastKeyPressed===a.key&&this.stopPlatform(b)}.bind(this);this.createHitArea(c);c.on("mousedown",function(a){this._lastKeyPressed="MouseClick";this.movePlatform(b,a.rawX)}.bind(this));c.on("pressmove",function(a){this._lastKeyPressed=
"MouseClick";this.movePlatform(b,a.rawX)}.bind(this));c.on("pressup",function(a){"MouseClick"===this._lastKeyPressed&&this.stopPlatform(b)}.bind(this))};MovingPlatform.prototype.createHitArea=function(b){var c=new createjs.Shape;c.graphics.beginFill("#000").drawRect(0,0,b.width,b.height);b.hitArea=c};
MovingPlatform.prototype.movePlatform=function(b,c){c-=b.width/2;c=Math.max(Math.min(c,this._width-b.width),0);b.x>=c?createjs.Tween.get(b,{loop:!1,override:!0}).to({x:c},1500*(b.x-c)/this._width,createjs.Ease.getPowInOut(1)):createjs.Tween.get(b,{loop:!1,override:!0}).to({x:c},1500*(c-b.x)/this._width,createjs.Ease.getPowInOut(1))};MovingPlatform.prototype.stopPlatform=function(b){createjs.Tween.removeTweens(b)};
MovingPlatform.prototype.hitTestBetween=function(b,c){return this.hitTest(b)||this.hitTest(c)||b<this._platform.x&&c>this._platform.x+this._platform.width?!0:!1};MovingPlatform.prototype.hitTest=function(b){return Math.abs(this._platform.x+this._platform.width/2-b)<=this._platform.width/2?!0:!1};var DifficultyMeter=function(b){this._numStars=5;this._value=Math.min(b,this._numStars)};
DifficultyMeter.prototype.addTo=function(b){b.name="DifficultyMeter";if(!(0>this._value))for(var c=0;c<this._numStars;c++){var a=this.createStar(b.width,b.height,c);b.addChild(a)}};DifficultyMeter.prototype.createStar=function(b,c,a){var g=Math.max(b/80,c/60);b=Math.max(b/30,c/25);c=new createjs.Shape;a<this._value?c.graphics.beginFill("#F0261B"):c.graphics.beginFill("#333333");c.graphics.drawPolyStar(0,0,g,5,.6,-90);c.x=-((this._numStars/2-a)*b)+b/2;c.y=0;return c};
var QuestionSolution=function(b){this._data=b;this._drawable=[];this._initialized=!1};
QuestionSolution.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/quiz-background.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));this._data.image&&""!=this._data.image&&(this._hasDisplayImage=!0,this._drawable.push(new DisplayImage(this._data.image)));this._drawable.push(new ButtonPanel(this._data.answers,this._hasDisplayImage,null,this._data.stats));
"student"===this._data.view&&this._drawable.push(new HeaderDisplay("Score: +"+this._data.score));this._initialized=!0};QuestionSolution.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
QuestionSolution.prototype.setOrigin=function(b,c){var a=c.width>=c.height;switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "ButtonPanel":b.x=c.width/2;this._hasDisplayImage&&a&&(b.x+=c.width/4);b.y=.67*c.height;this._hasDisplayImage&&!a&&(b.y=.8*c.height);break;case "DisplayImage":a?(b.x=c.width/4,b.y=.67*c.height):(b.x=c.width/2,b.y=.46*c.height);break;case "HeaderDisplay":b.x=
0,b.y=0}};var MultipleChoiceQuestion=function(b){this._data=b;this._selected=[];this._drawable=[];this._submitted=this._initialized=!1};
MultipleChoiceQuestion.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/quiz-background.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));this._data.image&&""!=this._data.image&&(this._hasDisplayImage=!0,this._drawable.push(new DisplayImage(this._data.image)));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));
this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);this._drawable.push(new ButtonPanel(this._data.answers,this._hasDisplayImage,this.selected.bind(this),this._data.stats));this._drawable.push(new SubmitButton(this.submit.bind(this)));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._drawable.push(new ButtonPanel(this._data.answers,
this._hasDisplayImage,null,this._data.stats))}this._initialized=!0};MultipleChoiceQuestion.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
MultipleChoiceQuestion.prototype.setOrigin=function(b,c){var a=c.width>=c.height;switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "ButtonPanel":b.x=c.width/2;this._hasDisplayImage&&a&&(b.x+=c.width/4);b.y=.65*c.height;this._hasDisplayImage&&!a&&(b.y=.75*c.height);break;case "DisplayImage":a?(b.x=
c.width/4,b.y=.65*c.height):(b.x=c.width/2,b.y=.45*c.height);break;case "SubmitButton":b.x=c.width,b.y=c.height}};MultipleChoiceQuestion.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};MultipleChoiceQuestion.prototype.selected=function(b){this._selected=b};
MultipleChoiceQuestion.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+',"time-left" : '+this._timer.getTime()+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var Highscore=function(b){this._data=b;this._drawable=[];this._initialized=!1};
Highscore.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/highscore.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay("Highscore"));this._ranklist=new HighscoreList(this._data.ranklist);this._drawable.push(this._ranklist);this._footerDisplay=this._data.best?new FooterTextDisplay("Best score in last round: "+this._data.best.name+" (+"+this._data.best.difference+")"):new FooterTextDisplay("");this._drawable.push(this._footerDisplay);
this._fireworkEffect=new FireworkEffect;this._drawable.push(this._fireworkEffect);this._initialized=!0};
Highscore.prototype.draw=function(b){this._initialized||(this.init(),setTimeout(function(){this._fireworkEffect.explosionAnimation(50,.2*b.width,.2*b.height,2);this._fireworkEffect.explosionAnimation(50,.5*b.width,.3*b.height,2);this._fireworkEffect.explosionAnimation(50,.8*b.width,.2*b.height,2)}.bind(this),1E3));this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
Highscore.prototype.update=function(b){switch(b.component){case "highscore":this._ranklist.update(b.ranklist);b.best&&this._footerDisplay.update("Best score in last round: "+b.best.name+" (+"+b.best.difference+")");break;default:throw Error();}};Highscore.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "HighscoreList":b.x=c.width/2;b.y=c.height/3;break;case "FooterTextDisplay":b.x=c.width/2,b.y=c.height}};
var PointAndClick=function(b){this._data=b;this._selected=[];this._drawable=[];this._submitted=this._initialized=!1};
PointAndClick.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/europe.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);this._drawable.push(new InteractiveImage(this._data.image,
this.selected.bind(this)));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._drawable.push(new InteractiveImage(this._data.image,null))}this._initialized=!0};PointAndClick.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
PointAndClick.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "InteractiveImage":b.x=c.width/2,b.y=.65*c.height}};
PointAndClick.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};PointAndClick.prototype.selected=function(b){this._selected=b;this.submit()};
PointAndClick.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+',"time-left" : '+this._timer.getTime()+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var SimpleFocus=function(b){this._data=b;this._selected=null;this._drawable=[];this._submitted=this._initialized=!1};
SimpleFocus.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/quiz-background3.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);this._drawable.push(new LabelIterator(this._data.answers,
this._data.interval,this.selected.bind(this)));this._drawable.push(new RoundButton("Stop !",this.submit.bind(this)));break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer),this._drawable.push(new LabelIterator(this._data.answers,1500,null)),this._drawable.push(new RoundButton("Stop !",null))}this._initialized=!0};
SimpleFocus.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
SimpleFocus.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "RoundButton":b.x=c.width/2;b.y=.75*c.height;break;case "LabelIterator":b.x=c.width/2,b.y=.45*c.height}};
SimpleFocus.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};SimpleFocus.prototype.selected=function(b){this._selected=b};
SimpleFocus.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+',"time-left" : '+this._timer.getTime()+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var CatchEmAll=function(b){this._data=b;this._hitList=[];this._missList=[];this._drawable=[];this._submitted=this._initialized=!1};
CatchEmAll.prototype.init=function(){void 0==this._data.bg&&(this._data.bg="img/europe.jpg");this._drawable.push(new BackgroundImage(this._data.bg));this._drawable.push(new TitleDisplay(this._data.text));this._drawable.push(new DifficultyMeter(this._data.difficulty));switch(this._data.view){case "student":this._drawable.push(new HeaderDisplay("Score: "+this._data.score));this._timer=new TimeDisplay(this._data.time,this.submit.bind(this));this._drawable.push(this._timer);break;case "projector":this._drawable.push(new HeaderDisplay(this._data.screen)),
this._timer=new TimeDisplay(this._data.time,null),this._drawable.push(this._timer)}this._movingPlatform=new MovingPlatform;this._drawable.push(this._movingPlatform);this._drawable.push(new CatchField(this._data.answers,this._data.difficulty,this.hitTest.bind(this)));this._initialized=!0};CatchEmAll.prototype.draw=function(b){this._initialized||this.init();this._drawable.forEach(function(c){var a=new createjs.Container;a.width=b.width;a.height=b.height;c.addTo(a);this.setOrigin(a,b);b.addChild(a)}.bind(this))};
CatchEmAll.prototype.setOrigin=function(b,c){switch(b.name){case "BackgroundImage":b.x=0;b.y=0;break;case "HeaderDisplay":b.x=0;b.y=0;break;case "TimeDisplay":b.x=c.width;b.y=0;break;case "TitleDisplay":b.x=c.width/2;b.y=c.height/5;break;case "DifficultyMeter":b.x=c.width/2;b.y=c.height/20;break;case "CatchField":b.x=0;b.y=0;break;case "MovingPlatform":b.x=0,b.y=0}};
CatchEmAll.prototype.update=function(b){switch(b.component){case "timer":"absolute"===b.type&&this._timer.updateTime(b.value);"relative"===b.type&&this._timer.changeTime(b.value);"pause"===b.type&&this._timer.stopTimer();"resume"===b.type&&this._timer.startTimer();break;default:throw Error();}};
CatchEmAll.prototype.hitTest=function(b){var c=b.x,a=b.width/2;b=b.text;if(this._movingPlatform.hitTestBetween(c-a,c+a))return 0>this._hitList.indexOf(b)&&this._hitList.push(b),!0;0>this._missList.indexOf(b)&&this._missList.push(b);return!1};
CatchEmAll.prototype.submit=function(){if(!this._submitted){var b=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.screen+'","id" : '+this._data.id+',"hits" : '+JSON.stringify(this._hitList)+',"misses" : '+JSON.stringify(this._missList)+',"time-left" : '+this._timer.getTime()+"}");ServerConnection.send(b)&&(this._submitted=!0,StageManager.idle())}};var StageManager=function(){};
StageManager.init=function(b){this._canvas=b;this._stage=null;this._height=this._width=0;this.updateSize();this._isInitialized=!0};StageManager.idle=function(){return this.draw(new Idle(JSON.parse('{ "cmd":"show", "screen": "Idle", "text":"Waiting for an activity...", "bg":"img/idle.jpg" }')))};
StageManager.draw=function(b){if(!this._isInitialized||null==b)return!1;window.onkeydown=null;window.onkeyup=null;this._currentScreen=b;var c=this.createScreenContainer();b.draw(c);b.container=c;this.transition(c);return!0};StageManager.update=function(b){try{this._currentScreen.update(b)}catch(c){console.log("Update cannot be applied to the current screen.")}};
StageManager.createStage=function(){var b=new createjs.Stage(this._canvas);b.canvas.width=this._width;b.canvas.height=this._height;b.enableMouseOver(20);createjs.Touch.enable(b);createjs.Ticker.setFPS(30);createjs.Ticker.addEventListener("tick",b);return b};StageManager.createScreenContainer=function(){var b=new createjs.Container;b.width=this._width;b.height=this._height;return b};
StageManager.updateSize=function(){var b=document.getElementById("header").offsetHeight,c=document.getElementById("footer").offsetHeight;this._width=window.innerWidth;this._height=window.innerHeight-(b+c);this._width*=window.devicePixelRatio;this._height*=window.devicePixelRatio};
StageManager.resize=function(){if(null==this._stage)return!1;this.updateSize();var b=this._width,c=this._height;this._stage.canvas.width=b;this._stage.canvas.height=c;this._stage.update();var a=this._currentScreen.container;a.width=b;a.height=c;for(b=0;b<a.numChildren;b++)createjs.Tween.removeTweens(a.getChildAt(b)),a.getChildAt(b).removeAllEventListeners();a.removeAllChildren();a.removeAllEventListeners();this._currentScreen.draw(a);return!0};
StageManager.transition=function(b){null==this._stage?(this._stage=this.createStage(),this._stage.addChild(b)):(createjs.Ticker.setFPS(60),b.x-=b.width,this._stage.addChildAt(b,0),createjs.Tween.get(this._stage,{loop:!1}).call(function(b){b=b.getChildAt(b.numChildren-1);for(var a=0;a<b.numChildren;a++){for(var g=b.getChildAt(a),h=0;h<g.numChildren;h++)createjs.Tween.removeTweens(g.getChildAt(h)),g.getChildAt(h).removeAllEventListeners();createjs.Tween.removeTweens(b.getChildAt(a));b.getChildAt(a).removeAllEventListeners()}},
[this._stage]).to({x:this._stage.canvas.width},1E3,createjs.Ease.getPowInOut(2)).call(function(b){var a=b.getChildAt(b.numChildren-1);a.removeAllChildren();b.removeChild(a);b.x=b.getChildAt(0).x=0;createjs.Ticker.setFPS(30)},[this._stage]))};var MessageInterpreter=function(){};MessageInterpreter.interpret=function(b){switch(b.cmd){case "show":StageManager.draw(this.getScreen(b));break;case "update":StageManager.update(b);break;default:console.log("Error: Unknown command "+b.cmd)}};
MessageInterpreter.getScreen=function(b){try{return eval("(new "+b.screen+"(data))")}catch(c){try{return new window[b.screen](b)}catch(a){return console.log("ReferenceError: Screen "+b.screen+" is not defined."),null}}};this.createjs=this.createjs||{};createjs.extend=function(b,c){function a(){this.constructor=b}return a.prototype=c.prototype,b.prototype=new a};this.createjs=this.createjs||{};
createjs.promote=function(b,c){var a=b.prototype,g=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(g){a[(c+="_")+"constructor"]=g.constructor;for(var h in g)a.hasOwnProperty(h)&&"function"==typeof g[h]&&(a[c+h]=g[h])}return b};this.createjs=this.createjs||{};createjs.indexOf=function(b,c){for(var a=0,g=b.length;g>a;a++)if(c===b[a])return a;return-1};this.createjs=this.createjs||{};
(function(){function b(a,g,b){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!g;this.cancelable=!!b;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};c.stopPropagation=function(){this.propagationStopped=!0};c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};c.remove=function(){this.removed=!0};c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)};c.set=function(a){for(var g in a)this[g]=a[g];return this};c.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=b})();this.createjs=this.createjs||{};
(function(){function b(){this._captureListeners=this._listeners=null}var c=b.prototype;b.initialize=function(a){a.addEventListener=c.addEventListener;a.on=c.on;a.removeEventListener=a.off=c.removeEventListener;a.removeAllEventListeners=c.removeAllEventListeners;a.hasEventListener=c.hasEventListener;a.dispatchEvent=c.dispatchEvent;a._dispatchEvent=c._dispatchEvent;a.willTrigger=c.willTrigger};c.addEventListener=function(a,g,b){var c;c=b?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var e=c[a];return e&&this.removeEventListener(a,g,b),e=c[a],e?e.push(g):c[a]=[g],g};c.on=function(a,g,b,c,e,f){return g.handleEvent&&(b=b||g,g=g.handleEvent),b=b||this,this.addEventListener(a,function(a){g.call(b,a,e);c&&a.remove()},f)};c.removeEventListener=function(a,g,b){if(b=b?this._captureListeners:this._listeners){var c=b[a];if(c)for(var e=0,f=c.length;f>e;e++)if(c[e]==g){1==f?delete b[a]:c.splice(e,1);break}}};c.off=c.removeEventListener;c.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};c.dispatchEvent=function(a,b,c){if("string"==typeof a){var d=this._listeners;if(!(b||d&&d[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(e){}if(a.bubbles&&this.parent){c=this;for(b=[c];c.parent;)b.push(c=c.parent);d=b.length;for(c=d-1;0<=c&&!a.propagationStopped;c--)b[c]._dispatchEvent(a,1+(0==c));
for(c=1;d>c&&!a.propagationStopped;c++)b[c]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};c.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};c.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};c.toString=function(){return"[EventDispatcher]"};c._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d&&(d=d[a.type])&&(c=d.length)){try{a.currentTarget=
this}catch(k){}try{a.eventPhase=b}catch(k){}a.removed=!1;for(var d=d.slice(),e=0;c>e&&!a.immediatePropagationStopped;e++){var f=d[e];f.handleEvent?f.handleEvent(a):f(a);a.removed&&(this.off(a.type,f,1==b),a.removed=!1)}}};createjs.EventDispatcher=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"Ticker cannot be instantiated.";}b.RAF_SYNCHED="synched";b.RAF="raf";b.TIMEOUT="timeout";b.useRAF=!1;b.timingMode=null;b.maxDelta=0;b.paused=!1;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;createjs.EventDispatcher.initialize(b);b._addEventListener=b.addEventListener;b.addEventListener=function(){return!b._inited&&b.init(),b._addEventListener.apply(b,arguments)};b._inited=!1;b._startTime=0;b._pausedTime=
0;b._ticks=0;b._pausedTicks=0;b._interval=50;b._lastTime=0;b._times=null;b._tickTimes=null;b._timerId=null;b._raf=!0;b.setInterval=function(a){b._interval=a;b._inited&&b._setupTick()};b.getInterval=function(){return b._interval};b.setFPS=function(a){b.setInterval(1E3/a)};b.getFPS=function(){return 1E3/b._interval};try{Object.defineProperties(b,{interval:{get:b.getInterval,set:b.setInterval},framerate:{get:b.getFPS,set:b.setFPS}})}catch(a){console.log(a)}b.init=function(){b._inited||(b._inited=!0,
b._times=[],b._tickTimes=[],b._startTime=b._getTime(),b._times.push(b._lastTime=0),b.interval=b._interval)};b.reset=function(){if(b._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(b._timerId)}else clearTimeout(b._timerId);b.removeAllEventListeners("tick");b._timerId=b._times=b._tickTimes=null;b._startTime=b._lastTime=b._ticks=0;b._inited=!1};b.getMeasuredTickTime=function(a){var g=
0,c=b._tickTimes;if(!c||1>c.length)return-1;a=Math.min(c.length,a||0|b.getFPS());for(var d=0;a>d;d++)g+=c[d];return g/a};b.getMeasuredFPS=function(a){var g=b._times;return!g||2>g.length?-1:(a=Math.min(g.length-1,a||0|b.getFPS()),1E3/((g[0]-g[a])/a))};b.setPaused=function(a){b.paused=a};b.getPaused=function(){return b.paused};b.getTime=function(a){return b._startTime?b._getTime()-(a?b._pausedTime:0):-1};b.getEventTime=function(a){return b._startTime?(b._lastTime||b._startTime)-(a?b._pausedTime:0):
-1};b.getTicks=function(a){return b._ticks-(a?b._pausedTicks:0)};b._handleSynch=function(){b._timerId=null;b._setupTick();b._getTime()-b._lastTime>=.97*(b._interval-1)&&b._tick()};b._handleRAF=function(){b._timerId=null;b._setupTick();b._tick()};b._handleTimeout=function(){b._timerId=null;b._setupTick();b._tick()};b._setupTick=function(){if(null==b._timerId){var a=b.timingMode||b.useRAF&&b.RAF_SYNCHED;if(a==b.RAF_SYNCHED||a==b.RAF){var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(g)return b._timerId=g(a==b.RAF?b._handleRAF:b._handleSynch),void(b._raf=!0)}b._raf=!1;b._timerId=setTimeout(b._handleTimeout,b._interval)}};b._tick=function(){var a=b.paused,g=b._getTime(),c=g-b._lastTime;if(b._lastTime=g,b._ticks++,a&&(b._pausedTicks++,b._pausedTime+=c),b.hasEventListener("tick")){var d=new createjs.Event("tick"),e=b.maxDelta;d.delta=e&&c>e?e:c;d.paused=a;d.time=g;d.runTime=g-b._pausedTime;
b.dispatchEvent(d)}for(b._tickTimes.unshift(b._getTime()-g);100<b._tickTimes.length;)b._tickTimes.pop();for(b._times.unshift(g);100<b._times.length;)b._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-b._startTime};createjs.Ticker=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"UID cannot be instantiated";}b._nextID=0;b.get=function(){return b._nextID++};createjs.UID=b})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,d,e,f,k,l,m,n,p){this.Event_constructor(a,b,c);this.stageX=d;this.stageY=e;this.rawX=null==m?d:m;this.rawY=null==n?e:n;this.nativeEvent=f;this.pointerID=k;this.primary=!!l;this.relatedTarget=p}var c=createjs.extend(b,createjs.Event);c._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};c._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};c._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(c,
{localX:{get:c._get_localX},localY:{get:c._get_localY},isTouch:{get:c._get_isTouch}})}catch(a){}c.clone=function(){return new b(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};c.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=createjs.promote(b,"Event")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,d,e,f){this.setValues(a,b,c,d,e,f)}var c=b.prototype;b.DEG_TO_RAD=Math.PI/180;b.identity=null;c.setValues=function(a,b,c,d,e,f){return this.a=null==a?1:a,this.b=b||0,this.c=c||0,this.d=null==d?1:d,this.tx=e||0,this.ty=f||0,this};c.append=function(a,b,c,d,e,f){var k=this.a,l=this.b,m=this.c,n=this.d;return(1!=a||0!=b||0!=c||1!=d)&&(this.a=k*a+m*b,this.b=l*a+n*b,this.c=k*c+m*d,this.d=l*c+n*d),this.tx=k*e+m*f+this.tx,this.ty=l*e+n*f+this.ty,this};c.prepend=function(a,b,c,
d,e,f){var k=this.a,l=this.c,m=this.tx;return this.a=a*k+c*this.b,this.b=b*k+d*this.b,this.c=a*l+c*this.d,this.d=b*l+d*this.d,this.tx=a*m+c*this.ty+e,this.ty=b*m+d*this.ty+f,this};c.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)};c.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty)};c.appendTransform=function(a,g,c,d,e,f,k,l,m){if(e%360){var n=e*b.DEG_TO_RAD;e=Math.cos(n);n=Math.sin(n)}else e=1,n=0;return f||k?(f*=b.DEG_TO_RAD,k*=b.DEG_TO_RAD,this.append(Math.cos(k),
Math.sin(k),-Math.sin(f),Math.cos(f),a,g),this.append(e*c,n*c,-n*d,e*d,0,0)):this.append(e*c,n*c,-n*d,e*d,a,g),(l||m)&&(this.tx-=l*this.a+m*this.c,this.ty-=l*this.b+m*this.d),this};c.prependTransform=function(a,g,c,d,e,f,k,l,m){if(e%360){var n=e*b.DEG_TO_RAD;e=Math.cos(n);n=Math.sin(n)}else e=1,n=0;return(l||m)&&(this.tx-=l,this.ty-=m),f||k?(f*=b.DEG_TO_RAD,k*=b.DEG_TO_RAD,this.prepend(e*c,n*c,-n*d,e*d,0,0),this.prepend(Math.cos(k),Math.sin(k),-Math.sin(f),Math.cos(f),a,g)):this.prepend(e*c,n*c,-n*
d,e*d,a,g),this};c.rotate=function(a){a*=b.DEG_TO_RAD;var g=Math.cos(a);a=Math.sin(a);var c=this.a,d=this.b;return this.a=c*g+this.c*a,this.b=d*g+this.d*a,this.c=-c*a+this.c*g,this.d=-d*a+this.d*g,this};c.skew=function(a,g){return a*=b.DEG_TO_RAD,g*=b.DEG_TO_RAD,this.append(Math.cos(g),Math.sin(g),-Math.sin(a),Math.cos(a),0,0),this};c.scale=function(a,b){return this.a*=a,this.b*=a,this.c*=b,this.d*=b,this};c.translate=function(a,b){return this.tx+=this.a*a+this.c*b,this.ty+=this.b*a+this.d*b,this};
c.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this};c.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-d*e)/f,this.ty=-(a*this.ty-b*e)/f,this};c.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d};c.equals=function(a){return this.tx===a.tx&&this.ty===a.ty&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d};c.transformPoint=
function(a,b,c){return c=c||{},c.x=a*this.a+b*this.c+this.tx,c.y=a*this.b+b*this.d+this.ty,c};c.decompose=function(a){null==a&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var g=Math.atan2(-this.c,this.d),c=Math.atan2(this.b,this.a);return 1E-5>Math.abs(1-g/c)?(a.rotation=c/b.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=g/b.DEG_TO_RAD,a.skewY=c/b.DEG_TO_RAD),a};c.copy=
function(a){return this.setValues(a.a,a.b,a.c,a.d,a.tx,a.ty)};c.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)};c.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};b.identity=new b;createjs.Matrix2D=b})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,d,e){this.setValues(a,b,c,d,e)}var c=b.prototype;c.setValues=function(a,b,c,d,e){return this.visible=null==a?!0:!!a,this.alpha=null==b?1:b,this.shadow=c,this.compositeOperation=d,this.matrix=e||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this};c.append=function(a,b,c,d,e){return this.alpha*=b,this.shadow=c||this.shadow,this.compositeOperation=d||this.compositeOperation,this.visible=this.visible&&a,e&&this.matrix.appendMatrix(e),this};c.prepend=function(a,
b,c,d,e){return this.alpha*=b,this.shadow=this.shadow||c,this.compositeOperation=this.compositeOperation||d,this.visible=this.visible&&a,e&&this.matrix.prependMatrix(e),this};c.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this};c.clone=function(){return new b(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())};createjs.DisplayProps=b})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.setValues(a,b)}var c=b.prototype;c.setValues=function(a,b){return this.x=a||0,this.y=b||0,this};c.copy=function(a){return this.x=a.x,this.y=a.y,this};c.clone=function(){return new b(this.x,this.y)};c.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=b})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,d){this.setValues(a,b,c,d)}var c=b.prototype;c.setValues=function(a,b,c,d){return this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this};c.extend=function(a,b,c,d){return c=c||0,d=d||0,a+c>this.x+this.width&&(this.width=a+c-this.x),b+d>this.y+this.height&&(this.height=b+d-this.y),a<this.x&&(this.width+=this.x-a,this.x=a),b<this.y&&(this.height+=this.y-b,this.y=b),this};c.pad=function(a,b,c,d){return this.x-=b,this.y-=a,this.width+=b+d,this.height+=a+c,this};c.copy=
function(a){return this.setValues(a.x,a.y,a.width,a.height)};c.contains=function(a,b,c,d){return c=c||0,d=d||0,a>=this.x&&a+c<=this.x+this.width&&b>=this.y&&b+d<=this.y+this.height};c.union=function(a){return this.clone().extend(a.x,a.y,a.width,a.height)};c.intersection=function(a){var g=a.x,c=a.y,d=g+a.width;a=c+a.height;return this.x>g&&(g=this.x),this.y>c&&(c=this.y),this.x+this.width<d&&(d=this.x+this.width),this.y+this.height<a&&(a=this.y+this.height),g>=d||c>=a?null:new b(g,c,d-g,a-c)};c.intersects=
function(a){return a.x<=this.x+this.width&&this.x<=a.x+a.width&&a.y<=this.y+this.height&&this.y<=a.y+a.height};c.isEmpty=function(){return 0>=this.width||0>=this.height};c.clone=function(){return new b(this.x,this.y,this.width,this.height)};c.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=b})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,d,e,f,k){a.addEventListener&&(this.target=a,this.overLabel=null==c?"over":c,this.outLabel=null==b?"out":b,this.downLabel=null==d?"down":d,this.play=e,this._isPressed=!1,this._isOver=!1,this._enabled=!1,a.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),f&&(k&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(k)),a.hitArea=f))}var c=b.prototype;c.setEnabled=function(a){if(a!=this._enabled){var b=this.target;(this._enabled=a)?(b.cursor="pointer",b.addEventListener("rollover",
this),b.addEventListener("rollout",this),b.addEventListener("mousedown",this),b.addEventListener("pressup",this),b._reset&&(b.__reset=b._reset,b._reset=this._reset)):(b.cursor=null,b.removeEventListener("rollover",this),b.removeEventListener("rollout",this),b.removeEventListener("mousedown",this),b.removeEventListener("pressup",this),b.__reset&&(b._reset=b.__reset,delete b.__reset))}};c.getEnabled=function(){return this._enabled};try{Object.defineProperties(c,{enabled:{get:c.getEnabled,set:c.setEnabled}})}catch(a){}c.toString=
function(){return"[ButtonHelper]"};c.handleEvent=function(a){var b,c=this.target;a=a.type;"mousedown"==a?(this._isPressed=!0,b=this.downLabel):"pressup"==a?(this._isPressed=!1,b=this._isOver?this.overLabel:this.outLabel):"rollover"==a?(this._isOver=!0,b=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,b=this._isPressed?this.overLabel:this.outLabel);this.play?c.gotoAndPlay&&c.gotoAndPlay(b):c.gotoAndStop&&c.gotoAndStop(b)};c._reset=function(){var a=this.paused;this.__reset();this.paused=
a};createjs.ButtonHelper=b})();this.createjs=this.createjs||{};(function(){function b(a,b,c,d){this.color=a||"black";this.offsetX=b||0;this.offsetY=c||0;this.blur=d||0}var c=b.prototype;b.identity=new b("transparent",0,0,0);c.toString=function(){return"[Shadow]"};c.clone=function(){return new b(this.color,this.offsetX,this.offsetY,this.blur)};createjs.Shadow=b})();this.createjs=this.createjs||{};
(function(){function b(a){this.EventDispatcher_constructor();this.complete=!0;this.framerate=0;this._data=this._images=this._frames=this._animations=null;this._margin=this._spacing=this._regY=this._regX=this._numFrames=this._frameWidth=this._frameHeight=this._loadCount=0;this._parseData(a)}var c=createjs.extend(b,createjs.EventDispatcher);c.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(c,{animations:{get:c.getAnimations}})}catch(a){}c.getNumFrames=function(a){if(null==
a)return this._frames?this._frames.length:this._numFrames||0;a=this._data[a];return null==a?0:a.frames.length};c.getAnimation=function(a){return this._data[a]};c.getFrame=function(a){var b;return this._frames&&(b=this._frames[a])?b:null};c.getFrameBounds=function(a,b){var c=this.getFrame(a);return c?(b||new createjs.Rectangle).setValues(-c.regX,-c.regY,c.rect.width,c.rect.height):null};c.toString=function(){return"[SpriteSheet]"};c.clone=function(){throw"SpriteSheet cannot be cloned.";};c._parseData=
function(a){var b,c,d;if(null!=a){if(this.framerate=a.framerate||0,a.images&&0<(c=a.images.length))for(d=this._images=[],b=0;c>b;b++){var e=a.images[b];if("string"==typeof e){var f=e,e=document.createElement("img");e.src=f}d.push(e);e.getContext||e.naturalWidth||(this._loadCount++,this.complete=!1,function(a,b){e.onload=function(){a._handleImageLoad(b)}}(this,f),function(a,b){e.onerror=function(){a._handleImageError(b)}}(this,f))}if(null!=a.frames)if(Array.isArray(a.frames))for(this._frames=[],d=
a.frames,b=0,c=d.length;c>b;b++)f=d[b],this._frames.push({image:this._images[f[4]?f[4]:0],rect:new createjs.Rectangle(f[0],f[1],f[2],f[3]),regX:f[5]||0,regY:f[6]||0});else c=a.frames,this._frameWidth=c.width,this._frameHeight=c.height,this._regX=c.regX||0,this._regY=c.regY||0,this._spacing=c.spacing||0,this._margin=c.margin||0,this._numFrames=c.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(c=a.animations)){this._data={};for(var k in c){a={name:k};f=c[k];if("number"==
typeof f)d=a.frames=[f];else if(Array.isArray(f))if(1==f.length)a.frames=[f[0]];else for(a.speed=f[3],a.next=f[2],d=a.frames=[],b=f[0];b<=f[1];b++)d.push(b);else a.speed=f.speed,a.next=f.next,b=f.frames,d=a.frames="number"==typeof b?[b]:b.slice(0);!0!==a.next&&void 0!==a.next||(a.next=k);(!1===a.next||2>d.length&&a.next==k)&&(a.next=null);a.speed||(a.speed=1);this._animations.push(k);this._data[k]=a}}}};c._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,
this.dispatchEvent("complete"))};c._handleImageError=function(a){var b=new createjs.Event("error");b.src=a;this.dispatchEvent(b);0==--this._loadCount&&this.dispatchEvent("complete")};c._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var a=this._numFrames||1E5,b=0,c=this._frameWidth,d=this._frameHeight,e=this._spacing,f=this._margin,k=0,l=this._images;a:for(;k<l.length;k++)for(var m=l[k],n=m.width,p=m.height,q=f;p-f-d>=q;){for(var r=f;n-f-c>=r;){if(b>=a)break a;b++;
this._frames.push({image:m,rect:new createjs.Rectangle(r,q,c,d),regX:this._regX,regY:this._regY});r+=c+e}q+=d+e}this._numFrames=b}};createjs.SpriteSheet=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(){this._oldStrokeDash=this._strokeDash=this._oldStrokeStyle=this._strokeStyle=this._stroke=this.command=null;this._strokeIgnoreScale=!1;this._fill=null;this._instructions=[];this._commitIndex=0;this._activeInstructions=[];this._dirty=!1;this._storeIndex=0;this.clear()}var c=b.prototype;b.getRGB=function(a,b,c,e){return null!=a&&null==c&&(e=b,c=255&a,b=a>>8&255,a=a>>16&255),null==e?"rgb("+a+","+b+","+c+")":"rgba("+a+","+b+","+c+","+e+")"};b.getHSL=function(a,b,c,e){return null==
e?"hsl("+a%360+","+b+"%,"+c+"%)":"hsla("+a%360+","+b+"%,"+c+"%,"+e+")"};b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};b.STROKE_CAPS_MAP=["butt","round","square"];b.STROKE_JOINTS_MAP=["miter","round","bevel"];var a=createjs.createCanvas?
createjs.createCanvas():document.createElement("canvas");a.getContext&&(b._ctx=a.getContext("2d"),a.width=a.height=1);c.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(c,{instructions:{get:c.getInstructions}})}catch(g){}c.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)};c.draw=function(a,b){this._updateInstructions();for(var c=this._instructions,e=this._storeIndex,f=c.length;f>e;e++)c[e].exec(a,b)};
c.drawAsPath=function(a){this._updateInstructions();for(var b,c=this._instructions,e=this._storeIndex,f=c.length;f>e;e++)!1!==(b=c[e]).path&&b.exec(a)};c.moveTo=function(a,c){return this.append(new b.MoveTo(a,c),!0)};c.lineTo=function(a,c){return this.append(new b.LineTo(a,c))};c.arcTo=function(a,c,d,e,f){return this.append(new b.ArcTo(a,c,d,e,f))};c.arc=function(a,c,d,e,f,k){return this.append(new b.Arc(a,c,d,e,f,k))};c.quadraticCurveTo=function(a,c,d,e){return this.append(new b.QuadraticCurveTo(a,
c,d,e))};c.bezierCurveTo=function(a,c,d,e,f,k){return this.append(new b.BezierCurveTo(a,c,d,e,f,k))};c.rect=function(a,c,d,e){return this.append(new b.Rect(a,c,d,e))};c.closePath=function(){return this._activeInstructions.length?this.append(new b.ClosePath):this};c.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=
!1,this};c.beginFill=function(a){return this._setFill(a?new b.Fill(a):null)};c.beginLinearGradientFill=function(a,c,d,e,f,k){return this._setFill((new b.Fill).linearGradient(a,c,d,e,f,k))};c.beginRadialGradientFill=function(a,c,d,e,f,k,l,m){return this._setFill((new b.Fill).radialGradient(a,c,d,e,f,k,l,m))};c.beginBitmapFill=function(a,c,d){return this._setFill((new b.Fill(null,d)).bitmap(a,c))};c.endFill=function(){return this.beginFill()};c.setStrokeStyle=function(a,c,d,e,f){return this._updateInstructions(!0),
this._strokeStyle=this.command=new b.StrokeStyle(a,c,d,e,f),this._stroke&&(this._stroke.ignoreScale=f),this._strokeIgnoreScale=f,this};c.setStrokeDash=function(a,c){return this._updateInstructions(!0),this._strokeDash=this.command=new b.StrokeDash(a,c),this};c.beginStroke=function(a){return this._setStroke(a?new b.Stroke(a):null)};c.beginLinearGradientStroke=function(a,c,d,e,f,k){return this._setStroke((new b.Stroke).linearGradient(a,c,d,e,f,k))};c.beginRadialGradientStroke=function(a,c,d,e,f,k,l,
m){return this._setStroke((new b.Stroke).radialGradient(a,c,d,e,f,k,l,m))};c.beginBitmapStroke=function(a,c){return this._setStroke((new b.Stroke).bitmap(a,c))};c.endStroke=function(){return this.beginStroke()};c.curveTo=c.quadraticCurveTo;c.drawRect=c.rect;c.drawRoundRect=function(a,b,c,e,f){return this.drawRoundRectComplex(a,b,c,e,f,f,f,f)};c.drawRoundRectComplex=function(a,c,d,e,f,k,l,m){return this.append(new b.RoundRect(a,c,d,e,f,k,l,m))};c.drawCircle=function(a,c,d){return this.append(new b.Circle(a,
c,d))};c.drawEllipse=function(a,c,d,e){return this.append(new b.Ellipse(a,c,d,e))};c.drawPolyStar=function(a,c,d,e,f,k){return this.append(new b.PolyStar(a,c,d,e,f,k))};c.append=function(a,b){return this._activeInstructions.push(a),this.command=a,b||(this._dirty=!0),this};c.decodePath=function(a){for(var c=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],d=[2,2,4,6,0],e=0,f=a.length,k=[],l=0,m=0,n=b.BASE_64;f>e;){var p=a.charAt(e),q=n[p],r=q>>3,t=c[r];if(!t||3&q)throw"bad path data (@"+
e+"): "+p;p=d[r];r||(l=m=0);k.length=0;e++;q=(q>>2&1)+2;for(r=0;p>r;r++){var v=n[a.charAt(e)],x=v>>5?-1:1,v=(31&v)<<6|n[a.charAt(e+1)];3==q&&(v=v<<6|n[a.charAt(e+2)]);v=x*v/10;r%2?l=v+=l:m=v+=m;k[r]=v;e+=q}t.apply(this,k)}return this};c.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this};c.unstore=function(){return this._storeIndex=0,this};c.clone=function(){var a=new b;return a.command=this.command,a._stroke=this._stroke,a._strokeStyle=this._strokeStyle,
a._strokeDash=this._strokeDash,a._strokeIgnoreScale=this._strokeIgnoreScale,a._fill=this._fill,a._instructions=this._instructions.slice(),a._commitIndex=this._commitIndex,a._activeInstructions=this._activeInstructions.slice(),a._dirty=this._dirty,a._storeIndex=this._storeIndex,a};c.toString=function(){return"[Graphics]"};c.mt=c.moveTo;c.lt=c.lineTo;c.at=c.arcTo;c.bt=c.bezierCurveTo;c.qt=c.quadraticCurveTo;c.a=c.arc;c.r=c.rect;c.cp=c.closePath;c.c=c.clear;c.f=c.beginFill;c.lf=c.beginLinearGradientFill;
c.rf=c.beginRadialGradientFill;c.bf=c.beginBitmapFill;c.ef=c.endFill;c.ss=c.setStrokeStyle;c.sd=c.setStrokeDash;c.s=c.beginStroke;c.ls=c.beginLinearGradientStroke;c.rs=c.beginRadialGradientStroke;c.bs=c.beginBitmapStroke;c.es=c.endStroke;c.dr=c.drawRect;c.rr=c.drawRoundRect;c.rc=c.drawRoundRectComplex;c.dc=c.drawCircle;c.de=c.drawEllipse;c.dp=c.drawPolyStar;c.p=c.decodePath;c._updateInstructions=function(a){var c=this._instructions,d=this._activeInstructions,e=this._commitIndex;if(this._dirty&&d.length){c.length=
e;c.push(b.beginCmd);var e=d.length,f=c.length;c.length=f+e;for(var k=0;e>k;k++)c[k+f]=d[k];this._fill&&c.push(this._fill);this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,c.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,c.push(this._strokeStyle)),c.push(this._stroke));this._dirty=!1}a&&(d.length=0,this._commitIndex=c.length)};c._setFill=function(a){return this._updateInstructions(!0),this.command=
this._fill=a,this};c._setStroke=function(a){return this._updateInstructions(!0),(this.command=this._stroke=a)&&(a.ignoreScale=this._strokeIgnoreScale),this};(b.LineTo=function(a,b){this.x=a;this.y=b}).prototype.exec=function(a){a.lineTo(this.x,this.y)};(b.MoveTo=function(a,b){this.x=a;this.y=b}).prototype.exec=function(a){a.moveTo(this.x,this.y)};(b.ArcTo=function(a,b,c,e,f){this.x1=a;this.y1=b;this.x2=c;this.y2=e;this.radius=f}).prototype.exec=function(a){a.arcTo(this.x1,this.y1,this.x2,this.y2,
this.radius)};(b.Arc=function(a,b,c,e,f,k){this.x=a;this.y=b;this.radius=c;this.startAngle=e;this.endAngle=f;this.anticlockwise=!!k}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)};(b.QuadraticCurveTo=function(a,b,c,e){this.cpx=a;this.cpy=b;this.x=c;this.y=e}).prototype.exec=function(a){a.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)};(b.BezierCurveTo=function(a,b,c,e,f,k){this.cp1x=a;this.cp1y=b;this.cp2x=c;this.cp2y=e;this.x=f;this.y=
k}).prototype.exec=function(a){a.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)};(b.Rect=function(a,b,c,e){this.x=a;this.y=b;this.w=c;this.h=e}).prototype.exec=function(a){a.rect(this.x,this.y,this.w,this.h)};(b.ClosePath=function(){}).prototype.exec=function(a){a.closePath()};(b.BeginPath=function(){}).prototype.exec=function(a){a.beginPath()};c=(b.Fill=function(a,b){this.style=a;this.matrix=b}).prototype;c.exec=function(a){if(this.style){a.fillStyle=this.style;var b=this.matrix;
b&&(a.save(),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty));a.fill();b&&a.restore()}};c.linearGradient=function(a,c,d,e,f,k){for(var l=this.style=b._ctx.createLinearGradient(d,e,f,k),m=0,n=a.length;n>m;m++)l.addColorStop(c[m],a[m]);return l.props={colors:a,ratios:c,x0:d,y0:e,x1:f,y1:k,type:"linear"},this};c.radialGradient=function(a,c,d,e,f,k,l,m){for(var n=this.style=b._ctx.createRadialGradient(d,e,f,k,l,m),p=0,q=a.length;q>p;p++)n.addColorStop(c[p],a[p]);return n.props={colors:a,ratios:c,x0:d,y0:e,r0:f,
x1:k,y1:l,r1:m,type:"radial"},this};c.bitmap=function(a,c){if(a.naturalWidth||a.getContext||2<=a.readyState)(this.style=b._ctx.createPattern(a,c||"")).props={image:a,repetition:c,type:"bitmap"};return this};c.path=!1;c=(b.Stroke=function(a,b){this.style=a;this.ignoreScale=b}).prototype;c.exec=function(a){this.style&&(a.strokeStyle=this.style,this.ignoreScale&&(a.save(),a.setTransform(1,0,0,1,0,0)),a.stroke(),this.ignoreScale&&a.restore())};c.linearGradient=b.Fill.prototype.linearGradient;c.radialGradient=
b.Fill.prototype.radialGradient;c.bitmap=b.Fill.prototype.bitmap;c.path=!1;c=(b.StrokeStyle=function(a,b,c,e,f){this.width=a;this.caps=b;this.joints=c;this.miterLimit=e;this.ignoreScale=f}).prototype;c.exec=function(a){a.lineWidth=null==this.width?"1":this.width;a.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:b.STROKE_CAPS_MAP[this.caps];a.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:b.STROKE_JOINTS_MAP[this.joints];a.miterLimit=null==this.miterLimit?"10":this.miterLimit;
a.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale};c.path=!1;(b.StrokeDash=function(a,b){this.segments=a;this.offset=b||0}).prototype.exec=function(a){a.setLineDash&&(a.setLineDash(this.segments||b.StrokeDash.EMPTY_SEGMENTS),a.lineDashOffset=this.offset||0)};b.StrokeDash.EMPTY_SEGMENTS=[];(b.RoundRect=function(a,b,c,e,f,k,l,m){this.x=a;this.y=b;this.w=c;this.h=e;this.radiusTL=f;this.radiusTR=k;this.radiusBR=l;this.radiusBL=m}).prototype.exec=function(a){var b=(p>n?n:p)/2,c=0,e=0,f=0,k=0,l=
this.x,m=this.y,n=this.w,p=this.h,q=this.radiusTL,r=this.radiusTR,t=this.radiusBR,v=this.radiusBL;0>q&&(q*=c=-1);q>b&&(q=b);0>r&&(r*=e=-1);r>b&&(r=b);0>t&&(t*=f=-1);t>b&&(t=b);0>v&&(v*=k=-1);v>b&&(v=b);a.moveTo(l+n-r,m);a.arcTo(l+n+r*e,m-r*e,l+n,m+r,r);a.lineTo(l+n,m+p-t);a.arcTo(l+n+t*f,m+p+t*f,l+n-t,m+p,t);a.lineTo(l+v,m+p);a.arcTo(l-v*k,m+p+v*k,l,m+p-v,v);a.lineTo(l,m+q);a.arcTo(l-q*c,m-q*c,l+q,m,q);a.closePath()};(b.Circle=function(a,b,c){this.x=a;this.y=b;this.radius=c}).prototype.exec=function(a){a.arc(this.x,
this.y,this.radius,0,2*Math.PI)};(b.Ellipse=function(a,b,c,e){this.x=a;this.y=b;this.w=c;this.h=e}).prototype.exec=function(a){var b=this.x,c=this.y,e=this.w,f=this.h,k=e/2*.5522848,l=f/2*.5522848,m=b+e,n=c+f,e=b+e/2,f=c+f/2;a.moveTo(b,f);a.bezierCurveTo(b,f-l,e-k,c,e,c);a.bezierCurveTo(e+k,c,m,f-l,m,f);a.bezierCurveTo(m,f+l,e+k,n,e,n);a.bezierCurveTo(e-k,n,b,f+l,b,f)};(b.PolyStar=function(a,b,c,e,f,k){this.x=a;this.y=b;this.radius=c;this.sides=e;this.pointSize=f;this.angle=k}).prototype.exec=function(a){var b=
this.x,c=this.y,e=this.radius,f=(this.angle||0)/180*Math.PI,k=this.sides,l=1-(this.pointSize||0),m=Math.PI/k;a.moveTo(b+Math.cos(f)*e,c+Math.sin(f)*e);for(var n=0;k>n;n++)f+=m,1!=l&&a.lineTo(b+Math.cos(f)*e*l,c+Math.sin(f)*e*l),f+=m,a.lineTo(b+Math.cos(f)*e,c+Math.sin(f)*e);a.closePath()};b.beginCmd=new b.BeginPath;createjs.Graphics=b})();this.createjs=this.createjs||{};
(function(){function b(){this.EventDispatcher_constructor();this.alpha=1;this.cacheCanvas=null;this.cacheID=0;this.id=createjs.UID.get();this.tickEnabled=this.mouseEnabled=!0;this.parent=this.name=null;this.rotation=this.regY=this.regX=0;this.scaleY=this.scaleX=1;this.skewY=this.skewX=0;this.shadow=null;this.visible=!0;this.y=this.x=0;this.compositeOperation=this.transformMatrix=null;this.snapToPixel=!0;this.cursor=this.hitArea=this.mask=this.filters=null;this._filterOffsetY=this._filterOffsetX=this._cacheOffsetY=
this._cacheOffsetX=0;this._cacheScale=1;this._cacheDataURLID=0;this._cacheDataURL=null;this._props=new createjs.DisplayProps;this._rectangle=new createjs.Rectangle;this._bounds=null}var c=createjs.extend(b,createjs.EventDispatcher);b._MOUSE_EVENTS="click dblclick mousedown mouseout mouseover pressmove pressup rollout rollover".split(" ");b.suppressCrossDomainErrors=!1;b._snapToPixelEnabled=!1;var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(b._hitTestCanvas=
a,b._hitTestContext=a.getContext("2d"),a.width=a.height=1);b._nextCacheID=1;c.getStage=function(){for(var a=this,b=createjs.Stage;a.parent;)a=a.parent;return a instanceof b?a:null};try{Object.defineProperties(c,{stage:{get:c.getStage}})}catch(g){}c.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};c.draw=function(a,b){var c=this.cacheCanvas;if(b||!c)return!1;var e=this._cacheScale;return a.drawImage(c,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+
this._filterOffsetY,c.width/e,c.height/e),!0};c.updateContext=function(a){var c=this.mask,d=this._props.matrix;c&&c.graphics&&!c.graphics.isEmpty()&&(c.getMatrix(d),a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty),c.graphics.drawAsPath(a),a.clip(),d.invert(),a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty));this.getMatrix(d);var c=d.tx,e=d.ty;b._snapToPixelEnabled&&this.snapToPixel&&(c=c+(0>c?-.5:.5)|0,e=e+(0>e?-.5:.5)|0);a.transform(d.a,d.b,d.c,d.d,c,e);a.globalAlpha*=this.alpha;this.compositeOperation&&(a.globalCompositeOperation=
this.compositeOperation);this.shadow&&this._applyShadow(a,this.shadow)};c.cache=function(a,b,c,e,f){f=f||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=c;this._cacheHeight=e;this._cacheOffsetX=a;this._cacheOffsetY=b;this._cacheScale=f;this.updateCache()};c.updateCache=function(a){var c=this.cacheCanvas;if(!c)throw"cache() must be called before updateCache()";var d=this._cacheScale,e=this._cacheOffsetX*d,f=this._cacheOffsetY*
d,k=this._cacheWidth,l=this._cacheHeight,m=c.getContext("2d"),n=this._getFilterBounds(),e=e+(this._filterOffsetX=n.x),f=f+(this._filterOffsetY=n.y),k=Math.ceil(k*d)+n.width,l=Math.ceil(l*d)+n.height;k!=c.width||l!=c.height?(c.width=k,c.height=l):a||m.clearRect(0,0,k+1,l+1);m.save();m.globalCompositeOperation=a;m.setTransform(d,0,0,d,-e,-f);this.draw(m,!0);this._applyFilters();m.restore();this.cacheID=b._nextCacheID++};c.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=
this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0;this._cacheScale=1};c.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};c.localToGlobal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(a,b,c||new createjs.Point)};c.globalToLocal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(a,b,c||new createjs.Point)};
c.localToLocal=function(a,b,c,e){return e=this.localToGlobal(a,b,e),c.globalToLocal(e.x,e.y,e)};c.setTransform=function(a,b,c,e,f,k,l,m,n){return this.x=a||0,this.y=b||0,this.scaleX=null==c?1:c,this.scaleY=null==e?1:e,this.rotation=f||0,this.skewX=k||0,this.skewY=l||0,this.regX=m||0,this.regY=n||0,this};c.getMatrix=function(a){a=a&&a.identity()||new createjs.Matrix2D;return this.transformMatrix?a.copy(this.transformMatrix):a.appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,
this.skewY,this.regX,this.regY)};c.getConcatenatedMatrix=function(a){var b=this;for(a=this.getMatrix(a);b=b.parent;)a.prependMatrix(b.getMatrix(b._props.matrix));return a};c.getConcatenatedDisplayProps=function(a){a=a?a.identity():new createjs.DisplayProps;var b=this,c=b.getMatrix(a.matrix);do a.prepend(b.visible,b.alpha,b.shadow,b.compositeOperation),b!=this&&c.prependMatrix(b.getMatrix(b._props.matrix));while(b=b.parent);return a};c.hitTest=function(a,c){var d=b._hitTestContext;d.setTransform(1,
0,0,1,-a,-c);this.draw(d);var e=this._testHit(d);return d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,2,2),e};c.set=function(a){for(var b in a)this[b]=a[b];return this};c.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var a=this.cacheCanvas;if(a){var b=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,a.width/b,a.height/b)}return null};c.getTransformedBounds=function(){return this._getBounds()};c.setBounds=function(a,b,c,e){null==
a&&(this._bounds=a);this._bounds=(this._bounds||new createjs.Rectangle).setValues(a,b,c,e)};c.clone=function(){return this._cloneProps(new b)};c.toString=function(){return"[DisplayObject (name="+this.name+")]"};c._cloneProps=function(a){return a.alpha=this.alpha,a.mouseEnabled=this.mouseEnabled,a.tickEnabled=this.tickEnabled,a.name=this.name,a.regX=this.regX,a.regY=this.regY,a.rotation=this.rotation,a.scaleX=this.scaleX,a.scaleY=this.scaleY,a.shadow=this.shadow,a.skewX=this.skewX,a.skewY=this.skewY,
a.visible=this.visible,a.x=this.x,a.y=this.y,a.compositeOperation=this.compositeOperation,a.snapToPixel=this.snapToPixel,a.filters=null==this.filters?null:this.filters.slice(0),a.mask=this.mask,a.hitArea=this.hitArea,a.cursor=this.cursor,a._bounds=this._bounds,a};c._applyShadow=function(a,b){b=b||Shadow.identity;a.shadowColor=b.color;a.shadowOffsetX=b.offsetX;a.shadowOffsetY=b.offsetY;a.shadowBlur=b.blur};c._tick=function(a){var b=this._listeners;b&&b.tick&&(a.target=null,a.propagationStopped=a.immediatePropagationStopped=
!1,this.dispatchEvent(a))};c._testHit=function(a){try{var c=1<a.getImageData(0,0,1,1).data[3]}catch(d){if(!b.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return c};c._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,b=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,e=this.cacheCanvas.height,f=0;a>f;f++)this.filters[f].applyFilter(b,
0,0,c,e)};c._getFilterBounds=function(){var a,b=this.filters,c=this._rectangle.setValues(0,0,0,0);if(!b||!(a=b.length))return c;for(b=0;a>b;b++){var e=this.filters[b];e.getBounds&&e.getBounds(c)}return c};c._getBounds=function(a,b){return this._transformBounds(this.getBounds(),a,b)};c._transformBounds=function(a,b,c){if(!a)return a;var e=a.x,f=a.y,k=a.width,l=a.height,m=this._props.matrix,m=c?m.identity():this.getMatrix(m);(e||f)&&m.appendTransform(0,0,1,1,0,0,0,-e,-f);b&&m.prependMatrix(b);b=k*m.a;
k*=m.b;c=l*m.c;var l=l*m.d,n=m.tx,m=m.ty,p=n,q=n,r=m,t=m;return(e=b+n)<p?p=e:e>q&&(q=e),(e=b+c+n)<p?p=e:e>q&&(q=e),(e=c+n)<p?p=e:e>q&&(q=e),(f=k+m)<r?r=f:f>t&&(t=f),(f=k+l+m)<r?r=f:f>t&&(t=f),(f=l+m)<r?r=f:f>t&&(t=f),a.setValues(p,r,q-p,t-r)};c._hasMouseEventListener=function(){for(var a=b._MOUSE_EVENTS,c=0,d=a.length;d>c;c++)if(this.hasEventListener(a[c]))return!0;return!!this.cursor};createjs.DisplayObject=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(){this.DisplayObject_constructor();this.children=[];this.tickChildren=this.mouseChildren=!0}var c=createjs.extend(b,createjs.DisplayObject);c.getNumChildren=function(){return this.children.length};try{Object.defineProperties(c,{numChildren:{get:c.getNumChildren}})}catch(a){}c.initialize=b;c.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){if(this.DisplayObject_draw(a,
b))return!0;for(var c=this.children.slice(),d=0,e=c.length;e>d;d++){var f=c[d];f.isVisible()&&(a.save(),f.updateContext(a),f.draw(a),a.restore())}return!0};c.addChild=function(a){if(null==a)return a;var b=arguments.length;if(1<b){for(var c=0;b>c;c++)this.addChild(arguments[c]);return arguments[b-1]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.push(a),a.dispatchEvent("added"),a};c.addChildAt=function(a,b){var c=arguments.length,d=arguments[c-1];if(0>d||d>this.children.length)return arguments[c-
2];if(2<c){for(var e=0;c-1>e;e++)this.addChildAt(arguments[e],d+e);return arguments[c-2]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),a.dispatchEvent("added"),a};c.removeChild=function(a){var b=arguments.length;if(1<b){for(var c=!0,d=0;b>d;d++)c=c&&this.removeChild(arguments[d]);return c}return this.removeChildAt(createjs.indexOf(this.children,a))};c.removeChildAt=function(a){var b=arguments.length;if(1<b){for(var c=[],d=0;b>d;d++)c[d]=arguments[d];c.sort(function(a,
b){return b-a});for(var e=!0,d=0;b>d;d++)e=e&&this.removeChildAt(c[d]);return e}if(0>a||a>this.children.length-1)return!1;b=this.children[a];return b&&(b.parent=null),this.children.splice(a,1),b.dispatchEvent("removed"),!0};c.removeAllChildren=function(){for(var a=this.children;a.length;)this.removeChildAt(0)};c.getChildAt=function(a){return this.children[a]};c.getChildByName=function(a){for(var b=this.children,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null};c.sortChildren=function(a){this.children.sort(a)};
c.getChildIndex=function(a){return createjs.indexOf(this.children,a)};c.swapChildrenAt=function(a,b){var c=this.children,d=c[a],e=c[b];d&&e&&(c[a]=e,c[b]=d)};c.swapChildren=function(a,b){for(var c,d,e=this.children,f=0,k=e.length;k>f&&(e[f]==a&&(c=f),e[f]==b&&(d=f),null==c||null==d);f++);f!=k&&(e[c]=b,e[d]=a)};c.setChildIndex=function(a,b){var c=this.children,d=c.length;if(!(a.parent!=this||0>b||b>=d)){for(var e=0;d>e&&c[e]!=a;e++);e!=d&&e!=b&&(c.splice(e,1),c.splice(b,0,a))}};c.contains=function(a){for(;a;){if(a==
this)return!0;a=a.parent}return!1};c.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,b)};c.getObjectsUnderPoint=function(a,b,c){var d=[];a=this.localToGlobal(a,b);return this._getObjectsUnderPoint(a.x,a.y,d,0<c,1==c),d};c.getObjectUnderPoint=function(a,b,c){a=this.localToGlobal(a,b);return this._getObjectsUnderPoint(a.x,a.y,null,0<c,1==c)};c.getBounds=function(){return this._getBounds(null,!0)};c.getTransformedBounds=function(){return this._getBounds()};c.clone=function(a){var c=this._cloneProps(new b);
return a&&this._cloneChildren(c),c};c.toString=function(){return"[Container (name="+this.name+")]"};c._tick=function(a){if(this.tickChildren)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b];c.tickEnabled&&c._tick&&c._tick(a)}this.DisplayObject__tick(a)};c._cloneChildren=function(a){a.children.length&&a.removeAllChildren();for(var b=a.children,c=0,d=this.children.length;d>c;c++){var e=this.children[c].clone(!0);e.parent=a;b.push(e)}};c._getObjectsUnderPoint=function(a,c,h,d,e,f){if(f=
f||0,!f&&!this._testMask(this,a,c))return null;var k,l=createjs.DisplayObject._hitTestContext;e=e||d&&this._hasMouseEventListener();for(var m=this.children,n=m.length-1;0<=n;n--){var p=m[n],q=p.hitArea;if(p.visible&&(q||p.isVisible())&&(!d||p.mouseEnabled)&&(q||this._testMask(p,a,c)))if(!q&&p instanceof b){if(p=p._getObjectsUnderPoint(a,c,h,d,e,f+1),!h&&p)return d&&!this.mouseChildren?this:p}else if(!d||e||p._hasMouseEventListener()){var r=p.getConcatenatedDisplayProps(p._props);if(k=r.matrix,q&&
(k.appendMatrix(q.getMatrix(q._props.matrix)),r.alpha=q.alpha),l.globalAlpha=r.alpha,l.setTransform(k.a,k.b,k.c,k.d,k.tx-a,k.ty-c),(q||p).draw(l),this._testHit(l)){if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!h)return d&&!this.mouseChildren?this:p;h.push(p)}}}return null};c._testMask=function(a,b,c){var d=a.mask;if(!d||!d.graphics||d.graphics.isEmpty())return!0;var e=this._props.matrix,e=(a=a.parent)?a.getConcatenatedMatrix(e):e.identity(),e=d.getMatrix(d._props.matrix).prependMatrix(e);a=
createjs.DisplayObject._hitTestContext;return a.setTransform(e.a,e.b,e.c,e.d,e.tx-b,e.ty-c),d.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),this._testHit(a)?(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0):!1};c._getBounds=function(a,b){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,a,b);var d=this._props.matrix,d=b?d.identity():this.getMatrix(d);a&&d.prependMatrix(a);for(var e=this.children.length,f=null,k=0;e>k;k++){var l=this.children[k];l.visible&&(c=l._getBounds(d))&&
(f?f.extend(c.x,c.y,c.width,c.height):f=c.clone())}return f};createjs.Container=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a){this.Container_constructor();this.autoClear=!0;this.canvas="string"==typeof a?document.getElementById(a):a;this.mouseY=this.mouseX=0;this.drawRect=null;this.mouseInBounds=this.snapToPixelEnabled=!1;this.tickOnUpdate=!0;this.mouseMoveOutside=!1;this.preventSelection=!0;this._pointerData={};this._pointerCount=0;this._prevStage=this._nextStage=this._mouseOverIntervalID=this._primaryPointerID=null;this.enableDOMEvents(!0)}var c=createjs.extend(b,createjs.Container);c._get_nextStage=
function(){return this._nextStage};c._set_nextStage=function(a){this._nextStage&&(this._nextStage._prevStage=null);a&&(a._prevStage=this);this._nextStage=a};try{Object.defineProperties(c,{nextStage:{get:c._get_nextStage,set:c._set_nextStage}})}catch(a){}c.update=function(a){if(this.canvas&&(this.tickOnUpdate&&this.tick(a),!1!==this.dispatchEvent("drawstart",!1,!0))){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;a=this.drawRect;var b=this.canvas.getContext("2d");b.setTransform(1,
0,0,1,0,0);this.autoClear&&(a?b.clearRect(a.x,a.y,a.width,a.height):b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1));b.save();this.drawRect&&(b.beginPath(),b.rect(a.x,a.y,a.width,a.height),b.clip());this.updateContext(b);this.draw(b,!1);b.restore();this.dispatchEvent("drawend")}};c.tick=function(a){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var b=new createjs.Event("tick");if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);this._tick(b);this.dispatchEvent("tickend")}};
c.handleEvent=function(a){"tick"==a.type&&this.update(a)};c.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};c.toDataURL=function(a,b){var c,d=this.canvas.getContext("2d"),e=this.canvas.width,f=this.canvas.height;if(a){c=d.getImageData(0,0,e,f);var k=d.globalCompositeOperation;d.globalCompositeOperation="destination-over";d.fillStyle=a;d.fillRect(0,0,e,f)}e=this.canvas.toDataURL(b||"image/png");
return a&&(d.putImageData(c,0,0),d.globalCompositeOperation=k),e};c.enableMouseOver=function(a){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0)),null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1E3/Math.min(50,a))};c.enableDOMEvents=function(a){null==a&&(a=!0);var b,c=this._eventListeners;if(!a&&c){for(b in c)a=c[b],a.t.removeEventListener(b,a.f,!1);
this._eventListeners=null}else if(a&&!c&&this.canvas){a=window.addEventListener?window:document;var d=this,c=this._eventListeners={};c.mouseup={t:a,f:function(a){d._handleMouseUp(a)}};c.mousemove={t:a,f:function(a){d._handleMouseMove(a)}};c.dblclick={t:this.canvas,f:function(a){d._handleDoubleClick(a)}};c.mousedown={t:this.canvas,f:function(a){d._handleMouseDown(a)}};for(b in c)a=c[b],a.t.addEventListener(b,a.f,!1)}};c.clone=function(){throw"Stage cannot be cloned.";};c.toString=function(){return"[Stage (name="+
this.name+")]"};c._getElementRect=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){b={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var h=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),d=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),e=window.getComputedStyle?getComputedStyle(a,null):a.currentStyle;a=parseInt(e.paddingLeft)+parseInt(e.borderLeftWidth);var f=parseInt(e.paddingTop)+
parseInt(e.borderTopWidth),k=parseInt(e.paddingRight)+parseInt(e.borderRightWidth),e=parseInt(e.paddingBottom)+parseInt(e.borderBottomWidth);return{left:b.left+h+a,right:b.right+h-k,top:b.top+d+f,bottom:b.bottom+d-e}};c._getPointerData=function(a){var b=this._pointerData[a];return b||(b=this._pointerData[a]={x:0,y:0}),b};c._handleMouseMove=function(a){a||(a=window.event);this._handlePointerMove(-1,a,a.pageX,a.pageY)};c._handlePointerMove=function(a,b,c,d,e){if((!this._prevStage||void 0!==e)&&this.canvas){e=
this._nextStage;var f=this._getPointerData(a),k=f.inBounds;this._updatePointerPosition(a,b,c,d);(k||f.inBounds||this.mouseMoveOutside)&&(-1===a&&f.inBounds==!k&&this._dispatchMouseEvent(this,k?"mouseleave":"mouseenter",!1,a,f,b),this._dispatchMouseEvent(this,"stagemousemove",!1,a,f,b),this._dispatchMouseEvent(f.target,"pressmove",!0,a,f,b));e&&e._handlePointerMove(a,b,c,d,null)}};c._updatePointerPosition=function(a,b,c,d){var e=this._getElementRect(this.canvas);c-=e.left;d-=e.top;var f=this.canvas.width,
k=this.canvas.height;c/=(e.right-e.left)/f;d/=(e.bottom-e.top)/k;e=this._getPointerData(a);(e.inBounds=0<=c&&0<=d&&f-1>=c&&k-1>=d)?(e.x=c,e.y=d):this.mouseMoveOutside&&(e.x=0>c?0:c>f-1?f-1:c,e.y=0>d?0:d>k-1?k-1:d);e.posEvtObj=b;e.rawX=c;e.rawY=d;(a===this._primaryPointerID||-1===a)&&(this.mouseX=e.x,this.mouseY=e.y,this.mouseInBounds=e.inBounds)};c._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)};c._handlePointerUp=function(a,b,c,d){var e=this._nextStage,f=this._getPointerData(a);if(!this._prevStage||
void 0!==d){var k=null,l=f.target;d||!l&&!e||(k=this._getObjectsUnderPoint(f.x,f.y,null,!0));f.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,a,f,b,k),f.down=!1);k==l&&this._dispatchMouseEvent(l,"click",!0,a,f,b);this._dispatchMouseEvent(l,"pressup",!0,a,f,b);c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):f.target=null;e&&e._handlePointerUp(a,b,c,d||k&&this)}};c._handleMouseDown=function(a){this._handlePointerDown(-1,a,a.pageX,a.pageY)};c._handlePointerDown=
function(a,b,c,d,e){this.preventSelection&&b.preventDefault();null!=this._primaryPointerID&&-1!==a||(this._primaryPointerID=a);null!=d&&this._updatePointerPosition(a,b,c,d);var f=null,k=this._nextStage,l=this._getPointerData(a);e||(f=l.target=this._getObjectsUnderPoint(l.x,l.y,null,!0));l.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,a,l,b,f),l.down=!0);this._dispatchMouseEvent(f,"mousedown",!0,a,l,b);k&&k._handlePointerDown(a,b,c,d,e||f&&this)};c._testMouseOver=function(a,b,c){if(!this._prevStage||
void 0!==b){var d=this._nextStage;if(!this._mouseOverIntervalID)return void(d&&d._testMouseOver(a,b,c));var e=this._getPointerData(-1);if(e&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var f,k,l=e.posEvtObj,m=c||l&&l.target==this.canvas,n=null,p=-1;k="";!b&&(a||this.mouseInBounds&&m)&&(n=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var q=this._mouseOverTarget||[],r=q[q.length-1],t=
this._mouseOverTarget=[];for(f=n;f;)t.unshift(f),k||(k=f.cursor),f=f.parent;this.canvas.style.cursor=k;!b&&c&&(c.canvas.style.cursor=k);f=0;for(k=t.length;k>f&&t[f]==q[f];f++)p=f;r!=n&&this._dispatchMouseEvent(r,"mouseout",!0,-1,e,l,n);for(f=q.length-1;f>p;f--)this._dispatchMouseEvent(q[f],"rollout",!1,-1,e,l,n);for(f=t.length-1;f>p;f--)this._dispatchMouseEvent(t[f],"rollover",!1,-1,e,l,r);r!=n&&this._dispatchMouseEvent(n,"mouseover",!0,-1,e,l,r);d&&d._testMouseOver(a,b||n&&this,c||m&&this)}}};c._handleDoubleClick=
function(a,b){var c=null,d=this._nextStage,e=this._getPointerData(-1);b||(c=this._getObjectsUnderPoint(e.x,e.y,null,!0),this._dispatchMouseEvent(c,"dblclick",!0,-1,e,a));d&&d._handleDoubleClick(a,b||c&&this)};c._dispatchMouseEvent=function(a,b,c,d,e,f,k){a&&(c||a.hasEventListener(b))&&(b=new createjs.MouseEvent(b,c,!1,e.x,e.y,f,d,d===this._primaryPointerID||-1===d,e.rawX,e.rawY,k),a.dispatchEvent(b))};createjs.Stage=createjs.promote(b,"Container")})();this.createjs=this.createjs||{};
(function(){function b(a){this.DisplayObject_constructor();"string"==typeof a?(this.image=document.createElement("img"),this.image.src=a):this.image=a;this.sourceRect=null}var c=createjs.extend(b,createjs.DisplayObject);c.initialize=b;c.isVisible=function(){var a=this.image,a=this.cacheCanvas||a&&(a.naturalWidth||a.getContext||2<=a.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){if(this.DisplayObject_draw(a,b)||!this.image)return!0;var c=this.image,
d=this.sourceRect;if(d){var e=d.x,f=d.y,k=e+d.width,d=f+d.height,l=0,m=0,n=c.width,p=c.height;0>e&&(l-=e,e=0);k>n&&(k=n);0>f&&(m-=f,f=0);d>p&&(d=p);a.drawImage(c,e,f,k-e,d-f,l,m,k-e,d-f)}else a.drawImage(c,0,0);return!0};c.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;var a=this.image,b=this.sourceRect||a;return a&&(a.naturalWidth||a.getContext||2<=a.readyState)?this._rectangle.setValues(0,0,b.width,b.height):null};c.clone=function(){var a=new b(this.image);return this.sourceRect&&
(a.sourceRect=this.sourceRect.clone()),this._cloneProps(a),a};c.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.DisplayObject_constructor();this.currentFrame=0;this.currentAnimation=null;this.paused=!0;this.spriteSheet=a;this.framerate=this.currentAnimationFrame=0;this._currentFrame=this._animation=null;this._skipAdvance=!1;null!=b&&this.gotoAndPlay(b)}var c=createjs.extend(b,createjs.DisplayObject);c.initialize=b;c.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,
b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var d=c.rect;return d.width&&d.height&&a.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,-c.regY,d.width,d.height),!0};c.play=function(){this.paused=!1};c.stop=function(){this.paused=!0};c.gotoAndPlay=function(a){this.paused=!1;this._skipAdvance=!0;this._goto(a)};c.gotoAndStop=function(a){this.paused=!0;this._goto(a)};c.advance=function(a){var b=this.framerate||
this.spriteSheet.framerate;this._normalizeFrame(b&&null!=a?a/(1E3/b):1)};c.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};c.clone=function(){return this._cloneProps(new b(this.spriteSheet))};c.toString=function(){return"[Sprite (name="+this.name+")]"};c._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.currentFrame=this.currentFrame,a.currentAnimation=this.currentAnimation,a.paused=this.paused,a.currentAnimationFrame=
this.currentAnimationFrame,a.framerate=this.framerate,a._animation=this._animation,a._currentFrame=this._currentFrame,a._skipAdvance=this._skipAdvance,a};c._tick=function(a){this.paused||(this._skipAdvance||this.advance(a&&a.delta),this._skipAdvance=!1);this.DisplayObject__tick(a)};c._normalizeFrame=function(a){a=a||0;var b,c=this._animation,d=this.paused,e=this._currentFrame;if(c){var f=c.speed||1,k=this.currentAnimationFrame;if(b=c.frames.length,k+a*f>=b){var l=c.next;if(this._dispatchAnimationEnd(c,
e,d,l,b-1))return;if(l)return this._goto(l,a-(b-k)/f);this.paused=!0;k=c.frames.length-1}else k+=a*f;this.currentAnimationFrame=k;this._currentFrame=c.frames[0|k]}else if(e=this._currentFrame+=a,b=this.spriteSheet.getNumFrames(),e>=b&&0<b&&!this._dispatchAnimationEnd(c,e,d,b-1)&&(this._currentFrame-=b)>=b)return this._normalizeFrame();e=0|this._currentFrame;this.currentFrame!=e&&(this.currentFrame=e,this.dispatchEvent("change"))};c._dispatchAnimationEnd=function(a,b,c,d,e){var f=a?a.name:null;if(this.hasEventListener("animationend")){var k=
new createjs.Event("animationend");k.name=f;k.next=d;this.dispatchEvent(k)}a=this._animation!=a||this._currentFrame!=b;return a||c||!this.paused||(this.currentAnimationFrame=e,a=!0),a};c._goto=function(a,b){if(this.currentAnimationFrame=0,isNaN(a)){var c=this.spriteSheet.getAnimation(a);c&&(this._animation=c,this.currentAnimation=a,this._normalizeFrame(b))}else this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()};createjs.Sprite=createjs.promote(b,"DisplayObject")})();
this.createjs=this.createjs||{};
(function(){function b(a){this.DisplayObject_constructor();this.graphics=a?a:new createjs.Graphics}var c=createjs.extend(b,createjs.DisplayObject);c.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this.graphics.draw(a,this),!0)};c.clone=function(a){a=a&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new b(a))};
c.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.DisplayObject_constructor();this.text=a;this.font=b;this.color=c;this.textAlign="left";this.textBaseline="top";this.maxWidth=null;this.lineHeight=this.outline=0;this.lineWidth=null}var c=createjs.extend(b,createjs.DisplayObject),a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(b._workingContext=a.getContext("2d"),a.width=a.height=1);b.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1};b.V_OFFSETS={top:0,hanging:-.01,
middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1};c.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};c.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.color||"#000";return this.outline?(a.strokeStyle=c,a.lineWidth=1*this.outline):a.fillStyle=c,this._drawText(this._prepContext(a)),!0};c.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)};c.getMeasuredLineHeight=
function(){return 1.2*this._getMeasuredWidth("M")};c.getMeasuredHeight=function(){return this._drawText(null,{}).height};c.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;if(null==this.text||""===this.text)return null;var a=this._drawText(null,{}),c=this.maxWidth&&this.maxWidth<a.width?this.maxWidth:a.width,d=c*b.H_OFFSETS[this.textAlign||"left"],e=(this.lineHeight||this.getMeasuredLineHeight())*b.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(d,e,c,a.height)};
c.getMetrics=function(){var a={lines:[]};return a.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),a.vOffset=a.lineHeight*b.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,a,a.lines)};c.clone=function(){return this._cloneProps(new b(this.text,this.font,this.color))};c.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};c._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.textAlign=this.textAlign,a.textBaseline=
this.textBaseline,a.maxWidth=this.maxWidth,a.outline=this.outline,a.lineHeight=this.lineHeight,a.lineWidth=this.lineWidth,a};c._prepContext=function(a){return a.font=this.font||"10px sans-serif",a.textAlign=this.textAlign||"left",a.textBaseline=this.textBaseline||"top",a};c._drawText=function(a,c,d){var e=!!a;e||(a=b._workingContext,a.save(),this._prepContext(a));for(var f=this.lineHeight||this.getMeasuredLineHeight(),k=0,l=0,m=String(this.text).split(/(?:\r\n|\r|\n)/),n=0,p=m.length;p>n;n++){var q=
m[n],r=null;if(null!=this.lineWidth&&(r=a.measureText(q).width)>this.lineWidth)for(var t=q.split(/(\s)/),q=t[0],r=a.measureText(q).width,v=1,x=t.length;x>v;v+=2){var z=a.measureText(t[v]+t[v+1]).width;r+z>this.lineWidth?(e&&this._drawTextLine(a,q,l*f),d&&d.push(q),r>k&&(k=r),q=t[v+1],r=a.measureText(q).width,l++):(q+=t[v]+t[v+1],r+=z)}e&&this._drawTextLine(a,q,l*f);d&&d.push(q);c&&null==r&&(r=a.measureText(q).width);r>k&&(k=r);l++}return c&&(c.width=k,c.height=l*f),e||a.restore(),c};c._drawTextLine=
function(a,b,c){this.outline?a.strokeText(b,0,c,this.maxWidth||65535):a.fillText(b,0,c,this.maxWidth||65535)};c._getMeasuredWidth=function(a){var c=b._workingContext;c.save();a=this._prepContext(c).measureText(a).width;return c.restore(),a};createjs.Text=createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.Container_constructor();this.text=a||"";this.spriteSheet=b;this.spaceWidth=this.letterSpacing=this.lineHeight=0;this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var c=createjs.extend(b,createjs.Container);b.maxPoolSize=100;b._spritePool=[];c.draw=function(a,b){this.DisplayObject_draw(a,b)||(this._updateText(),this.Container_draw(a,b))};c.getBounds=function(){return this._updateText(),this.Container_getBounds()};c.isVisible=function(){var a=
this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&0<this.alpha&&0!==this.scaleX&&0!==this.scaleY&&a)};c.clone=function(){return this._cloneProps(new b(this.text,this.spriteSheet))};c.addChild=c.addChildAt=c.removeChild=c.removeChildAt=c.removeAllChildren=function(){};c._cloneProps=function(a){return this.Container__cloneProps(a),a.lineHeight=this.lineHeight,a.letterSpacing=this.letterSpacing,a.spaceWidth=this.spaceWidth,a};c._getFrameIndex=function(a,
b){var c,d=b.getAnimation(a);return d||(a!=(c=a.toUpperCase())||a!=(c=a.toLowerCase())||(c=null),c&&(d=b.getAnimation(c))),d&&d.frames[0]};c._getFrame=function(a,b){var c=this._getFrameIndex(a,b);return null==c?c:b.getFrame(c)};c._getLineHeight=function(a){return(a=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0))?a.rect.height:1};c._getSpaceWidth=function(a){return(a=this._getFrame("1",a)||this._getFrame("l",a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0))?
a.rect.width:1};c._updateText=function(){var a,c=0,h=0,d=this._oldProps,e=!1,f=this.spaceWidth,k=this.lineHeight,l=this.spriteSheet,m=b._spritePool,n=this.children,p=0,q=n.length,r;for(r in d)d[r]!=this[r]&&(d[r]=this[r],e=!0);if(e){(d=!!this._getFrame(" ",l))||f||(f=this._getSpaceWidth(l));k||(k=this._getLineHeight(l));e=0;for(r=this.text.length;r>e;e++){var t=this.text.charAt(e);" "!=t||d?"\n"!=t&&"\r"!=t?(t=this._getFrameIndex(t,l),null!=t&&(q>p?a=n[p]:(n.push(a=m.length?m.pop():new createjs.Sprite),
a.parent=this,q++),a.spriteSheet=l,a.gotoAndStop(t),a.x=c,a.y=h,p++,c+=a.getBounds().width+this.letterSpacing)):("\r"==t&&"\n"==this.text.charAt(e+1)&&e++,c=0,h+=k):c+=f}for(;q>p;)m.push(a=n.pop()),a.parent=null,q--;m.length>b.maxPoolSize&&(m.length=b.maxPoolSize)}};createjs.BitmapText=createjs.promote(b,"Container")})();this.createjs=this.createjs||{};
(function(){function b(a,c,d,e){this.Container_constructor();!b.inited&&b.init();this.mode=a||b.INDEPENDENT;this.startPosition=c||0;this.loop=d;this.currentFrame=0;this.timeline=new createjs.Timeline(null,e,{paused:!0,position:c,useTicks:!0});this.paused=!1;this.autoReset=this.actionsEnabled=!0;this.frameBounds=this.frameBounds||null;this.framerate=null;this._synchOffset=0;this._prevPos=-1;this._t=this._prevPosition=0;this._managed={}}function c(){throw"MovieClipPlugin cannot be instantiated.";}var a=
createjs.extend(b,createjs.Container);b.INDEPENDENT="independent";b.SINGLE_FRAME="single";b.SYNCHED="synched";b.inited=!1;b.init=function(){b.inited||(c.install(),b.inited=!0)};a.getLabels=function(){return this.timeline.getLabels()};a.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()};a.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(a,{labels:{get:a.getLabels},currentLabel:{get:a.getCurrentLabel},totalFrames:{get:a.getDuration},
duration:{get:a.getDuration}})}catch(g){}a.initialize=b;a.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};a.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this._updateTimeline(),this.Container_draw(a,b),!0)};a.play=function(){this.paused=!1};a.stop=function(){this.paused=!0};a.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};a.gotoAndStop=function(a){this.paused=!0;this._goto(a)};a.advance=function(a){var c=b.INDEPENDENT;if(this.mode==c){for(var d=
this,e=d.framerate;(d=d.parent)&&null==e;)d.mode==c&&(e=d._framerate);this._framerate=e;a=null!=e&&-1!=e&&null!=a?a/(1E3/e)+this._t:1;c=0|a;for(this._t=a-c;!this.paused&&c--;)this._prevPosition=0>this._prevPos?0:this._prevPosition+1,this._updateTimeline()}};a.clone=function(){throw"MovieClip cannot be cloned.";};a.toString=function(){return"[MovieClip (name="+this.name+")]"};a._tick=function(a){this.advance(a&&a.delta);this.Container__tick(a)};a._goto=function(a){a=this.timeline.resolve(a);null!=
a&&(-1==this._prevPos&&(this._prevPos=0/0),this._prevPosition=a,this._t=0,this._updateTimeline())};a._reset=function(){this._prevPos=-1;this._t=this.currentFrame=0;this.paused=!1};a._updateTimeline=function(){var a=this.timeline,c=this.mode!=b.INDEPENDENT;a.loop=null==this.loop?!0:this.loop;var d=c?this.startPosition+(this.mode==b.SINGLE_FRAME?0:this._synchOffset):0>this._prevPos?0:this._prevPosition,c=c||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=a._calcPosition(d),a.setPosition(d,
c),this._prevPosition=a._prevPosition,this._prevPos!=a._prevPos){this.currentFrame=this._prevPos=a._prevPos;for(var e in this._managed)this._managed[e]=1;d=a._tweens;a=0;for(e=d.length;e>a;a++){var f=d[a],c=f._target;c==this||f.passive||(f=f._stepPosition,c instanceof createjs.DisplayObject?this._addManagedChild(c,f):this._setState(c.state,f))}d=this.children;for(a=d.length-1;0<=a;a--)e=d[a].id,1==this._managed[e]&&(this.removeChildAt(a),delete this._managed[e])}};a._setState=function(a,b){if(a)for(var c=
a.length-1;0<=c;c--){var e=a[c],f=e.t,e=e.p,k;for(k in e)f[k]=e[k];this._addManagedChild(f,b)}};a._addManagedChild=function(a,c){a._off||(this.addChildAt(a,0),a instanceof b&&(a._synchOffset=c,a.mode==b.INDEPENDENT&&a.autoReset&&!this._managed[a.id]&&a._reset()),this._managed[a.id]=2)};a._getBounds=function(a,b){var c=this.DisplayObject_getBounds();return c||(this._updateTimeline(),this.frameBounds&&(c=this._rectangle.copy(this.frameBounds[this.currentFrame]))),c?this._transformBounds(c,a,b):this.Container__getBounds(a,
b)};createjs.MovieClip=createjs.promote(b,"Container");c.priority=100;c.install=function(){createjs.Tween.installPlugin(c,["startPosition"])};c.init=function(a,b,c){return c};c.step=function(){};c.tween=function(a,c,d,e,f,k){return a.target instanceof b?1==k?f[c]:e[c]:d}})();this.createjs=this.createjs||{};
(function(){function b(){throw"SpriteSheetUtils cannot be instantiated";}var c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.getContext&&(b._workingCanvas=c,b._workingContext=c.getContext("2d"),c.width=c.height=1);b.addFlippedFrames=function(a,c,h,d){if(c||h||d){var e=0;c&&b._flip(a,++e,!0,!1);h&&b._flip(a,++e,!1,!0);d&&b._flip(a,++e,!0,!0)}};b.extractFrame=function(a,c){isNaN(c)&&(c=a.getAnimation(c).frames[0]);var h=a.getFrame(c);if(!h)return null;var d=h.rect,
e=b._workingCanvas;e.width=d.width;e.height=d.height;b._workingContext.drawImage(h.image,d.x,d.y,d.width,d.height,0,0,d.width,d.height);h=document.createElement("img");return h.src=e.toDataURL("image/png"),h};b.mergeAlpha=function(a,b,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(b.width,a.width);c.height=Math.max(b.height,a.height);var d=c.getContext("2d");return d.save(),d.drawImage(a,0,0),d.globalCompositeOperation="destination-in",d.drawImage(b,
0,0),d.restore(),c};b._flip=function(a,c,h,d){for(var e=a._images,f=b._workingCanvas,k=b._workingContext,l=e.length/c,m=0;l>m;m++){var n=e[m];n.__tmp=m;k.setTransform(1,0,0,1,0,0);k.clearRect(0,0,f.width+1,f.height+1);f.width=n.width;f.height=n.height;k.setTransform(h?-1:1,0,0,d?-1:1,h?n.width:0,d?n.height:0);k.drawImage(n,0,0);var p=document.createElement("img");p.src=f.toDataURL("image/png");p.width=n.width;p.height=n.height;e.push(p)}k=a._frames;f=k.length/c;for(m=0;f>m;m++){var n=k[m],q=n.rect.clone(),
p=e[n.image.__tmp+l*c],r={image:p,rect:q,regX:n.regX,regY:n.regY};h&&(q.x=p.width-q.x-q.width,r.regX=q.width-n.regX);d&&(q.y=p.height-q.y-q.height,r.regY=q.height-n.regY);k.push(r)}h="_"+(h?"h":"")+(d?"v":"");d=a._animations;a=a._data;e=d.length/c;for(m=0;e>m;m++){k=d[m];n=a[k];l={name:k+h,speed:n.speed,next:n.next,frames:[]};n.next&&(l.next+=h);k=n.frames;n=0;for(p=k.length;p>n;n++)l.frames.push(k[n]+f*c);a[l.name]=l;d.push(l.name)}};createjs.SpriteSheetUtils=b})();this.createjs=this.createjs||{};
(function(){function b(a){this.EventDispatcher_constructor();this.maxHeight=this.maxWidth=2048;this.spriteSheet=null;this.padding=this.scale=1;this.timeSlice=.3;this.progress=-1;this.framerate=a||0;this._frames=[];this._animations={};this._data=null;this._index=this._nextFrameIndex=0;this._timerID=null;this._scale=1}var c=createjs.extend(b,createjs.EventDispatcher);b.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";b.ERR_RUNNING="a build is already running";c.addFrame=function(a,
c,h,d,e){if(this._data)throw b.ERR_RUNNING;c=c||a.bounds||a.nominalBounds;return!c&&a.getBounds&&(c=a.getBounds()),c?(h=h||1,this._frames.push({source:a,sourceRect:c,scale:h,funct:d,data:e,index:this._frames.length,height:c.height*h})-1):null};c.addAnimation=function(a,c,h,d){if(this._data)throw b.ERR_RUNNING;this._animations[a]={frames:c,next:h,speed:d}};c.addMovieClip=function(a,c,h,d,e,f){if(this._data)throw b.ERR_RUNNING;var k=a.frameBounds,l=c||a.bounds||a.nominalBounds;if(!l&&a.getBounds&&(l=
a.getBounds()),l||k){var m,n;c=this._frames.length;var p=a.timeline.duration;for(m=0;p>m;m++)this.addFrame(a,k&&k[m]?k[m]:l,h,this._setupMovieClipFrame,{i:m,f:d,d:e});m=a.timeline._labels;h=[];for(n in m)h.push({index:m[n],label:n});if(h.length)for(h.sort(function(a,b){return a.index-b.index}),m=0,n=h.length;n>m;m++){d=h[m].label;e=c+h[m].index;for(var k=c+(m==n-1?p:h[m+1].index),l=[],q=e;k>q;q++)l.push(q);f&&!(d=f(d,a,e,k))||this.addAnimation(d,l,!0)}}};c.build=function(){if(this._data)throw b.ERR_RUNNING;
for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};c.buildAsync=function(a){if(this._data)throw b.ERR_RUNNING;this.timeSlice=a;this._startBuild();var c=this;this._timerID=setTimeout(function(){c._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))};c.stopAsync=function(){clearTimeout(this._timerID);this._data=null};c.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};c.toString=function(){return"[SpriteSheetBuilder]"};c._startBuild=function(){var a=
this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var c=[];this._data={images:[],frames:c,framerate:this.framerate,animations:this._animations};var h=this._frames.slice();if(h.sort(function(a,b){return a.height<=b.height?-1:1}),h[h.length-1].height+2*a>this.maxHeight)throw b.ERR_DIMENSIONS;for(var d=0,e=0,f=0;h.length;){var k=this._fillRow(h,d,f,c,a);if(k.w>e&&(e=k.w),d+=k.h,!k.h||!h.length){var l=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");
l.width=this._getSize(e,this.maxWidth);l.height=this._getSize(d,this.maxHeight);this._data.images[f]=l;k.h||(e=d=0,f++)}}};c._setupMovieClipFrame=function(a,b){var c=a.actionsEnabled;a.actionsEnabled=!1;a.gotoAndStop(b.i);a.actionsEnabled=c;b.f&&b.f(a,b.d,b.i)};c._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))};c._fillRow=function(a,c,h,d,e){var f=this.maxWidth,k=this.maxHeight;c+=e;for(var k=k-c,l=e,m=0,n=a.length-1;0<=n;n--){var p=a[n],q=this._scale*p.scale,
r=p.sourceRect,t=p.source,v=Math.floor(q*r.x-e),x=Math.floor(q*r.y-e),z=Math.ceil(q*r.height+2*e),r=Math.ceil(q*r.width+2*e);if(r>f)throw b.ERR_DIMENSIONS;z>k||l+r>f||(p.img=h,p.rect=new createjs.Rectangle(l,c,r,z),m=m||z,a.splice(n,1),d[p.index]=[l,c,r,z,h,Math.round(-v+q*t.regX-e),Math.round(-x+q*t.regY-e)],l+=r)}return{w:l,h:m}};c._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};c._run=function(){for(var a=
50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),b=(new Date).getTime()+a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var d=this;this._timerID=setTimeout(function(){d._run()},50-a)}a=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(b=new createjs.Event("progress"),b.progress=a,this.dispatchEvent(b))};c._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,d=a.sourceRect,e=this._data.images[a.img].getContext("2d");
return a.funct&&a.funct(a.source,a.data),e.save(),e.beginPath(),e.rect(c.x,c.y,c.width,c.height),e.clip(),e.translate(Math.ceil(c.x-d.x*b),Math.ceil(c.y-d.y*b)),e.scale(b,b),a.source.draw(e),e.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a){this.DisplayObject_constructor();"string"==typeof a&&(a=document.getElementById(a));this.mouseEnabled=!1;var b=a.style;b.position="absolute";b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%";this.htmlElement=a;this._oldProps=null}var c=createjs.extend(b,createjs.DisplayObject);c.isVisible=function(){return null!=this.htmlElement};c.draw=function(){return!0};c.cache=function(){};c.uncache=function(){};c.updateCache=
function(){};c.hitTest=function(){};c.localToGlobal=function(){};c.globalToLocal=function(){};c.localToLocal=function(){};c.clone=function(){throw"DOMElement cannot be cloned.";};c.toString=function(){return"[DOMElement (name="+this.name+")]"};c._tick=function(a){var b=this.getStage();b&&b.on("drawend",this._handleDrawEnd,this,!0);this.DisplayObject__tick(a)};c._handleDrawEnd=function(){var a=this.htmlElement;if(a){var a=a.style,b=this.getConcatenatedDisplayProps(this._props),c=b.matrix,d=b.visible?
"visible":"hidden";if(d!=a.visibility&&(a.visibility=d),b.visible){var e=(d=this._oldProps)&&d.matrix;e&&e.equals(c)||(e="matrix("+(1E4*c.a|0)/1E4+","+(1E4*c.b|0)/1E4+","+(1E4*c.c|0)/1E4+","+(1E4*c.d|0)/1E4+","+(c.tx+.5|0),a.transform=a.WebkitTransform=a.OTransform=a.msTransform=e+","+(c.ty+.5|0)+")",a.MozTransform=e+"px,"+(c.ty+.5|0)+"px)",d||(d=this._oldProps=new createjs.DisplayProps(!0,0/0)),d.matrix.copy(c));d.alpha!=b.alpha&&(a.opacity=""+(1E4*b.alpha|0)/1E4,d.alpha=b.alpha)}}};createjs.DOMElement=
createjs.promote(b,"DisplayObject")})();this.createjs=this.createjs||{};(function(){function b(){}var c=b.prototype;c.getBounds=function(a){return a};c.applyFilter=function(a,b,c,d,e,f,k,l){f=f||a;null==k&&(k=b);null==l&&(l=c);try{var m=a.getImageData(b,c,d,e)}catch(n){return!1}return this._applyFilter(m)?(f.putImageData(m,k,l),!0):!1};c.toString=function(){return"[Filter]"};c.clone=function(){return new b};c._applyFilter=function(){return!0};createjs.Filter=b})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){(isNaN(a)||0>a)&&(a=0);(isNaN(b)||0>b)&&(b=0);(isNaN(c)||1>c)&&(c=1);this.blurX=0|a;this.blurY=0|b;this.quality=0|c}var c=createjs.extend(b,createjs.Filter);b.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,
413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,
307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];b.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,
16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];c.getBounds=function(a){var b=0|this.blurX,c=0|this.blurY;if(0>=
b&&0>=c)return a;var d=Math.pow(this.quality,.2);return(a||new createjs.Rectangle).pad(b*d+1,c*d+1,b*d+1,c*d+1)};c.clone=function(){return new b(this.blurX,this.blurY,this.quality)};c.toString=function(){return"[BlurFilter]"};c._applyFilter=function(a){var c=this.blurX>>1;if(isNaN(c)||0>c)return!1;var h=this.blurY>>1;if(isNaN(h)||0>h||0==c&&0==h)return!1;var d=this.quality;(isNaN(d)||1>d)&&(d=1);d|=0;3<d&&(d=3);1>d&&(d=1);var e=a.data,f,k,l,m=0,n,p,q,r,t,v,x,z,K,H,w=c+c+1|0;p=h+h+1|0;var A=0|a.width;
a=0|a.height;var D=A-1|0,y=a-1|0,B=c+1|0,I=h+1|0,F={r:0,b:0,g:0,a:0};f=F;for(l=1;w>l;l++)f=f.n={r:0,b:0,g:0,a:0};f.n=F;k=w={r:0,b:0,g:0,a:0};for(l=1;p>l;l++)k=k.n={r:0,b:0,g:0,a:0};k.n=w;for(var J=0|b.MUL_TABLE[c],N=0|b.SHG_TABLE[c],P=0|b.MUL_TABLE[h],L=0|b.SHG_TABLE[h];0<d--;){q=p=0;var G=J,E=N;for(k=a;-1<--k;){r=B*(z=e[0|p]);t=B*(K=e[p+1|0]);v=B*(H=e[p+2|0]);x=B*(n=e[p+3|0]);f=F;for(l=B;-1<--l;)f.r=z,f.g=K,f.b=H,f.a=n,f=f.n;for(l=1;B>l;l++)m=p+((l>D?D:l)<<2)|0,r+=f.r=e[m],t+=f.g=e[m+1],v+=f.b=e[m+
2],x+=f.a=e[m+3],f=f.n;l=F;for(f=0;A>f;f++)e[p++]=r*G>>>E,e[p++]=t*G>>>E,e[p++]=v*G>>>E,e[p++]=x*G>>>E,m=q+((m=f+c+1)<D?m:D)<<2,r-=l.r-(l.r=e[m]),t-=l.g-(l.g=e[m+1]),v-=l.b-(l.b=e[m+2]),x-=l.a-(l.a=e[m+3]),l=l.n;q+=A}G=P;E=L;for(f=0;A>f;f++){p=f<<2|0;r=I*(z=e[p])|0;t=I*(K=e[p+1|0])|0;v=I*(H=e[p+2|0])|0;x=I*(n=e[p+3|0])|0;k=w;for(l=0;I>l;l++)k.r=z,k.g=K,k.b=H,k.a=n,k=k.n;n=A;for(l=1;h>=l;l++)p=n+f<<2,r+=k.r=e[p],t+=k.g=e[p+1],v+=k.b=e[p+2],x+=k.a=e[p+3],k=k.n,y>l&&(n+=A);if(p=f,l=w,0<d)for(k=0;a>k;k++)m=
p<<2,e[m+3]=n=x*G>>>E,0<n?(e[m]=r*G>>>E,e[m+1]=t*G>>>E,e[m+2]=v*G>>>E):e[m]=e[m+1]=e[m+2]=0,m=f+((m=k+I)<y?m:y)*A<<2,r-=l.r-(l.r=e[m]),t-=l.g-(l.g=e[m+1]),v-=l.b-(l.b=e[m+2]),x-=l.a-(l.a=e[m+3]),l=l.n,p+=A;else for(k=0;a>k;k++)m=p<<2,e[m+3]=n=x*G>>>E,0<n?(n=255/n,e[m]=(r*G>>>E)*n,e[m+1]=(t*G>>>E)*n,e[m+2]=(v*G>>>E)*n):e[m]=e[m+1]=e[m+2]=0,m=f+((m=k+I)<y?m:y)*A<<2,r-=l.r-(l.r=e[m]),t-=l.g-(l.g=e[m+1]),v-=l.b-(l.b=e[m+2]),x-=l.a-(l.a=e[m+3]),l=l.n,p+=A}}return!0};createjs.BlurFilter=createjs.promote(b,
"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a){this.alphaMap=a;this._mapData=this._alphaMap=null}var c=createjs.extend(b,createjs.Filter);c.clone=function(){var a=new b(this.alphaMap);return a._alphaMap=this._alphaMap,a._mapData=this._mapData,a};c.toString=function(){return"[AlphaMapFilter]"};c._applyFilter=function(a){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;a=a.data;for(var b=this._mapData,c=0,d=a.length;d>c;c+=4)a[c+3]=b[c]||0;return!0};c._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==
this._alphaMap&&this._mapData)return!0;this._mapData=null;var a,b=this._alphaMap=this.alphaMap,c=b;b instanceof HTMLCanvasElement?a=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=b.width,c.height=b.height,a=c.getContext("2d"),a.drawImage(b,0,0));try{var d=a.getImageData(0,0,b.width,b.height)}catch(e){return!1}return this._mapData=d.data,!0};createjs.AlphaMapFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a){this.mask=a}var c=createjs.extend(b,createjs.Filter);c.applyFilter=function(a,b,c,d,e,f,k,l){return this.mask?(f=f||a,null==k&&(k=b),null==l&&(l=c),f.save(),a!=f?!1:(f.globalCompositeOperation="destination-in",f.drawImage(this.mask,k,l),f.restore(),!0)):!0};c.clone=function(){return new b(this.mask)};c.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,d,e,f,k,l){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=b?b:1;this.blueMultiplier=null!=c?c:1;this.alphaMultiplier=null!=d?d:1;this.redOffset=e||0;this.greenOffset=f||0;this.blueOffset=k||0;this.alphaOffset=l||0}var c=createjs.extend(b,createjs.Filter);c.toString=function(){return"[ColorFilter]"};c.clone=function(){return new b(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,
this.alphaOffset)};c._applyFilter=function(a){a=a.data;for(var b=a.length,c=0;b>c;c+=4)a[c]=a[c]*this.redMultiplier+this.redOffset,a[c+1]=a[c+1]*this.greenMultiplier+this.greenOffset,a[c+2]=a[c+2]*this.blueMultiplier+this.blueOffset,a[c+3]=a[c+3]*this.alphaMultiplier+this.alphaOffset;return!0};createjs.ColorFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c,d){this.setColor(a,b,c,d)}var c=b.prototype;b.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];b.IDENTITY_MATRIX=
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];b.LENGTH=b.IDENTITY_MATRIX.length;c.setColor=function(a,b,c,d){return this.reset().adjustColor(a,b,c,d)};c.reset=function(){return this.copy(b.IDENTITY_MATRIX)};c.adjustColor=function(a,b,c,d){return this.adjustHue(d),this.adjustContrast(b),this.adjustBrightness(a),this.adjustSaturation(c)};c.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),
this)};c.adjustContrast=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var c;return 0>a?c=127+a/100*127:(c=a%1,c=0==c?b.DELTA_INDEX[a]:b.DELTA_INDEX[a<<0]*(1-c)+b.DELTA_INDEX[(a<<0)+1]*c,c=127*c+127),this._multiplyMatrix([c/127,0,0,0,.5*(127-c),0,c/127,0,0,.5*(127-c),0,0,c/127,0,.5*(127-c),0,0,0,1,0,0,0,0,0,1]),this};c.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);a=1+(0<a?3*a/100:a/100);return this._multiplyMatrix([.3086*(1-a)+a,.6094*(1-
a),.082*(1-a),0,0,.3086*(1-a),.6094*(1-a)+a,.082*(1-a),0,0,.3086*(1-a),.6094*(1-a),.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]),this};c.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a);a=Math.sin(a);return this._multiplyMatrix([.213+.787*b+-.213*a,.715+-.715*b+-.715*a,.072+-.072*b+.928*a,0,0,.213+-.213*b+.143*a,.715+b*(1-.715)+.14*a,.072+-.072*b+-.283*a,0,0,.213+-.213*b+-.787*a,.715+-.715*b+.715*a,.072+.928*b+.072*a,0,0,0,0,0,1,0,0,0,0,0,1]),this};
c.concat=function(a){return a=this._fixMatrix(a),a.length!=b.LENGTH?this:(this._multiplyMatrix(a),this)};c.clone=function(){return(new b).copy(this)};c.toArray=function(){for(var a=[],c=0,h=b.LENGTH;h>c;c++)a[c]=this[c];return a};c.copy=function(a){for(var c=b.LENGTH,h=0;c>h;h++)this[h]=a[h];return this};c.toString=function(){return"[ColorMatrix]"};c._multiplyMatrix=function(a){var b,c,d,e=[];for(b=0;5>b;b++){for(c=0;5>c;c++)e[c]=this[c+5*b];for(c=0;5>c;c++){var f=0;for(d=0;5>d;d++)f+=a[c+5*d]*e[d];
this[c+5*b]=f}}};c._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};c._fixMatrix=function(a){return a instanceof b&&(a=a.toArray()),a.length<b.LENGTH?a=a.slice(0,a.length).concat(b.IDENTITY_MATRIX.slice(a.length,b.LENGTH)):a.length>b.LENGTH&&(a=a.slice(0,b.LENGTH)),a};createjs.ColorMatrix=b})();this.createjs=this.createjs||{};
(function(){function b(a){this.matrix=a}var c=createjs.extend(b,createjs.Filter);c.toString=function(){return"[ColorMatrixFilter]"};c.clone=function(){return new b(this.matrix)};c._applyFilter=function(a){var b,c,d,e;a=a.data;var f=a.length;b=this.matrix;for(var k=b[0],l=b[1],m=b[2],n=b[3],p=b[4],q=b[5],r=b[6],t=b[7],v=b[8],x=b[9],z=b[10],K=b[11],H=b[12],w=b[13],A=b[14],D=b[15],y=b[16],B=b[17],I=b[18],F=b[19],J=0;f>J;J+=4)b=a[J],c=a[J+1],d=a[J+2],e=a[J+3],a[J]=b*k+c*l+d*m+e*n+p,a[J+1]=b*q+c*r+d*t+
e*v+x,a[J+2]=b*z+c*K+d*H+e*w+A,a[J+3]=b*D+c*y+d*B+e*I+F;return!0};createjs.ColorMatrixFilter=createjs.promote(b,"Filter")})();this.createjs=this.createjs||{};
(function(){function b(){throw"Touch cannot be instantiated";}b.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints)};b.enable=function(c,a,g){return c&&c.canvas&&b.isSupported()?c.__touch?!0:(c.__touch={pointers:{},multitouch:!a,preventDefault:!g,count:0},"ontouchstart"in window?b._IOS_enable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&
b._IE_enable(c),!0):!1};b.disable=function(c){c&&("ontouchstart"in window?b._IOS_disable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&b._IE_disable(c),delete c.__touch)};b._IOS_enable=function(c){var a=c.canvas,g=c.__touch.f=function(a){b._IOS_handleEvent(c,a)};a.addEventListener("touchstart",g,!1);a.addEventListener("touchmove",g,!1);a.addEventListener("touchend",g,!1);a.addEventListener("touchcancel",g,!1)};b._IOS_disable=function(b){var a=b.canvas;a&&(b=b.__touch.f,
a.removeEventListener("touchstart",b,!1),a.removeEventListener("touchmove",b,!1),a.removeEventListener("touchend",b,!1),a.removeEventListener("touchcancel",b,!1))};b._IOS_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var g=a.changedTouches,h=a.type,d=0,e=g.length;e>d;d++){var f=g[d],k=f.identifier;f.target==b.canvas&&("touchstart"==h?this._handleStart(b,k,a,f.pageX,f.pageY):"touchmove"==h?this._handleMove(b,k,a,f.pageX,f.pageY):("touchend"==h||
"touchcancel"==h)&&this._handleEnd(b,k,a))}}};b._IE_enable=function(c){var a=c.canvas,g=c.__touch.f=function(a){b._IE_handleEvent(c,a)};void 0===window.navigator.pointerEnabled?(a.addEventListener("MSPointerDown",g,!1),window.addEventListener("MSPointerMove",g,!1),window.addEventListener("MSPointerUp",g,!1),window.addEventListener("MSPointerCancel",g,!1),c.__touch.preventDefault&&(a.style.msTouchAction="none")):(a.addEventListener("pointerdown",g,!1),window.addEventListener("pointermove",g,!1),window.addEventListener("pointerup",
g,!1),window.addEventListener("pointercancel",g,!1),c.__touch.preventDefault&&(a.style.touchAction="none"));c.__touch.activeIDs={}};b._IE_disable=function(b){var a=b.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",a,!1),window.removeEventListener("MSPointerUp",a,!1),window.removeEventListener("MSPointerCancel",a,!1),b.canvas&&b.canvas.removeEventListener("MSPointerDown",a,!1)):(window.removeEventListener("pointermove",a,!1),window.removeEventListener("pointerup",
a,!1),window.removeEventListener("pointercancel",a,!1),b.canvas&&b.canvas.removeEventListener("pointerdown",a,!1))};b._IE_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();var g=a.type,h=a.pointerId,d=b.__touch.activeIDs;"MSPointerDown"==g||"pointerdown"==g?a.srcElement==b.canvas&&(d[h]=!0,this._handleStart(b,h,a,a.pageX,a.pageY)):d[h]&&("MSPointerMove"==g||"pointermove"==g?this._handleMove(b,h,a,a.pageX,a.pageY):("MSPointerUp"==g||"MSPointerCancel"==g||
"pointerup"==g||"pointercancel"==g)&&(delete d[h],this._handleEnd(b,h,a)))}};b._handleStart=function(b,a,g,h,d){var e=b.__touch;if(e.multitouch||!e.count){var f=e.pointers;f[a]||(f[a]=!0,e.count++,b._handlePointerDown(a,g,h,d))}};b._handleMove=function(b,a,g,h,d){b.__touch.pointers[a]&&b._handlePointerMove(a,g,h,d)};b._handleEnd=function(b,a,g){var h=b.__touch,d=h.pointers;d[a]&&(h.count--,b._handlePointerUp(a,g,!0),delete d[a])};createjs.Touch=b})();this.createjs=this.createjs||{};
(function(){var b=createjs.EaselJS=createjs.EaselJS||{};b.version="0.8.2";b.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"})();this.createjs=this.createjs||{};(function(){var b=createjs.PreloadJS=createjs.PreloadJS||{};b.version="0.6.2";b.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(b,c){function a(){this.constructor=b}return a.prototype=c.prototype,b.prototype=new a};this.createjs=this.createjs||{};
createjs.promote=function(b,c){var a=b.prototype,g=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(g){a[(c+="_")+"constructor"]=g.constructor;for(var h in g)a.hasOwnProperty(h)&&"function"==typeof g[h]&&(a[c+h]=g[h])}return b};this.createjs=this.createjs||{};(function(){createjs.proxy=function(b,c){var a=Array.prototype.slice.call(arguments,2);return function(){return b.apply(c,Array.prototype.slice.call(arguments,0).concat(a))}}})();this.createjs=this.createjs||{};
createjs.indexOf=function(b,c){for(var a=0,g=b.length;g>a;a++)if(c===b[a])return a;return-1};this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!b;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};c.stopPropagation=function(){this.propagationStopped=!0};c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};c.remove=function(){this.removed=!0};c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)};c.set=function(a){for(var b in a)this[b]=a[b];return this};c.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=b})();this.createjs=this.createjs||{};
(function(){function b(b,a,g){this.Event_constructor("error");this.title=b;this.message=a;this.data=g}createjs.extend(b,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(b,"Event")})();this.createjs=this.createjs||{};
(function(){function b(){this._captureListeners=this._listeners=null}var c=b.prototype;b.initialize=function(a){a.addEventListener=c.addEventListener;a.on=c.on;a.removeEventListener=a.off=c.removeEventListener;a.removeAllEventListeners=c.removeAllEventListeners;a.hasEventListener=c.hasEventListener;a.dispatchEvent=c.dispatchEvent;a._dispatchEvent=c._dispatchEvent;a.willTrigger=c.willTrigger};c.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b};c.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e);d&&a.remove()},f)};c.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var d=c[a];if(d)for(var e=0,f=d.length;f>e;e++)if(d[e]==b){1==f?delete c[a]:d.splice(e,1);break}}};c.off=c.removeEventListener;c.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};c.dispatchEvent=function(a,b,c){if("string"==typeof a){var d=this._listeners;if(!(b||d&&d[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(e){}if(a.bubbles&&this.parent){c=this;for(b=[c];c.parent;)b.push(c=c.parent);d=b.length;for(c=d-1;0<=c&&!a.propagationStopped;c--)b[c]._dispatchEvent(a,1+(0==c));
for(c=1;d>c&&!a.propagationStopped;c++)b[c]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};c.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};c.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};c.toString=function(){return"[EventDispatcher]"};c._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d&&(d=d[a.type])&&(c=d.length)){try{a.currentTarget=
this}catch(k){}try{a.eventPhase=b}catch(k){}a.removed=!1;for(var d=d.slice(),e=0;c>e&&!a.immediatePropagationStopped;e++){var f=d[e];f.handleEvent?f.handleEvent(a):f(a);a.removed&&(this.off(a.type,f,1==b),a.removed=!1)}}};createjs.EventDispatcher=b})();this.createjs=this.createjs||{};
(function(){function b(b,a){this.Event_constructor("progress");this.loaded=b;this.total=null==a?1:a;this.progress=0==a?0:this.loaded/this.total}createjs.extend(b,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(b,"Event")})(window);
(function(){function b(c,g){function d(a){if(d[a]!==D)return d[a];var b;if("bug-string-char-index"==a)b=!1;else if("json"==a)b=d("json-stringify")&&d("json-parse");else{var c;if("json-stringify"==a){b=g.stringify;var h="function"==typeof b&&B;if(h){(c=function(){return 1}).toJSON=c;try{h="0"===b(0)&&"0"===b(new e)&&'""'==b(new f)&&b(y)===D&&b(D)===D&&b()===D&&"1"===b(c)&&"[1]"==b([c])&&"[null]"==b([D])&&"null"==b(null)&&"[null,null,null]"==b([D,y,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
b({a:[c,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===b(null,c)&&"[\n 1,\n 2\n]"==b([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==b(new l(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==b(new l(864E13))&&'"-000001-01-01T00:00:00.000Z"'==b(new l(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==b(new l(-1))}catch(k){h=!1}}b=h}if("json-parse"==a){b=g.parse;if("function"==typeof b)try{if(0===b("0")&&!b(!1)){c=b('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var m=5==c.a.length&&1===c.a[0];if(m){try{m=!b('"\t"')}catch(k){}if(m)try{m=
1!==b("01")}catch(k){}if(m)try{m=1!==b("1.")}catch(k){}}}}catch(k){m=!1}b=m}}return d[a]=!!b}c||(c=h.Object());g||(g=h.Object());var e=c.Number||h.Number,f=c.String||h.String,k=c.Object||h.Object,l=c.Date||h.Date,x=c.SyntaxError||h.SyntaxError,z=c.TypeError||h.TypeError,K=c.Math||h.Math,H=c.JSON||h.JSON;"object"==typeof H&&H&&(g.stringify=H.stringify,g.parse=H.parse);var w,A,D,k=k.prototype,y=k.toString,B=new l(-0xc782b5b800cec);try{B=-109252==B.getUTCFullYear()&&0===B.getUTCMonth()&&1===B.getUTCDate()&&
10==B.getUTCHours()&&37==B.getUTCMinutes()&&6==B.getUTCSeconds()&&708==B.getUTCMilliseconds()}catch(V){}if(!d("json")){var I=d("bug-string-char-index");if(!B)var F=K.floor,J=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(a,b){return J[b]+365*(a-1970)+F((a-1969+(b=+(1<b)))/4)-F((a-1901+b)/100)+F((a-1601+b)/400)};if((w=k.hasOwnProperty)||(w=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=y?w=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);
return this.__proto__=b,a}:(b=c.constructor,w=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,w.call(this,a)}),A=function(b,c){var g,d,e,h=0;(g=function(){this.valueOf=0}).prototype.valueOf=0;d=new g;for(e in d)w.call(d,e)&&h++;return g=d=null,h?A=2==h?function(a,b){var c,g={},d="[object Function]"==y.call(a);for(c in a)d&&"prototype"==c||w.call(g,c)||!(g[c]=1)||!w.call(a,c)||b(c)}:function(a,b){var c,g,d="[object Function]"==y.call(a);for(c in a)d&&
"prototype"==c||!w.call(a,c)||(g="constructor"===c)||b(c);(g||w.call(a,c="constructor"))&&b(c)}:(d="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),A=function(b,c){var g,e;e="[object Function]"==y.call(b);var h=!e&&"function"!=typeof b.constructor&&a[typeof b.hasOwnProperty]&&b.hasOwnProperty||w;for(g in b)e&&"prototype"==g||!h.call(b,g)||c(g);for(e=d.length;g=d[--e];h.call(b,g)&&c(g));}),A(b,c)},!d("json-stringify")){var P={92:"\\\\",34:'\\"',
8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},L=function(a,b){return("000000"+(b||0)).slice(-a)},G=function(a){for(var b='"',c=0,g=a.length,d=!I||10<g,e=d&&(I?a.split(""):a);g>c;c++){var h=a.charCodeAt(c);switch(h){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=P[h];break;default:b=32>h?b+("\\u00"+L(2,h.toString(16))):b+(d?e[c]:a.charAt(c))}}return b+'"'},E=function(a,b,c,g,d,e,h){var f,k,l,m,n,p,q,r,t,u;try{f=b[a]}catch(v){}if("object"==typeof f&&f)if(k=y.call(f),"[object Date]"!=k||w.call(f,
"toJSON"))"function"==typeof f.toJSON&&("[object Number]"!=k&&"[object String]"!=k&&"[object Array]"!=k||w.call(f,"toJSON"))&&(f=f.toJSON(a));else if(f>-1/0&&1/0>f){if(N){n=F(f/864E5);for(l=F(n/365.2425)+1970-1;N(l+1,0)<=n;l++);for(m=F((n-N(l,0))/30.42);N(l,m+1)<=n;m++);n=1+n-N(l,m);p=(f%864E5+864E5)%864E5;q=F(p/36E5)%24;r=F(p/6E4)%60;t=F(p/1E3)%60;p%=1E3}else l=f.getUTCFullYear(),m=f.getUTCMonth(),n=f.getUTCDate(),q=f.getUTCHours(),r=f.getUTCMinutes(),t=f.getUTCSeconds(),p=f.getUTCMilliseconds();
f=(0>=l||1E4<=l?(0>l?"-":"+")+L(6,0>l?-l:l):L(4,l))+"-"+L(2,m+1)+"-"+L(2,n)+"T"+L(2,q)+":"+L(2,r)+":"+L(2,t)+"."+L(3,p)+"Z"}else f=null;if(c&&(f=c.call(b,a,f)),null===f)return"null";if(k=y.call(f),"[object Boolean]"==k)return""+f;if("[object Number]"==k)return f>-1/0&&1/0>f?""+f:"null";if("[object String]"==k)return G(""+f);if("object"==typeof f){for(a=h.length;a--;)if(h[a]===f)throw z();if(h.push(f),u=[],b=e,e+=d,"[object Array]"==k){l=0;for(a=f.length;a>l;l++)k=E(l,f,c,g,d,e,h),u.push(k===D?"null":
k);k=u.length?d?"[\n"+e+u.join(",\n"+e)+"\n"+b+"]":"["+u.join(",")+"]":"[]"}else A(g||f,function(a){var b=E(a,f,c,g,d,e,h);b!==D&&u.push(G(a)+":"+(d?" ":"")+b)}),k=u.length?d?"{\n"+e+u.join(",\n"+e)+"\n"+b+"}":"{"+u.join(",")+"}":"{}";return h.pop(),k}};g.stringify=function(b,c,g){var d,e,h,f;if(a[typeof c]&&c)if("[object Function]"==(f=y.call(c)))e=c;else if("[object Array]"==f){h={};for(var k,l=0,m=c.length;m>l;k=c[l++],f=y.call(k),("[object String]"==f||"[object Number]"==f)&&(h[k]=1));}if(g)if("[object Number]"==
(f=y.call(g))){if(0<(g-=g%1))for(d="",10<g&&(g=10);d.length<g;d+=" ");}else"[object String]"==f&&(d=10>=g.length?g:g.slice(0,10));return E("",(k={},k[""]=b,k),e,h,d,"",[])}}if(!d("json-parse")){var u,O,T=f.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},C=function(){throw u=O=null,x();},M=function(){for(var a,b,c,g,d,e=O,h=e.length;h>u;)switch(d=e.charCodeAt(u)){case 9:case 10:case 13:case 32:u++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=I?
e.charAt(u):e[u],u++,a;case 34:a="@";for(u++;h>u;)if(d=e.charCodeAt(u),32>d)C();else if(92==d)switch(d=e.charCodeAt(++u)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=U[d];u++;break;case 117:b=++u;for(c=u+4;c>u;u++)d=e.charCodeAt(u),48<=d&&57>=d||97<=d&&102>=d||65<=d&&70>=d||C();a+=T("0x"+e.slice(b,u));break;default:C()}else{if(34==d)break;d=e.charCodeAt(u);for(b=u;32<=d&&92!=d&&34!=d;)d=e.charCodeAt(++u);a+=e.slice(b,u)}if(34==e.charCodeAt(u))return u++,a;C();default:if(b=
u,45==d&&(g=!0,d=e.charCodeAt(++u)),48<=d&&57>=d){for(48==d&&(d=e.charCodeAt(u+1),48<=d&&57>=d)&&C();h>u&&(d=e.charCodeAt(u),48<=d&&57>=d);u++);if(46==e.charCodeAt(u)){for(c=++u;h>c&&(d=e.charCodeAt(c),48<=d&&57>=d);c++);c==u&&C();u=c}if(d=e.charCodeAt(u),101==d||69==d){d=e.charCodeAt(++u);43!=d&&45!=d||u++;for(c=u;h>c&&(d=e.charCodeAt(c),48<=d&&57>=d);c++);c==u&&C();u=c}return+e.slice(b,u)}if(g&&C(),"true"==e.slice(u,u+4))return u+=4,!0;if("false"==e.slice(u,u+5))return u+=5,!1;if("null"==e.slice(u,
u+4))return u+=4,null;C()}return"$"},Q=function(a){var b,c;if("$"==a&&C(),"string"==typeof a){if("@"==(I?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=M(),"]"!=a;c||(c=!0))c&&(","==a?(a=M(),"]"==a&&C()):C()),","==a&&C(),b.push(Q(a));return b}if("{"==a){for(b={};a=M(),"}"!=a;c||(c=!0))c&&(","==a?(a=M(),"}"==a&&C()):C()),","!=a&&"string"==typeof a&&"@"==(I?a.charAt(0):a[0])&&":"==M()||C(),b[a.slice(1)]=Q(M());return b}C()}return a},S=function(a,b,c){c=R(a,b,c);c===D?delete a[b]:a[b]=c},
R=function(a,b,c){var d,g=a[b];if("object"==typeof g&&g)if("[object Array]"==y.call(g))for(d=g.length;d--;)S(g,d,c);else A(g,function(a){S(g,a,c)});return c.call(a,b,g)};g.parse=function(a,b){var c,d;return u=0,O=""+a,c=Q(M()),"$"!=M()&&C(),u=O=null,b&&"[object Function]"==y.call(b)?R((d={},d[""]=c,d),"",b):c}}}return g.runInContext=b,g}var c="function"==typeof define&&define.amd,a={"function":!0,object:!0},g=a[typeof exports]&&exports&&!exports.nodeType&&exports,h=a[typeof window]&&window||this,
d=g&&a[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!d||d.global!==d&&d.window!==d&&d.self!==d||(h=d),g&&!c)b(h,g);else{var e=h.JSON,f=h.JSON3,k=!1,l=b(h,h.JSON3={noConflict:function(){return k||(k=!0,h.JSON=e,h.JSON3=f,e=f=null),l}});h.JSON={parse:l.parse,stringify:l.stringify}}c&&define(function(){return l})}).call(this);
(function(){var b={appendToHead:function(c){b.getHead().appendChild(c)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};createjs.DomUtils=b})();
(function(){createjs.DataUtils={parseXML:function(b,c){var a=null;try{window.DOMParser&&(a=(new DOMParser).parseFromString(b,c))}catch(g){}if(!a)try{a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(b)}catch(g){a=null}return a},parseJSON:function(b){if(null==b)return null;try{return JSON.parse(b)}catch(c){throw c;}}}})();this.createjs=this.createjs||{};
(function(){function b(){this.id=this.type=this.src=null;this.maintainOrder=!1;this.data=this.callback=null;this.method=createjs.LoadItem.GET;this.headers=this.values=null;this.withCredentials=!1;this.crossOrigin=this.mimeType=null;this.loadTimeout=a.LOAD_TIMEOUT_DEFAULT}var c=b.prototype={},a=b;a.LOAD_TIMEOUT_DEFAULT=8E3;a.create=function(c){if("string"==typeof c){var h=new b;return h.src=c,h}if(c instanceof a)return c;if(c instanceof Object&&c.src)return null==c.loadTimeout&&(c.loadTimeout=a.LOAD_TIMEOUT_DEFAULT),
c;throw Error("Type not recognized.");};c.set=function(a){for(var b in a)this[b]=a[b];return this};createjs.LoadItem=a})();
(function(){var b={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[.\/]*?\//i,EXTENSION_PATT:/\/?[^\/]+\.(\w{1,5})$/i,parseURI:function(c){var a={absolute:!1,relative:!1};if(null==c)return a;var g=c.indexOf("?");-1<g&&(c=c.substr(0,g));var h;return b.ABSOLUTE_PATT.test(c)?a.absolute=!0:b.RELATIVE_PATT.test(c)&&(a.relative=!0),(h=c.match(b.EXTENSION_PATT))&&(a.extension=h[1].toLowerCase()),a},formatQueryString:function(b,a){if(null==b)throw Error("You must specify data.");var g=[],h;for(h in b)g.push(h+
"="+escape(b[h]));return a&&(g=g.concat(a)),g.join("&")},buildPath:function(b,a){if(null==a)return b;var g=[],h=b.indexOf("?");if(-1!=h)var d=b.slice(h+1),g=g.concat(d.split("&"));return-1!=h?b.slice(0,h)+"?"+this.formatQueryString(a,g):b+"?"+this.formatQueryString(a,g)},isCrossDomain:function(b){var a=document.createElement("a");a.href=b.src;b=document.createElement("a");b.href=location.href;return""!=a.hostname&&(a.port!=b.port||a.protocol!=b.protocol||a.hostname!=b.hostname)},isLocal:function(b){var a=
document.createElement("a");return a.href=b.src,""==a.hostname&&"file:"==a.protocol},isBinary:function(b){switch(b){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(b){return b instanceof HTMLImageElement},isAudioTag:function(b){return window.HTMLAudioElement?b instanceof HTMLAudioElement:!1},isVideoTag:function(b){return window.HTMLVideoElement?b instanceof HTMLVideoElement:!1},isText:function(b){switch(b){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;
default:return!1}},getTypeByExtension:function(b){if(null==b)return createjs.AbstractLoader.TEXT;switch(b.toLowerCase()){case "jpeg":case "jpg":case "gif":case "png":case "webp":case "bmp":return createjs.AbstractLoader.IMAGE;case "ogg":case "mp3":case "webm":return createjs.AbstractLoader.SOUND;case "mp4":case "webm":case "ts":return createjs.AbstractLoader.VIDEO;case "json":return createjs.AbstractLoader.JSON;case "xml":return createjs.AbstractLoader.XML;case "css":return createjs.AbstractLoader.CSS;
case "js":return createjs.AbstractLoader.JAVASCRIPT;case "svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=b})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.EventDispatcher_constructor();this.canceled=this.loaded=!1;this.progress=0;this.type=c;this.resultFormatter=null;this._item=a?createjs.LoadItem.create(a):null;this._preferXHR=b;this._tag=this._tagSrcAttribute=this._loadedItems=this._rawResult=this._result=null}var c=createjs.extend(b,createjs.EventDispatcher);b.POST="POST";b.GET="GET";b.BINARY="binary";b.CSS="css";b.IMAGE="image";b.JAVASCRIPT="javascript";b.JSON="json";b.JSONP="jsonp";b.MANIFEST="manifest";b.SOUND=
"sound";b.VIDEO="video";b.SPRITESHEET="spritesheet";b.SVG="svg";b.TEXT="text";b.XML="xml";c.getItem=function(){return this._item};c.getResult=function(a){return a?this._rawResult:this._result};c.getTag=function(){return this._tag};c.setTag=function(a){this._tag=a};c.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",
this,this);var a=new createjs.Event("initialize");a.loader=this._request;this.dispatchEvent(a);this._request.load()};c.cancel=function(){this.canceled=!0;this.destroy()};c.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy());this._loadItems=this._result=this._rawResult=this._item=this._request=null;this.removeAllEventListeners()};c.getLoadedItems=function(){return this._loadedItems};c._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):
new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)};c._createTag=function(){return null};c._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};c._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.ProgressEvent(this.progress)):(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0));this.hasEventListener("progress")&&
this.dispatchEvent(b)}};c._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new createjs.Event("complete");a.rawResult=this._rawResult;null!=this._result&&(a.result=this._result);this.dispatchEvent(a)}};c._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(a))};c._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1};c.resultFormatter=null;c.handleEvent=function(a){switch(a.type){case "complete":this._rawResult=
a.target._response;a=this.resultFormatter&&this.resultFormatter(this);a instanceof Function?a.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=a||this._rawResult,this._sendComplete());break;case "progress":this._sendProgress(a);break;case "error":this._sendError(a);break;case "loadstart":this._sendLoadStart();break;case "abort":case "timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+a.type.toUpperCase()+
"_ERROR"))}};c._resultFormatSuccess=function(a){this._result=a;this._sendComplete()};c._resultFormatFailed=function(a){this._sendError(a)};c.buildPath=function(a,b){return createjs.RequestUtils.buildPath(a,b)};c.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.AbstractLoader_constructor(a,b,c);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.on("initialize",this._updateXHR,this)}var c=createjs.extend(b,createjs.AbstractLoader);c.load=function(){this._tag||(this._tag=this._createTag(this._item.src));this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};c._createTag=function(){};c._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,
this._tag||this._createTag(),this._tagSrcAttribute)};c._updateXHR=function(a){a.loader.setResponseType&&a.loader.setResponseType("blob")};c._formatResult=function(a){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var b=window.URL||window.webkitURL,c=a.getResult(!0);a.getTag().src=b.createObjectURL(c)}return a.getTag()};createjs.AbstractMediaLoader=createjs.promote(b,"AbstractLoader")})();
this.createjs=this.createjs||{};(function(){var b=function(a){this._item=a},c=createjs.extend(b,createjs.EventDispatcher);c.load=function(){};c.destroy=function(){};c.cancel=function(){};createjs.AbstractRequest=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=c;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=!1;this._startTagVisibility=null}var c=createjs.extend(b,createjs.AbstractRequest);c.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event("initialize");
a.loader=this._tag;this.dispatchEvent(a);this._hideTag();this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag[this._tagSrcAttribute]=this._item.src;null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)};c.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};c._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;"loaded"!=a.readyState&&"complete"!=a.readyState||
this._handleTagComplete()};c._handleError=function(){this._clean();this.dispatchEvent("error")};c._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult;this._clean();this._showTag();this.dispatchEvent("complete")};c._handleTimeout=function(){this._clean();this.dispatchEvent(new createjs.Event("timeout"))};c._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;this._tag.onerror=null;this._addedToDOM&&
null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag);clearTimeout(this._loadTimeout)};c._hideTag=function(){this._startTagVisibility=this._tag.style.visibility;this._tag.style.visibility="hidden"};c._showTag=function(){this._tag.style.visibility=this._startTagVisibility};c._handleStalled=function(){};createjs.TagRequest=createjs.promote(b,"AbstractRequest")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=c;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var c=createjs.extend(b,createjs.TagRequest);c.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b;this._tag.addEventListener("stalled",a);this._tag.addEventListener("progress",b);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",
this._loadedHandler,!1);this.TagRequest_load()};c._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;"loaded"!=a.readyState&&"complete"!=a.readyState||this._handleTagComplete()};c._handleStalled=function(){};c._handleProgress=function(a){!a||0<a.loaded&&0==a.total||(a=new createjs.ProgressEvent(a.loaded,a.total),this.dispatchEvent(a))};c._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.removeEventListener("stalled",
this._stalledCallback);this._tag.removeEventListener("progress",this._progressCallback);this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(b,"TagRequest")})();this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractRequest_constructor(a);this._loadTimeout=this._request=null;this._xhrLevel=1;this._rawResponse=this._response=null;this._canceled=!1;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=
createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);!this._createXHR(a)}var c=createjs.extend(b,createjs.AbstractRequest);b.ACTIVEX_VERSIONS="Msxml2.XMLHTTP.6.0 Msxml2.XMLHTTP.5.0 Msxml2.XMLHTTP.4.0 MSXML2.XMLHTTP.3.0 MSXML2.XMLHTTP Microsoft.XMLHTTP".split(" ");c.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response};c.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};c.load=function(){if(null==
this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",
this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy);1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));
try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,a))}};c.setResponseType=function(a){"blob"===a&&(a=window.URL?"blob":"arraybuffer",this._responseType=a);this._request.responseType=a};c.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof
Function?this._request.getAllResponseHeaders():null};c.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null};c._handleProgress=function(a){!a||0<a.loaded&&0==a.total||(a=new createjs.ProgressEvent(a.loaded,a.total),this.dispatchEvent(a))};c._handleLoadStart=function(){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};c._handleAbort=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",
null,a))};c._handleError=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent(a.message))};c._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()};c._handleLoad=function(){if(!this.loaded){this.loaded=!0;var a=this._checkError();if(a)return void this._handleError(a);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(b){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||
window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===b.name&&window.BlobBuilder)a=new BlobBuilder,a.append(this._response),this._response=a.getBlob()}this._clean();this.dispatchEvent(new createjs.Event("complete"))}};c._handleTimeout=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,a))};c._checkError=function(){var a=parseInt(this._request.status);switch(a){case 404:case 0:return Error(a)}return null};c._getResponse=function(){if(null!=this._response)return this._response;
if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null};c._createXHR=function(a){var b=createjs.RequestUtils.isCrossDomain(a),c={},d=null;if(window.XMLHttpRequest)d=new XMLHttpRequest,b&&void 0===d.withCredentials&&window.XDomainRequest&&(d=new XDomainRequest);else{for(var e=0,f=s.ACTIVEX_VERSIONS.length;f>e;e++){var k=
s.ACTIVEX_VERSIONS[e];try{d=new ActiveXObject(k);break}catch(m){}}if(null==d)return!1}null==a.mimeType&&createjs.RequestUtils.isText(a.type)&&(a.mimeType="text/plain; charset=utf-8");a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType);this._xhrLevel="string"==typeof d.responseType?2:1;e=null;if(e=a.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(a.src,a.values):a.src,d.open(a.method||createjs.AbstractLoader.GET,e,!0),b&&d instanceof XMLHttpRequest&&1==this._xhrLevel&&
(c.Origin=location.origin),a.values&&a.method==createjs.AbstractLoader.POST&&(c["Content-Type"]="application/x-www-form-urlencoded"),b||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),a.headers)for(var l in a.headers)c[l]=a.headers[l];for(l in c)d.setRequestHeader(l,c[l]);return d instanceof XMLHttpRequest&&void 0!==a.withCredentials&&(d.withCredentials=a.withCredentials),this._request=d,!0};c._clean=function(){clearTimeout(this._loadTimeout);null!=this._request.removeEventListener?
(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):
(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)};c.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(b,"AbstractRequest")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.AbstractLoader_constructor();this._plugins=[];this._typeCallbacks={};this._extensionCallbacks={};this.next=null;this.maintainScriptOrder=!0;this.stopOnError=!1;this._maxConnections=1;this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,
createjs.TextLoader];this._defaultLoaderLength=this._availableLoaders.length;this.init(a,b,c)}var c=createjs.extend(b,createjs.AbstractLoader);c.init=function(a,b,c){this._preferXHR=this.preferXHR=this.useXHR=!0;this.setPreferXHR(a);this._paused=!1;this._basePath=b;this._crossOrigin=c;this._loadStartWasDispatched=!1;this._currentlyLoadingScript=null;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults=
{};this._numItemsLoaded=this._numItems=0;this._scriptOrder=[];this._loadedScripts=[];this._lastProgress=0/0};b.loadTimeout=8E3;b.LOAD_TIMEOUT=0;b.BINARY=createjs.AbstractLoader.BINARY;b.CSS=createjs.AbstractLoader.CSS;b.IMAGE=createjs.AbstractLoader.IMAGE;b.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT;b.JSON=createjs.AbstractLoader.JSON;b.JSONP=createjs.AbstractLoader.JSONP;b.MANIFEST=createjs.AbstractLoader.MANIFEST;b.SOUND=createjs.AbstractLoader.SOUND;b.VIDEO=createjs.AbstractLoader.VIDEO;b.SVG=
createjs.AbstractLoader.SVG;b.TEXT=createjs.AbstractLoader.TEXT;b.XML=createjs.AbstractLoader.XML;b.POST=createjs.AbstractLoader.POST;b.GET=createjs.AbstractLoader.GET;c.registerLoader=function(a){if(!a||!a.canLoadItem)throw Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(a))throw Error("loader already exists.");this._availableLoaders.unshift(a)};c.unregisterLoader=function(a){a=this._availableLoaders.indexOf(a);-1!=a&&a<this._defaultLoaderLength-1&&this._availableLoaders.splice(a,
1)};c.setUseXHR=function(a){return this.setPreferXHR(a)};c.setPreferXHR=function(a){return this.preferXHR=0!=a&&null!=window.XMLHttpRequest,this.preferXHR};c.removeAll=function(){this.remove()};c.remove=function(a){var b=null;if(a&&!Array.isArray(a))b=[a];else if(a)b=a;else if(0<arguments.length)return;var c=!1;if(b){for(;b.length;){for(var d=b.pop(),e=this.getResult(d),f=this._loadQueue.length-1;0<=f;f--)if(k=this._loadQueue[f].getItem(),k.id==d||k.src==d){this._loadQueue.splice(f,1)[0].cancel();
break}for(f=this._loadQueueBackup.length-1;0<=f;f--)if(k=this._loadQueueBackup[f].getItem(),k.id==d||k.src==d){this._loadQueueBackup.splice(f,1)[0].cancel();break}if(e)this._disposeItem(this.getItem(d));else for(var f=this._currentLoads.length-1;0<=f;f--){var k=this._currentLoads[f].getItem();if(k.id==d||k.src==d){this._currentLoads.splice(f,1)[0].cancel();c=!0;break}}}c&&this._loadNext()}else{this.close();for(d in this._loadItemsById)this._disposeItem(this._loadItemsById[d]);this.init(this.preferXHR,
this._basePath)}};c.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);a=[];for(var b=0,c=this._loadQueueBackup.length;c>b;b++)a.push(this._loadQueueBackup[b].getItem());this.loadManifest(a,!1)};c.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){this._plugins.push(a);var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types){a=0;for(var c=b.types.length;c>a;a++)this._typeCallbacks[b.types[a]]=b}if(null!=b.extensions)for(a=0,c=b.extensions.length;c>
a;a++)this._extensionCallbacks[b.extensions[a]]=b}};c.setMaxConnections=function(a){this._maxConnections=a;!this._paused&&0<this._loadQueue.length&&this._loadNext()};c.loadFile=function(a,b,c){if(null==a)return a=new createjs.ErrorEvent("PRELOAD_NO_FILE"),void this._sendError(a);this._addItem(a,null,c);this.setPaused(!1!==b?!1:!0)};c.loadManifest=function(a,c,h){var d=null,e=null;if(Array.isArray(a)){if(0==a.length)return d=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY"),void this._sendError(d);
d=a}else if("string"==typeof a)d=[{src:a,type:b.MANIFEST}];else{if("object"!=typeof a)return d=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL"),void this._sendError(d);void 0!==a.src?(null==a.type?a.type=b.MANIFEST:a.type!=b.MANIFEST&&(d=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE"),this._sendError(d)),d=[a]):void 0!==a.manifest&&(d=a.manifest,e=a.path)}a=0;for(var f=d.length;f>a;a++)this._addItem(d[a],e,h);this.setPaused(!1!==c?!1:!0)};c.load=function(){this.setPaused(!1)};c.getItem=function(a){return this._loadItemsById[a]||
this._loadItemsBySrc[a]};c.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;c=c.id;return b&&this._loadedRawResults[c]?this._loadedRawResults[c]:this._loadedResults[c]};c.getItems=function(a){var b=[],c;for(c in this._loadItemsById){var d=this._loadItemsById[c],e=this.getResult(c);!0===a&&null==e||b.push({item:d,result:e,rawResult:this.getResult(c,!0)})}return b};c.setPaused=function(a){(this._paused=a)||this._loadNext()};c.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();
this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1;this._itemCount=0;this._lastProgress=0/0};c._addItem=function(a,b,c){a=this._createLoadItem(a,b,c);null!=a&&(b=this._createLoader(a),null!=b&&("plugins"in b&&(b.plugins=this._plugins),a._loader=b,this._loadQueue.push(b),this._loadQueueBackup.push(b),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&a.type==createjs.LoadQueue.JAVASCRIPT||!0===a.maintainOrder)&&(this._scriptOrder.push(a),this._loadedScripts.push(null))))};
c._createLoadItem=function(a,b,c){a=createjs.LoadItem.create(a);if(null==a)return null;var d="";c=c||this._basePath;if(a.src instanceof Object){if(!a.type)return null;if(b){var d=b,e=createjs.RequestUtils.parseURI(b);null==c||e.absolute||e.relative||(d=c+d)}else null!=c&&(d=c)}else{e=createjs.RequestUtils.parseURI(a.src);e.extension&&(a.ext=e.extension);null==a.type&&(a.type=createjs.RequestUtils.getTypeByExtension(a.ext));var f=a.src;e.absolute||e.relative||(b?(d=b,e=createjs.RequestUtils.parseURI(b),
f=b+f,null==c||e.absolute||e.relative||(d=c+d)):null!=c&&(d=c));a.src=d+a.src}a.path=d;void 0!==a.id&&null!==a.id&&""!==a.id||(a.id=f);if(b=this._typeCallbacks[a.type]||this._extensionCallbacks[a.ext]){b=b.callback.call(b.scope,a,this);if(!1===b)return null;!0===b||null!=b&&(a._loader=b);e=createjs.RequestUtils.parseURI(a.src);null!=e.extension&&(a.ext=e.extension)}return this._loadItemsById[a.id]=a,this._loadItemsBySrc[a.src]=a,null==a.crossOrigin&&(a.crossOrigin=this._crossOrigin),a};c._createLoader=
function(a){if(null!=a._loader)return a._loader;for(var b=this.preferXHR,c=0;c<this._availableLoaders.length;c++){var d=this._availableLoaders[c];if(d&&d.canLoadItem(a))return new d(a,b)}return null};c._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0);this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=
this._maxConnections);a++){var b=this._loadQueue[a];this._canStartLoad(b)&&(this._loadQueue.splice(a,1),a--,this._loadItem(b))}}};c._loadItem=function(a){a.on("fileload",this._handleFileLoad,this);a.on("progress",this._handleProgress,this);a.on("complete",this._handleFileComplete,this);a.on("error",this._handleError,this);a.on("fileerror",this._handleFileError,this);this._currentLoads.push(a);this._sendFileStart(a.getItem());a.load()};c._handleFileLoad=function(a){a.target=null;this.dispatchEvent(a)};
c._handleFileError=function(a){a=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.item);this._sendError(a)};c._handleError=function(a){a=a.target;this._numItemsLoaded++;this._finishOrderedItem(a,!0);this._updateProgress();var b=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.getItem());this._sendError(b);this.stopOnError?this.setPaused(!0):(this._removeLoadItem(a),this._cleanLoadItem(a),this._loadNext())};c._handleFileComplete=function(a){a=a.target;var b=a.getItem(),c=a.getResult();this._loadedResults[b.id]=
c;var d=a.getResult(!0);null!=d&&d!==c&&(this._loadedRawResults[b.id]=d);this._saveLoadedItems(a);this._removeLoadItem(a);this._finishOrderedItem(a)||this._processFinishedLoad(b,a);this._cleanLoadItem(a)};c._saveLoadedItems=function(a){a=a.getLoadedItems();if(null!==a)for(var b=0;b<a.length;b++){var c=a[b].item;this._loadItemsBySrc[c.src]=c;this._loadItemsById[c.id]=c;this._loadedResults[c.id]=a[b].result;this._loadedRawResults[c.id]=a[b].rawResult}};c._finishOrderedItem=function(a,b){var c=a.getItem();
if(this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT||c.maintainOrder){a instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var d=createjs.indexOf(this._scriptOrder,c);return-1==d?!1:(this._loadedScripts[d]=!0===b?!0:c,this._checkScriptLoadOrder(),!0)}return!1};c._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(!0!==c){var d=this._loadedResults[c.id];c.type==createjs.LoadQueue.JAVASCRIPT&&
createjs.DomUtils.appendToHead(d);this._processFinishedLoad(c,c._loader);this._loadedScripts[b]=!0}}};c._processFinishedLoad=function(a,b){if(this._numItemsLoaded++,!this.maintainScriptOrder&&a.type==createjs.LoadQueue.JAVASCRIPT){var c=b.getTag();createjs.DomUtils.appendToHead(c)}this._updateProgress();this._sendFileComplete(a,b);this._loadNext()};c._canStartLoad=function(a){if(!this.maintainScriptOrder||a.preferXHR)return!0;a=a.getItem();if(a.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;
a=this._scriptOrder.indexOf(a);for(var b=0;a>b;){if(null==this._loadedScripts[b])return!1;b++}return this._currentlyLoadingScript=!0,!0};c._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}};c._cleanLoadItem=function(a){(a=a.getItem())&&delete a._loader};c._handleProgress=function(a){a=a.target;this._sendFileProgress(a.getItem(),a.progress);this._updateProgress()};c._updateProgress=function(){var a=this._numItemsLoaded/
this._numItems,b=this._numItems-this._numItemsLoaded;if(0<b){for(var c=0,d=0,e=this._currentLoads.length;e>d;d++)c+=this._currentLoads[d].progress;a+=c/b*(b/this._numItems)}this._lastProgress!=a&&(this._sendProgress(a),this._lastProgress=a)};c._disposeItem=function(a){delete this._loadedResults[a.id];delete this._loadedRawResults[a.id];delete this._loadItemsById[a.id];delete this._loadItemsBySrc[a.src]};c._sendFileProgress=function(a,b){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var c=
new createjs.Event("fileprogress");c.progress=b;c.loaded=b;c.total=1;c.item=a;this.dispatchEvent(c)}};c._sendFileComplete=function(a,b){if(!this._isCanceled()&&!this._paused){var c=new createjs.Event("fileload");c.loader=b;c.item=a;c.result=this._loadedResults[a.id];c.rawResult=this._loadedRawResults[a.id];a.completeHandler&&a.completeHandler(c);this.hasEventListener("fileload")&&this.dispatchEvent(c)}};c._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a;this.hasEventListener("filestart")&&
this.dispatchEvent(b)};c.toString=function(){return"[PreloadJS LoadQueue]"};createjs.LoadQueue=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};(function(){function b(b){this.AbstractLoader_constructor(b,!0,createjs.AbstractLoader.TEXT)}(createjs.extend(b,createjs.AbstractLoader),b).canLoadItem=function(b){return b.type==createjs.AbstractLoader.TEXT};createjs.TextLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.BINARY);this.on("initialize",this._updateXHR,this)}var c=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.BINARY};c._updateXHR=function(a){a.loader.setResponseType("arraybuffer")};createjs.BinaryLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.CSS);this.resultFormatter=this._formatResult;this._tagSrcAttribute="href";this._tag=document.createElement(b?"style":"link");this._tag.rel="stylesheet";this._tag.type="text/css"}var c=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.CSS};c._formatResult=function(a){if(this._preferXHR){var b=a.getTag();b.styleSheet?b.styleSheet.cssText=a.getResult(!0):(a=
document.createTextNode(a.getResult(!0)),b.appendChild(a))}else b=this._tag;return createjs.DomUtils.appendToHead(b),b};createjs.CSSLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.IMAGE);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";createjs.RequestUtils.isImageTag(a)?this._tag=a:createjs.RequestUtils.isImageTag(a.src)?this._tag=a.src:createjs.RequestUtils.isImageTag(a.tag)&&(this._tag=a.tag);null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img");this.on("initialize",this._updateXHR,this)}var c=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=
function(a){return a.type==createjs.AbstractLoader.IMAGE};c.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var a=this._item.crossOrigin;1==a&&(a="Anonymous");null==a||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=a);this.AbstractLoader_load()};c._updateXHR=function(a){a.loader.mimeType="text/plain; charset=x-user-defined-binary";a.loader.setResponseType&&a.loader.setResponseType("blob")};c._formatResult=function(){return this._formatImage};
c._formatImage=function(a,b){var c=this._tag,d=window.URL||window.webkitURL;this._preferXHR&&(d?(d=d.createObjectURL(this.getResult(!0)),c.src=d,c.addEventListener("load",this._cleanUpURL,!1),c.addEventListener("error",this._cleanUpURL,!1)):c.src=this._item.src);c.complete?a(c):(c.onload=createjs.proxy(function(){a(this._tag)},this),c.onerror=createjs.proxy(function(){b(_this._tag)},this))};c._cleanUpURL=function(a){(window.URL||window.webkitURL).revokeObjectURL(a.target.src)};createjs.ImageLoader=
createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.JAVASCRIPT);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.setTag(document.createElement("script"))}var c=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JAVASCRIPT};c._formatResult=function(a){var b=a.getTag();return this._preferXHR&&(b.text=a.getResult(!0)),b};createjs.JavaScriptLoader=createjs.promote(b,"AbstractLoader")})();
this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.JSON);this.resultFormatter=this._formatResult}var c=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSON};c._formatResult=function(a){var b=null;try{b=createjs.DataUtils.parseJSON(a.getResult(!0))}catch(c){return a=new createjs.ErrorEvent("JSON_FORMAT",null,c),this._sendError(a),c}return b};createjs.JSONLoader=createjs.promote(b,"AbstractLoader")})();
this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,!1,createjs.AbstractLoader.JSONP);this.setTag(document.createElement("script"));this.getTag().type="text/javascript"}var c=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSONP};c.cancel=function(){this.AbstractLoader_cancel();this._dispose()};c.load=function(){if(null==this._item.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw Error("JSONP callback '"+
this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this);window.document.body.appendChild(this._tag);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag.src=this._item.src};c._handleLoad=function(a){this._result=this._rawResult=a;this._sendComplete();this._dispose()};c._handleTimeout=function(){this._dispose();this.dispatchEvent(new createjs.ErrorEvent("timeout"))};
c._dispose=function(){window.document.body.removeChild(this._tag);delete window[this._item.callback];clearTimeout(this._loadTimeout)};createjs.JSONPLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,null,createjs.AbstractLoader.MANIFEST);this._manifestQueue=this.plugins=null}var c=createjs.extend(b,createjs.AbstractLoader);b.MANIFEST_PROGRESS=.25;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.MANIFEST};c.load=function(){this.AbstractLoader_load()};c._createRequest=function(){this._request=null!=this._item.callback?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};c.handleEvent=function(a){switch(a.type){case "complete":return this._rawResult=
a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(b.MANIFEST_PROGRESS),void this._loadManifest(this._result);case "progress":return a.loaded*=b.MANIFEST_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)};c.destroy=function(){this.AbstractLoader_destroy();this._manifestQueue.close()};c._loadManifest=function(a){if(a&&a.manifest){var b=this._manifestQueue=new createjs.LoadQueue;
b.on("fileload",this._handleManifestFileLoad,this);b.on("progress",this._handleManifestProgress,this);b.on("complete",this._handleManifestComplete,this,!0);b.on("error",this._handleManifestError,this,!0);for(var c=0,d=this.plugins.length;d>c;c++)b.installPlugin(this.plugins[c]);b.loadManifest(a)}else this._sendComplete()};c._handleManifestFileLoad=function(a){a.target=null;this.dispatchEvent(a)};c._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};
c._handleManifestProgress=function(a){this.progress=a.progress*(1-b.MANIFEST_PROGRESS)+b.MANIFEST_PROGRESS;this._sendProgress(this.progress)};c._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data;this.dispatchEvent(b)};createjs.ManifestLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.SOUND);createjs.RequestUtils.isAudioTag(a)?this._tag=a:createjs.RequestUtils.isAudioTag(a.src)?this._tag=a:createjs.RequestUtils.isAudioTag(a.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(a)?a:a.src);null!=this._tag&&(this._preferXHR=!1)}var c=createjs.extend(b,createjs.AbstractMediaLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SOUND};c._createTag=function(a){var b=document.createElement("audio");
return b.autoplay=!1,b.preload="none",b.src=a,b};createjs.SoundLoader=createjs.promote(b,"AbstractMediaLoader")})();this.createjs=this.createjs||{};
(function(){function b(b,a){this.AbstractMediaLoader_constructor(b,a,createjs.AbstractLoader.VIDEO);createjs.RequestUtils.isVideoTag(b)||createjs.RequestUtils.isVideoTag(b.src)?(this.setTag(createjs.RequestUtils.isVideoTag(b)?b:b.src),this._preferXHR=!1):this.setTag(this._createTag())}createjs.extend(b,createjs.AbstractMediaLoader)._createTag=function(){return document.createElement("video")};b.canLoadItem=function(b){return b.type==createjs.AbstractLoader.VIDEO};createjs.VideoLoader=createjs.promote(b,
"AbstractMediaLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SPRITESHEET);this._manifestQueue=null}var c=createjs.extend(b,createjs.AbstractLoader);b.SPRITESHEET_PROGRESS=.25;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SPRITESHEET};c.destroy=function(){this.AbstractLoader_destroy;this._manifestQueue.close()};c._createRequest=function(){this._request=null!=this._item.callback?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};c.handleEvent=
function(a){switch(a.type){case "complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(b.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case "progress":return a.loaded*=b.SPRITESHEET_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)};c._loadManifest=function(a){if(a&&a.images){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,
this._item.path,this._item.crossOrigin);b.on("complete",this._handleManifestComplete,this,!0);b.on("fileload",this._handleManifestFileLoad,this);b.on("progress",this._handleManifestProgress,this);b.on("error",this._handleManifestError,this,!0);b.loadManifest(a.images)}};c._handleManifestFileLoad=function(a){var b=a.result;if(null!=b){var c=this.getResult().images;a=c.indexOf(a.item.src);c[a]=b}};c._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result);this._loadedItems=
this._manifestQueue.getItems(!0);this._sendComplete()};c._handleManifestProgress=function(a){this.progress=a.progress*(1-b.SPRITESHEET_PROGRESS)+b.SPRITESHEET_PROGRESS;this._sendProgress(this.progress)};c._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data;this.dispatchEvent(b)};createjs.SpriteSheetLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SVG);this.resultFormatter=this._formatResult;this._tagSrcAttribute="data";b?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var c=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SVG};c._formatResult=function(a){var b=createjs.DataUtils.parseXML(a.getResult(!0),"text/xml");a=
a.getTag();return!this._preferXHR&&document.body.contains(a)&&document.body.removeChild(a),null!=b.documentElement?(a.appendChild(b.documentElement),a.style.visibility="visible",a):b};createjs.SVGLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.XML);this.resultFormatter=this._formatResult}var c=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.XML};c._formatResult=function(a){return createjs.DataUtils.parseXML(a.getResult(!0),"text/xml")};createjs.XMLLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
createjs.extend=function(b,c){function a(){this.constructor=b}return a.prototype=c.prototype,b.prototype=new a};this.createjs=this.createjs||{};createjs.promote=function(b,c){var a=b.prototype,g=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(g){a[(c+="_")+"constructor"]=g.constructor;for(var h in g)a.hasOwnProperty(h)&&"function"==typeof g[h]&&(a[c+h]=g[h])}return b};this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!b;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};c.stopPropagation=function(){this.propagationStopped=!0};c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};c.remove=function(){this.removed=!0};c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)};c.set=function(a){for(var b in a)this[b]=a[b];return this};c.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=b})();this.createjs=this.createjs||{};
(function(){function b(){this._captureListeners=this._listeners=null}var c=b.prototype;b.initialize=function(a){a.addEventListener=c.addEventListener;a.on=c.on;a.removeEventListener=a.off=c.removeEventListener;a.removeAllEventListeners=c.removeAllEventListeners;a.hasEventListener=c.hasEventListener;a.dispatchEvent=c.dispatchEvent;a._dispatchEvent=c._dispatchEvent;a.willTrigger=c.willTrigger};c.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b};c.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e);d&&a.remove()},f)};c.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var d=c[a];if(d)for(var e=0,f=d.length;f>e;e++)if(d[e]==b){1==f?delete c[a]:d.splice(e,1);break}}};c.off=c.removeEventListener;c.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};c.dispatchEvent=function(a,b,c){if("string"==typeof a){var d=this._listeners;if(!(b||d&&d[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(e){}if(a.bubbles&&this.parent){c=this;for(b=[c];c.parent;)b.push(c=c.parent);d=b.length;for(c=d-1;0<=c&&!a.propagationStopped;c--)b[c]._dispatchEvent(a,1+(0==c));
for(c=1;d>c&&!a.propagationStopped;c++)b[c]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};c.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};c.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};c.toString=function(){return"[EventDispatcher]"};c._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d&&(d=d[a.type])&&(c=d.length)){try{a.currentTarget=
this}catch(k){}try{a.eventPhase=b}catch(k){}a.removed=!1;for(var d=d.slice(),e=0;c>e&&!a.immediatePropagationStopped;e++){var f=d[e];f.handleEvent?f.handleEvent(a):f(a);a.removed&&(this.off(a.type,f,1==b),a.removed=!1)}}};createjs.EventDispatcher=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"Ticker cannot be instantiated.";}b.RAF_SYNCHED="synched";b.RAF="raf";b.TIMEOUT="timeout";b.useRAF=!1;b.timingMode=null;b.maxDelta=0;b.paused=!1;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;createjs.EventDispatcher.initialize(b);b._addEventListener=b.addEventListener;b.addEventListener=function(){return!b._inited&&b.init(),b._addEventListener.apply(b,arguments)};b._inited=!1;b._startTime=0;b._pausedTime=
0;b._ticks=0;b._pausedTicks=0;b._interval=50;b._lastTime=0;b._times=null;b._tickTimes=null;b._timerId=null;b._raf=!0;b.setInterval=function(a){b._interval=a;b._inited&&b._setupTick()};b.getInterval=function(){return b._interval};b.setFPS=function(a){b.setInterval(1E3/a)};b.getFPS=function(){return 1E3/b._interval};try{Object.defineProperties(b,{interval:{get:b.getInterval,set:b.setInterval},framerate:{get:b.getFPS,set:b.setFPS}})}catch(a){console.log(a)}b.init=function(){b._inited||(b._inited=!0,
b._times=[],b._tickTimes=[],b._startTime=b._getTime(),b._times.push(b._lastTime=0),b.interval=b._interval)};b.reset=function(){if(b._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(b._timerId)}else clearTimeout(b._timerId);b.removeAllEventListeners("tick");b._timerId=b._times=b._tickTimes=null;b._startTime=b._lastTime=b._ticks=0;b._inited=!1};b.getMeasuredTickTime=function(a){var c=
0,h=b._tickTimes;if(!h||1>h.length)return-1;a=Math.min(h.length,a||0|b.getFPS());for(var d=0;a>d;d++)c+=h[d];return c/a};b.getMeasuredFPS=function(a){var c=b._times;return!c||2>c.length?-1:(a=Math.min(c.length-1,a||0|b.getFPS()),1E3/((c[0]-c[a])/a))};b.setPaused=function(a){b.paused=a};b.getPaused=function(){return b.paused};b.getTime=function(a){return b._startTime?b._getTime()-(a?b._pausedTime:0):-1};b.getEventTime=function(a){return b._startTime?(b._lastTime||b._startTime)-(a?b._pausedTime:0):
-1};b.getTicks=function(a){return b._ticks-(a?b._pausedTicks:0)};b._handleSynch=function(){b._timerId=null;b._setupTick();b._getTime()-b._lastTime>=.97*(b._interval-1)&&b._tick()};b._handleRAF=function(){b._timerId=null;b._setupTick();b._tick()};b._handleTimeout=function(){b._timerId=null;b._setupTick();b._tick()};b._setupTick=function(){if(null==b._timerId){var a=b.timingMode||b.useRAF&&b.RAF_SYNCHED;if(a==b.RAF_SYNCHED||a==b.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return b._timerId=c(a==b.RAF?b._handleRAF:b._handleSynch),void(b._raf=!0)}b._raf=!1;b._timerId=setTimeout(b._handleTimeout,b._interval)}};b._tick=function(){var a=b.paused,c=b._getTime(),h=c-b._lastTime;if(b._lastTime=c,b._ticks++,a&&(b._pausedTicks++,b._pausedTime+=h),b.hasEventListener("tick")){var d=new createjs.Event("tick"),e=b.maxDelta;d.delta=e&&h>e?e:h;d.paused=a;d.time=c;d.runTime=c-b._pausedTime;
b.dispatchEvent(d)}for(b._tickTimes.unshift(b._getTime()-c);100<b._tickTimes.length;)b._tickTimes.pop();for(b._times.unshift(c);100<b._times.length;)b._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-b._startTime};createjs.Ticker=b})();this.createjs=this.createjs||{};
(function(){function b(a,c,h){this.loop=this.ignoreGlobalPause=!1;this.duration=0;this.pluginData=h||{};this.target=a;this.position=null;this._paused=this.passive=!1;this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];this._stepPosition=this._prevPosition=0;this._prevPos=-1;this._target=a;this._registered=this._inited=this._useTicks=!1;c&&(this._useTicks=c.useTicks,this.ignoreGlobalPause=c.ignoreGlobalPause,this.loop=c.loop,c.onChange&&this.addEventListener("change",c.onChange),
c.override&&b.removeTweens(a));c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,b.NONE)}var c=createjs.extend(b,createjs.EventDispatcher);b.NONE=0;b.LOOP=1;b.REVERSE=2;b.IGNORE={};b._tweens=[];b._plugins={};b.get=function(a,c,h,d){return d&&b.removeTweens(a),new b(a,c,h)};b.tick=function(a,c){for(var h=b._tweens.slice(),d=h.length-1;0<=d;d--){var e=h[d];c&&!e.ignoreGlobalPause||e._paused||e.tick(e._useTicks?1:a)}};b.handleEvent=function(a){"tick"==
a.type&&this.tick(a.delta,a.paused)};b.removeTweens=function(a){if(a.tweenjs_count){for(var c=b._tweens,h=c.length-1;0<=h;h--){var d=c[h];d._target==a&&(d._paused=!0,c.splice(h,1))}a.tweenjs_count=0}};b.removeAllTweens=function(){for(var a=b._tweens,c=0,h=a.length;h>c;c++){var d=a[c];d._paused=!0;d.target&&(d.target.tweenjs_count=0)}a.length=0};b.hasActiveTweens=function(a){return a?null!=a.tweenjs_count&&!!a.tweenjs_count:b._tweens&&!!b._tweens.length};b.installPlugin=function(a,c){var h=a.priority;
null==h&&(a.priority=h=0);for(var d=0,e=c.length,f=b._plugins;e>d;d++){var k=c[d];if(f[k]){for(var l=f[k],m=0,n=l.length;n>m&&!(h<l[m].priority);m++);f[k].splice(m,0,a)}else f[k]=[a]}};b._register=function(a,c){var h=a._target,d=b._tweens;if(c&&!a._registered)h&&(h.tweenjs_count=h.tweenjs_count?h.tweenjs_count+1:1),d.push(a),!b._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",b),b._inited=!0);else if(!c&&a._registered)for(h&&h.tweenjs_count--,h=d.length;h--;)if(d[h]==a){d.splice(h,
1);break}a._registered=c};c.wait=function(a,b){if(null==a||0>=a)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:a,p0:c,e:this._linearEase,p1:c,v:b})};c.to=function(a,b,c){return(isNaN(b)||0>b)&&(b=0),this._addStep({d:b||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(a))})};c.call=function(a,b,c){return this._addAction({f:a,p:b?b:[this],o:c?c:this._target})};c.set=function(a,b){return this._addAction({f:this._set,o:this,p:[a,
b?b:this._target]})};c.play=function(a){return a||(a=this),this.call(a.setPaused,[!1],a)};c.pause=function(a){return a||(a=this),this.call(a.setPaused,[!0],a)};c.setPosition=function(a,b){0>a&&(a=0);null==b&&(b=1);var c=a,d=!1;if(c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,d=!0)),c==this._prevPos)return d;var e=this._prevPos;if(this.position=this._prevPos=c,this._prevPosition=a,this._target)if(d)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var f=0,k=this._steps.length;k>
f&&!(this._steps[f].t>c);f++);f=this._steps[f-1];this._updateTargetProps(f,(this._stepPosition=c-f.t)/f.d)}return 0!=b&&0<this._actions.length&&(this._useTicks?this._runActions(c,c):1==b&&e>c?(e!=this.duration&&this._runActions(e,this.duration),this._runActions(0,c,!0)):this._runActions(e,c)),d&&this.setPaused(!0),this.dispatchEvent("change"),d};c.tick=function(a){this._paused||this.setPosition(this._prevPosition+a)};c.setPaused=function(a){return this._paused===!!a?this:(this._paused=!!a,b._register(this,
!a),this)};c.w=c.wait;c.t=c.to;c.c=c.call;c.s=c.set;c.toString=function(){return"[Tween]"};c.clone=function(){throw"Tween can not be cloned.";};c._updateTargetProps=function(a,c){var h,d,e,f;if(a||1!=c){if(this.passive=!!a.v,this.passive)return;a.e&&(c=a.e(c,0,1,1));h=a.p0;d=a.p1}else this.passive=!1,h=d=this._curQueueProps;for(var k in this._initQueueProps){null==(e=h[k])&&(h[k]=e=this._initQueueProps[k]);null==(f=d[k])&&(d[k]=f=e);e=e==f||0==c||1==c||"number"!=typeof e?1==c?f:e:e+(f-e)*c;var l=
!1;if(f=b._plugins[k])for(var m=0,n=f.length;n>m;m++){var p=f[m].tween(this,k,e,h,d,c,!!a&&h==d,!a);p==b.IGNORE?l=!0:e=p}l||(this._target[k]=e)}};c._runActions=function(a,b,c){var d=a,e=b,f=-1,k=this._actions.length,l=1;for(a>b&&(d=b,e=a,f=k,k=l=-1);(f+=l)!=k;){b=this._actions[f];var m=b.t;(m==e||m>d&&e>m||c&&m==a)&&b.f.apply(b.o,b.p)}};c._appendQueueProps=function(a){var c,h,d,e,f,k;for(k in a)if(void 0===this._initQueueProps[k]){if(h=this._target[k],c=b._plugins[k])for(d=0,e=c.length;e>d;d++)h=
c[d].init(this,k,h);this._initQueueProps[k]=this._curQueueProps[k]=void 0===h?null:h}for(k in a){if(h=this._curQueueProps[k],c=b._plugins[k])for(f=f||{},d=0,e=c.length;e>d;d++)c[d].step&&c[d].step(this,k,h,a[k],f);this._curQueueProps[k]=a[k]}return f&&this._appendQueueProps(f),this._curQueueProps};c._cloneProps=function(a){var b={},c;for(c in a)b[c]=a[c];return b};c._addStep=function(a){return 0<a.d&&(this._steps.push(a),a.t=this.duration,this.duration+=a.d),this};c._addAction=function(a){return a.t=
this.duration,this._actions.push(a),this};c._set=function(a,b){for(var c in a)b[c]=a[c]};createjs.Tween=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a,b,c){this.EventDispatcher_constructor();this.ignoreGlobalPause=!1;this.duration=0;this.loop=!1;this.position=null;this._paused=!1;this._tweens=[];this._labelList=this._labels=null;this._prevPosition=0;this._prevPos=-1;this._registered=this._useTicks=!1;c&&(this._useTicks=c.useTicks,this.loop=c.loop,this.ignoreGlobalPause=c.ignoreGlobalPause,c.onChange&&this.addEventListener("change",c.onChange));a&&this.addTween.apply(this,a);this.setLabels(b);c&&c.paused?this._paused=!0:
createjs.Tween._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,createjs.Tween.NONE)}var c=createjs.extend(b,createjs.EventDispatcher);c.addTween=function(a){var b=arguments.length;if(1<b){for(var c=0;b>c;c++)this.addTween(arguments[c]);return arguments[0]}return 0==b?null:(this.removeTween(a),this._tweens.push(a),a.setPaused(!0),a._paused=!1,a._useTicks=this._useTicks,a.duration>this.duration&&(this.duration=a.duration),0<=this._prevPos&&a.setPosition(this._prevPos,createjs.Tween.NONE),
a)};c.removeTween=function(a){var b=arguments.length;if(1<b){for(var c=!0,d=0;b>d;d++)c=c&&this.removeTween(arguments[d]);return c}if(0==b)return!1;b=this._tweens;for(d=b.length;d--;)if(b[d]==a)return b.splice(d,1),a.duration>=this.duration&&this.updateDuration(),!0;return!1};c.addLabel=function(a,b){this._labels[a]=b;var c=this._labelList;if(c){for(var d=0,e=c.length;e>d&&!(b<c[d].position);d++);c.splice(d,0,{label:a,position:b})}};c.setLabels=function(a){this._labels=a?a:{}};c.getLabels=function(){var a=
this._labelList;if(!a){var a=this._labelList=[],b=this._labels,c;for(c in b)a.push({label:c,position:b[c]});a.sort(function(a,b){return a.position-b.position})}return a};c.getCurrentLabel=function(){var a=this.getLabels(),b=this.position,c=a.length;if(c){for(var d=0;c>d&&!(b<a[d].position);d++);return 0==d?null:a[d-1].label}return null};c.gotoAndPlay=function(a){this.setPaused(!1);this._goto(a)};c.gotoAndStop=function(a){this.setPaused(!0);this._goto(a)};c.setPosition=function(a,b){var c=this._calcPosition(a),
d=!this.loop&&a>=this.duration;if(c==this._prevPos)return d;this._prevPosition=a;this.position=this._prevPos=c;for(var e=0,f=this._tweens.length;f>e;e++)if(this._tweens[e].setPosition(c,b),c!=this._prevPos)return!1;return d&&this.setPaused(!0),this.dispatchEvent("change"),d};c.setPaused=function(a){this._paused=!!a;createjs.Tween._register(this,!a)};c.updateDuration=function(){for(var a=this.duration=0,b=this._tweens.length;b>a;a++){var c=this._tweens[a];c.duration>this.duration&&(this.duration=c.duration)}};
c.tick=function(a){this.setPosition(this._prevPosition+a)};c.resolve=function(a){var b=Number(a);return isNaN(b)&&(b=this._labels[a]),b};c.toString=function(){return"[Timeline]"};c.clone=function(){throw"Timeline can not be cloned.";};c._goto=function(a){a=this.resolve(a);null!=a&&this.setPosition(a)};c._calcPosition=function(a){return 0>a?0:a<this.duration?a:this.loop?a%this.duration:this.duration};createjs.Timeline=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(){throw"Ease cannot be instantiated.";}b.linear=function(b){return b};b.none=b.linear;b.get=function(b){return-1>b&&(b=-1),1<b&&(b=1),function(a){return 0==b?a:0>b?a*(a*-b+1+b):a*((2-a)*b+(1-b))}};b.getPowIn=function(b){return function(a){return Math.pow(a,b)}};b.getPowOut=function(b){return function(a){return 1-Math.pow(1-a,b)}};b.getPowInOut=function(b){return function(a){return 1>(a*=2)?.5*Math.pow(a,b):1-.5*Math.abs(Math.pow(2-a,b))}};b.quadIn=b.getPowIn(2);b.quadOut=b.getPowOut(2);
b.quadInOut=b.getPowInOut(2);b.cubicIn=b.getPowIn(3);b.cubicOut=b.getPowOut(3);b.cubicInOut=b.getPowInOut(3);b.quartIn=b.getPowIn(4);b.quartOut=b.getPowOut(4);b.quartInOut=b.getPowInOut(4);b.quintIn=b.getPowIn(5);b.quintOut=b.getPowOut(5);b.quintInOut=b.getPowInOut(5);b.sineIn=function(b){return 1-Math.cos(b*Math.PI/2)};b.sineOut=function(b){return Math.sin(b*Math.PI/2)};b.sineInOut=function(b){return-.5*(Math.cos(Math.PI*b)-1)};b.getBackIn=function(b){return function(a){return a*a*((b+1)*a-b)}};
b.backIn=b.getBackIn(1.7);b.getBackOut=function(b){return function(a){return--a*a*((b+1)*a+b)+1}};b.backOut=b.getBackOut(1.7);b.getBackInOut=function(b){return b*=1.525,function(a){return 1>(a*=2)?.5*a*a*((b+1)*a-b):.5*((a-=2)*a*((b+1)*a+b)+2)}};b.backInOut=b.getBackInOut(1.7);b.circIn=function(b){return-(Math.sqrt(1-b*b)-1)};b.circOut=function(b){return Math.sqrt(1- --b*b)};b.circInOut=function(b){return 1>(b*=2)?-.5*(Math.sqrt(1-b*b)-1):.5*(Math.sqrt(1-(b-=2)*b)+1)};b.bounceIn=function(c){return 1-
b.bounceOut(1-c)};b.bounceOut=function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375};b.bounceInOut=function(c){return.5>c?.5*b.bounceIn(2*c):.5*b.bounceOut(2*c-1)+.5};b.getElasticIn=function(b,a){var g=2*Math.PI;return function(h){if(0==h||1==h)return h;var d=a/g*Math.asin(1/b);return-(b*Math.pow(2,10*--h)*Math.sin((h-d)*g/a))}};b.elasticIn=b.getElasticIn(1,.3);b.getElasticOut=function(b,a){var g=2*Math.PI;
return function(h){return 0==h||1==h?h:b*Math.pow(2,-10*h)*Math.sin((h-a/g*Math.asin(1/b))*g/a)+1}};b.elasticOut=b.getElasticOut(1,.3);b.getElasticInOut=function(b,a){var g=2*Math.PI;return function(h){var d=a/g*Math.asin(1/b);return 1>(h*=2)?-.5*b*Math.pow(2,10*--h)*Math.sin((h-d)*g/a):b*Math.pow(2,-10*--h)*Math.sin((h-d)*g/a)*.5+1}};b.elasticInOut=b.getElasticInOut(1,.3*1.5);createjs.Ease=b})();this.createjs=this.createjs||{};
(function(){function b(){throw"MotionGuidePlugin cannot be instantiated.";}b.priority=0;b._rotOffS;b._rotOffE;b._rotNormS;b._rotNormE;b.install=function(){return createjs.Tween.installPlugin(b,["guide","x","y","rotation"]),createjs.Tween.IGNORE};b.init=function(b,a,g){var h=b.target;return h.hasOwnProperty("x")||(h.x=0),h.hasOwnProperty("y")||(h.y=0),h.hasOwnProperty("rotation")||(h.rotation=0),"rotation"==a&&(b.__needsRot=!0),"guide"==a?null:g};b.step=function(c,a,g,h,d){if("rotation"==a&&(c.__rotGlobalS=
g,c.__rotGlobalE=h,b.testRotData(c,d)),"guide"!=a)return h;var e;h.hasOwnProperty("path")||(h.path=[]);a=h.path;if(h.hasOwnProperty("end")||(h.end=1),h.hasOwnProperty("start")||(h.start=g&&g.hasOwnProperty("end")&&g.path===a?g.end:0),h.hasOwnProperty("_segments")&&h._length)return h;g=a.length;if(!(6<=g&&0==(g-2)%4))throw"invalid 'path' data, please see documentation for valid paths";h._segments=[];h._length=0;for(var f=2;g>f;f+=4){for(var k,l,m=a[f-2],n=a[f-1],p=a[f+0],q=a[f+1],r=a[f+2],t=a[f+3],
v=m,x=n,z=0,K=[],H=1;10>=H;H++){l=H/10;var w=1-l;k=w*w*m+2*w*l*p+l*l*r;l=w*w*n+2*w*l*q+l*l*t;z+=K[K.push(Math.sqrt((e=k-v)*e+(e=l-x)*e))-1];v=k;x=l}h._segments.push(z);h._segments.push(K);h._length+=z}e=h.orient;h.orient=!0;a={};return b.calc(h,h.start,a),c.__rotPathS=Number(a.rotation.toFixed(5)),b.calc(h,h.end,a),c.__rotPathE=Number(a.rotation.toFixed(5)),h.orient=!1,b.calc(h,h.end,d),h.orient=e,h.orient?(c.__guideData=h,b.testRotData(c,d),h):h};b.testRotData=function(b,a){if(void 0===b.__rotGlobalS||
void 0===b.__rotGlobalE){if(b.__needsRot)return;b.__rotGlobalS=b.__rotGlobalE=void 0!==b._curQueueProps.rotation?b._curQueueProps.rotation:a.rotation=b.target.rotation||0}if(void 0!==b.__guideData){var g=b.__guideData,h=b.__rotGlobalE-b.__rotGlobalS,d=b.__rotPathE-b.__rotPathS,e=h-d;if("auto"==g.orient)180<e?e-=360:-180>e&&(e+=360);else if("cw"==g.orient){for(;0>e;)e+=360;0==e&&0<h&&180!=h&&(e+=360)}else if("ccw"==g.orient){for(e=h-(180<d?360-d:d);0<e;)e-=360;0==e&&0>h&&-180!=h&&(e-=360)}g.rotDelta=
e;g.rotOffS=b.__rotGlobalS-b.__rotPathS;b.__rotGlobalS=b.__rotGlobalE=b.__guideData=b.__needsRot=void 0}};b.tween=function(c,a,g,h,d,e,f){d=d.guide;if(void 0==d||d===h.guide)return g;if(d.lastRatio!=e){switch(b.calc(d,(d.end-d.start)*(f?d.end:e)+d.start,c.target),d.orient){case "cw":case "ccw":case "auto":c.target.rotation+=d.rotOffS+d.rotDelta*e;break;default:c.target.rotation+=d.rotOffS}d.lastRatio=e}return"rotation"!=a||d.orient&&"false"!=d.orient?c.target[a]:g};b.calc=function(b,a,g){if(void 0==
b._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==g&&(g={x:0,y:0,rotation:0});var h=b._segments,d=b.path,e=b._length*a,f=h.length-2;for(a=0;e>h[a]&&f>a;)e-=h[a],a+=2;for(var h=h[a+1],k=0,f=h.length-1;e>h[k]&&f>k;)e-=h[k],k++;e=k/++f+e/(f*h[k]);a=2*a+2;f=1-e;return g.x=f*f*d[a-2]+2*f*e*d[a+0]+e*e*d[a+2],g.y=f*f*d[a-1]+2*f*e*d[a+1]+e*e*d[a+3],b.orient&&(g.rotation=57.2957795*Math.atan2((d[a+1]-d[a-1])*f+(d[a+3]-d[a+1])*e,(d[a+0]-d[a-2])*f+(d[a+2]-d[a+0])*e)),
g};createjs.MotionGuidePlugin=b})();this.createjs=this.createjs||{};(function(){var b=createjs.TweenJS=createjs.TweenJS||{};b.version="0.6.2";b.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"})();var ServerConnection=function(){};ServerConnection.send=function(b){console.log("To server: "+JSON.stringify(b));"function"==typeof sendJSON&&sendJSON(b);return!0};ServerConnection.receive=function(b){console.log("From server: "+JSON.stringify(b));MessageInterpreter.interpret(b);return!0};