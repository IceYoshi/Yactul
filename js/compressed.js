window.addEventListener("resize",resize,!1);function init(){ServerConnection.init("example.lu/rest/");StageManager.init("canvas");StageManager.idle();resize()}function resize(){StageManager.resize(!0)}var StageManager=function(){};StageManager.init=function(a){this._canvas=a;this._stage=null;this._isInitialized=!0;this._width=800;this._height=450;this._score=0};StageManager.idle=function(){return this.draw(new IdleScreen)};
StageManager.draw=function(a){if(!this._isInitialized||null==a)return!1;this._activity=a;var c=this.createScreen();a.draw(c,this._score);this.transition(c);return!0};StageManager.update=function(a){switch(a.component){case "score":this._score=a.value;break;default:try{this._activity.update(a)}catch(c){console.log("Update cannot be applied to the current activity: "+JSON.stringify(a))}}};StageManager.abort=function(){this.idle()};
StageManager.createStage=function(){var a=new createjs.Stage(this._canvas);a.canvas.width=this._width;a.canvas.height=this._height;a.enableMouseOver(20);createjs.Touch.enable(a);createjs.Ticker.setFPS(60);createjs.Ticker.addEventListener("tick",a);return a};StageManager.createScreen=function(){var a=new createjs.Container;a.width=this._width;a.height=this._height;return a};
StageManager.resize=function(a){if(null==this._stage)return!1;var c=document.getElementById("header").offsetHeight,b=document.getElementById("footer").offsetHeight,g=window.innerWidth,c=window.innerHeight-(c+b),b=this._width,k=this._height;a?(a=Math.min(g/b,c/k),this._stage.scaleX=a*window.devicePixelRatio,this._stage.scaleY=a*window.devicePixelRatio,this._stage.canvas.width=g/b<c/k?g*window.devicePixelRatio:c*this._width/this._height*window.devicePixelRatio,this._stage.canvas.height=this._stage.canvas.width*
this._height/this._width,this._stage.canvas.style.width=this._stage.canvas.width/window.devicePixelRatio+"px",this._stage.canvas.style.height=this._stage.canvas.height/window.devicePixelRatio+"px"):(this._stage.scaleX=g/b*window.devicePixelRatio,this._stage.scaleY=c/k*window.devicePixelRatio,this._stage.canvas.width=g*window.devicePixelRatio,this._stage.canvas.height=c*window.devicePixelRatio,this._stage.canvas.style.width=g+"px",this._stage.canvas.style.height=c+"px");return!0};
StageManager.transition=function(a){null==this._stage?(this._stage=this.createStage(),this._stage.addChild(a)):(a.x-=a.width,this._stage.addChildAt(a,0),createjs.Tween.get(this._stage,{loop:!1}).call(function(a){a=a.getChildAt(a.numChildren-1);for(var b=0;b<a.numChildren;b++)createjs.Tween.removeTweens(a.getChildAt(b)),a.getChildAt(b).removeAllEventListeners()},[this._stage]).to({x:this._stage.canvas.width},1E3,createjs.Ease.getPowInOut(2)).call(function(a){var b=a.getChildAt(a.numChildren-1);b.removeAllChildren();
a.removeChild(b);a.x=a.getChildAt(0).x=0},[this._stage]))};var MessageInterpreter=function(){};MessageInterpreter.interpret=function(a){switch(a.cmd){case "start":StageManager.draw(this.getActivity(a));break;case "update":StageManager.update(a);break;case "abort":StageManager.abort();break;default:console.log("Error: Unknown command "+a.cmd)}};
MessageInterpreter.getActivity=function(a){try{return eval("(new "+a.activity+"(data))")}catch(c){try{return new window[a.activity](a)}catch(b){return console.log("ReferenceError: Activity "+a.activity+" is not defined."),null}}};this.createjs=this.createjs||{};createjs.extend=function(a,c){function b(){this.constructor=a}return b.prototype=c.prototype,a.prototype=new b};this.createjs=this.createjs||{};
createjs.promote=function(a,c){var b=a.prototype,g=Object.getPrototypeOf&&Object.getPrototypeOf(b)||b.__proto__;if(g){b[(c+="_")+"constructor"]=g.constructor;for(var k in g)b.hasOwnProperty(k)&&"function"==typeof g[k]&&(b[c+k]=g[k])}return a};this.createjs=this.createjs||{};createjs.indexOf=function(a,c){for(var b=0,g=a.length;g>b;b++)if(c===a[b])return b;return-1};this.createjs=this.createjs||{};
(function(){function a(b,g,a){this.type=b;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!g;this.cancelable=!!a;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var c=a.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};c.stopPropagation=function(){this.propagationStopped=!0};c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};c.remove=function(){this.removed=!0};c.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};c.set=function(b){for(var g in b)this[g]=b[g];return this};c.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a})();this.createjs=this.createjs||{};
(function(){function a(){this._captureListeners=this._listeners=null}var c=a.prototype;a.initialize=function(b){b.addEventListener=c.addEventListener;b.on=c.on;b.removeEventListener=b.off=c.removeEventListener;b.removeAllEventListeners=c.removeAllEventListeners;b.hasEventListener=c.hasEventListener;b.dispatchEvent=c.dispatchEvent;b._dispatchEvent=c._dispatchEvent;b.willTrigger=c.willTrigger};c.addEventListener=function(b,g,a){var c;c=a?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var d=c[b];return d&&this.removeEventListener(b,g,a),d=c[b],d?d.push(g):c[b]=[g],g};c.on=function(b,g,a,c,d,f){return g.handleEvent&&(a=a||g,g=g.handleEvent),a=a||this,this.addEventListener(b,function(b){g.call(a,b,d);c&&b.remove()},f)};c.removeEventListener=function(b,g,a){if(a=a?this._captureListeners:this._listeners){var c=a[b];if(c)for(var d=0,f=c.length;f>d;d++)if(c[d]==g){1==f?delete a[b]:c.splice(d,1);break}}};c.off=c.removeEventListener;c.removeAllEventListeners=function(b){b?
(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null};c.dispatchEvent=function(b,g,a){if("string"==typeof b){var c=this._listeners;if(!(g||c&&c[b]))return!0;b=new createjs.Event(b,g,a)}else b.target&&b.clone&&(b=b.clone());try{b.target=this}catch(d){}if(b.bubbles&&this.parent){a=this;for(g=[a];a.parent;)g.push(a=a.parent);c=g.length;for(a=c-1;0<=a&&!b.propagationStopped;a--)g[a]._dispatchEvent(b,1+(0==a));
for(a=1;c>a&&!b.propagationStopped;a++)g[a]._dispatchEvent(b,3)}else this._dispatchEvent(b,2);return!b.defaultPrevented};c.hasEventListener=function(b){var g=this._listeners,a=this._captureListeners;return!!(g&&g[b]||a&&a[b])};c.willTrigger=function(b){for(var g=this;g;){if(g.hasEventListener(b))return!0;g=g.parent}return!1};c.toString=function(){return"[EventDispatcher]"};c._dispatchEvent=function(b,g){var a,c=1==g?this._captureListeners:this._listeners;if(b&&c&&(c=c[b.type])&&(a=c.length)){try{b.currentTarget=
this}catch(h){}try{b.eventPhase=g}catch(h){}b.removed=!1;for(var c=c.slice(),d=0;a>d&&!b.immediatePropagationStopped;d++){var f=c[d];f.handleEvent?f.handleEvent(b):f(b);b.removed&&(this.off(b.type,f,1==g),b.removed=!1)}}};createjs.EventDispatcher=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"Ticker cannot be instantiated.";}a.RAF_SYNCHED="synched";a.RAF="raf";a.TIMEOUT="timeout";a.useRAF=!1;a.timingMode=null;a.maxDelta=0;a.paused=!1;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._addEventListener=a.addEventListener;a.addEventListener=function(){return!a._inited&&a.init(),a._addEventListener.apply(a,arguments)};a._inited=!1;a._startTime=0;a._pausedTime=
0;a._ticks=0;a._pausedTicks=0;a._interval=50;a._lastTime=0;a._times=null;a._tickTimes=null;a._timerId=null;a._raf=!0;a.setInterval=function(b){a._interval=b;a._inited&&a._setupTick()};a.getInterval=function(){return a._interval};a.setFPS=function(b){a.setInterval(1E3/b)};a.getFPS=function(){return 1E3/a._interval};try{Object.defineProperties(a,{interval:{get:a.getInterval,set:a.setInterval},framerate:{get:a.getFPS,set:a.setFPS}})}catch(b){console.log(b)}a.init=function(){a._inited||(a._inited=!0,
a._times=[],a._tickTimes=[],a._startTime=a._getTime(),a._times.push(a._lastTime=0),a.interval=a._interval)};a.reset=function(){if(a._raf){var b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;b&&b(a._timerId)}else clearTimeout(a._timerId);a.removeAllEventListeners("tick");a._timerId=a._times=a._tickTimes=null;a._startTime=a._lastTime=a._ticks=0;a._inited=!1};a.getMeasuredTickTime=function(b){var g=
0,k=a._tickTimes;if(!k||1>k.length)return-1;b=Math.min(k.length,b||0|a.getFPS());for(var c=0;b>c;c++)g+=k[c];return g/b};a.getMeasuredFPS=function(b){var g=a._times;return!g||2>g.length?-1:(b=Math.min(g.length-1,b||0|a.getFPS()),1E3/((g[0]-g[b])/b))};a.setPaused=function(b){a.paused=b};a.getPaused=function(){return a.paused};a.getTime=function(b){return a._startTime?a._getTime()-(b?a._pausedTime:0):-1};a.getEventTime=function(b){return a._startTime?(a._lastTime||a._startTime)-(b?a._pausedTime:0):
-1};a.getTicks=function(b){return a._ticks-(b?a._pausedTicks:0)};a._handleSynch=function(){a._timerId=null;a._setupTick();a._getTime()-a._lastTime>=.97*(a._interval-1)&&a._tick()};a._handleRAF=function(){a._timerId=null;a._setupTick();a._tick()};a._handleTimeout=function(){a._timerId=null;a._setupTick();a._tick()};a._setupTick=function(){if(null==a._timerId){var b=a.timingMode||a.useRAF&&a.RAF_SYNCHED;if(b==a.RAF_SYNCHED||b==a.RAF){var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(g)return a._timerId=g(b==a.RAF?a._handleRAF:a._handleSynch),void(a._raf=!0)}a._raf=!1;a._timerId=setTimeout(a._handleTimeout,a._interval)}};a._tick=function(){var b=a.paused,g=a._getTime(),k=g-a._lastTime;if(a._lastTime=g,a._ticks++,b&&(a._pausedTicks++,a._pausedTime+=k),a.hasEventListener("tick")){var c=new createjs.Event("tick"),d=a.maxDelta;c.delta=d&&k>d?d:k;c.paused=b;c.time=g;c.runTime=g-a._pausedTime;
a.dispatchEvent(c)}for(a._tickTimes.unshift(a._getTime()-g);100<a._tickTimes.length;)a._tickTimes.pop();for(a._times.unshift(g);100<a._times.length;)a._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);a._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-a._startTime};createjs.Ticker=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"UID cannot be instantiated";}a._nextID=0;a.get=function(){return a._nextID++};createjs.UID=a})();this.createjs=this.createjs||{};
(function(){function a(b,g,a,c,d,f,h,l,m,n,p){this.Event_constructor(b,g,a);this.stageX=c;this.stageY=d;this.rawX=null==m?c:m;this.rawY=null==n?d:n;this.nativeEvent=f;this.pointerID=h;this.primary=!!l;this.relatedTarget=p}var c=createjs.extend(a,createjs.Event);c._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};c._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};c._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(c,
{localX:{get:c._get_localX},localY:{get:c._get_localY},isTouch:{get:c._get_isTouch}})}catch(b){}c.clone=function(){return new a(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};c.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=createjs.promote(a,"Event")})();this.createjs=this.createjs||{};
(function(){function a(b,g,a,c,d,f){this.setValues(b,g,a,c,d,f)}var c=a.prototype;a.DEG_TO_RAD=Math.PI/180;a.identity=null;c.setValues=function(b,g,a,c,d,f){return this.a=null==b?1:b,this.b=g||0,this.c=a||0,this.d=null==c?1:c,this.tx=d||0,this.ty=f||0,this};c.append=function(b,g,a,c,d,f){var h=this.a,l=this.b,m=this.c,n=this.d;return(1!=b||0!=g||0!=a||1!=c)&&(this.a=h*b+m*g,this.b=l*b+n*g,this.c=h*a+m*c,this.d=l*a+n*c),this.tx=h*d+m*f+this.tx,this.ty=l*d+n*f+this.ty,this};c.prepend=function(b,g,a,
c,d,f){var h=this.a,l=this.c,m=this.tx;return this.a=b*h+a*this.b,this.b=g*h+c*this.b,this.c=b*l+a*this.d,this.d=g*l+c*this.d,this.tx=b*m+a*this.ty+d,this.ty=g*m+c*this.ty+f,this};c.appendMatrix=function(b){return this.append(b.a,b.b,b.c,b.d,b.tx,b.ty)};c.prependMatrix=function(b){return this.prepend(b.a,b.b,b.c,b.d,b.tx,b.ty)};c.appendTransform=function(b,g,k,c,d,f,h,l,m){if(d%360){var n=d*a.DEG_TO_RAD;d=Math.cos(n);n=Math.sin(n)}else d=1,n=0;return f||h?(f*=a.DEG_TO_RAD,h*=a.DEG_TO_RAD,this.append(Math.cos(h),
Math.sin(h),-Math.sin(f),Math.cos(f),b,g),this.append(d*k,n*k,-n*c,d*c,0,0)):this.append(d*k,n*k,-n*c,d*c,b,g),(l||m)&&(this.tx-=l*this.a+m*this.c,this.ty-=l*this.b+m*this.d),this};c.prependTransform=function(b,g,k,c,d,f,h,l,m){if(d%360){var n=d*a.DEG_TO_RAD;d=Math.cos(n);n=Math.sin(n)}else d=1,n=0;return(l||m)&&(this.tx-=l,this.ty-=m),f||h?(f*=a.DEG_TO_RAD,h*=a.DEG_TO_RAD,this.prepend(d*k,n*k,-n*c,d*c,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(f),Math.cos(f),b,g)):this.prepend(d*k,n*k,-n*
c,d*c,b,g),this};c.rotate=function(b){b*=a.DEG_TO_RAD;var g=Math.cos(b);b=Math.sin(b);var k=this.a,c=this.b;return this.a=k*g+this.c*b,this.b=c*g+this.d*b,this.c=-k*b+this.c*g,this.d=-c*b+this.d*g,this};c.skew=function(b,g){return b*=a.DEG_TO_RAD,g*=a.DEG_TO_RAD,this.append(Math.cos(g),Math.sin(g),-Math.sin(b),Math.cos(b),0,0),this};c.scale=function(b,g){return this.a*=b,this.b*=b,this.c*=g,this.d*=g,this};c.translate=function(b,g){return this.tx+=this.a*b+this.c*g,this.ty+=this.b*b+this.d*g,this};
c.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this};c.invert=function(){var b=this.a,g=this.b,a=this.c,c=this.d,d=this.tx,f=b*c-g*a;return this.a=c/f,this.b=-g/f,this.c=-a/f,this.d=b/f,this.tx=(a*this.ty-c*d)/f,this.ty=-(b*this.ty-g*d)/f,this};c.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d};c.equals=function(b){return this.tx===b.tx&&this.ty===b.ty&&this.a===b.a&&this.b===b.b&&this.c===b.c&&this.d===b.d};c.transformPoint=
function(b,g,a){return a=a||{},a.x=b*this.a+g*this.c+this.tx,a.y=b*this.b+g*this.d+this.ty,a};c.decompose=function(b){null==b&&(b={});b.x=this.tx;b.y=this.ty;b.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);b.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var g=Math.atan2(-this.c,this.d),k=Math.atan2(this.b,this.a);return 1E-5>Math.abs(1-g/k)?(b.rotation=k/a.DEG_TO_RAD,0>this.a&&0<=this.d&&(b.rotation+=0>=b.rotation?180:-180),b.skewX=b.skewY=0):(b.skewX=g/a.DEG_TO_RAD,b.skewY=k/a.DEG_TO_RAD),b};c.copy=
function(b){return this.setValues(b.a,b.b,b.c,b.d,b.tx,b.ty)};c.clone=function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty)};c.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};a.identity=new a;createjs.Matrix2D=a})();this.createjs=this.createjs||{};
(function(){function a(b,g,a,c,d){this.setValues(b,g,a,c,d)}var c=a.prototype;c.setValues=function(b,g,a,c,d){return this.visible=null==b?!0:!!b,this.alpha=null==g?1:g,this.shadow=a,this.compositeOperation=c,this.matrix=d||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this};c.append=function(b,g,a,c,d){return this.alpha*=g,this.shadow=a||this.shadow,this.compositeOperation=c||this.compositeOperation,this.visible=this.visible&&b,d&&this.matrix.appendMatrix(d),this};c.prepend=function(b,
g,a,c,d){return this.alpha*=g,this.shadow=this.shadow||a,this.compositeOperation=this.compositeOperation||c,this.visible=this.visible&&b,d&&this.matrix.prependMatrix(d),this};c.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this};c.clone=function(){return new a(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())};createjs.DisplayProps=a})();this.createjs=this.createjs||{};
(function(){function a(b,g){this.setValues(b,g)}var c=a.prototype;c.setValues=function(b,g){return this.x=b||0,this.y=g||0,this};c.copy=function(b){return this.x=b.x,this.y=b.y,this};c.clone=function(){return new a(this.x,this.y)};c.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=a})();this.createjs=this.createjs||{};
(function(){function a(b,g,a,c){this.setValues(b,g,a,c)}var c=a.prototype;c.setValues=function(b,g,a,c){return this.x=b||0,this.y=g||0,this.width=a||0,this.height=c||0,this};c.extend=function(b,g,a,c){return a=a||0,c=c||0,b+a>this.x+this.width&&(this.width=b+a-this.x),g+c>this.y+this.height&&(this.height=g+c-this.y),b<this.x&&(this.width+=this.x-b,this.x=b),g<this.y&&(this.height+=this.y-g,this.y=g),this};c.pad=function(b,g,a,c){return this.x-=g,this.y-=b,this.width+=g+c,this.height+=b+a,this};c.copy=
function(b){return this.setValues(b.x,b.y,b.width,b.height)};c.contains=function(b,g,a,c){return a=a||0,c=c||0,b>=this.x&&b+a<=this.x+this.width&&g>=this.y&&g+c<=this.y+this.height};c.union=function(b){return this.clone().extend(b.x,b.y,b.width,b.height)};c.intersection=function(b){var g=b.x,k=b.y,c=g+b.width;b=k+b.height;return this.x>g&&(g=this.x),this.y>k&&(k=this.y),this.x+this.width<c&&(c=this.x+this.width),this.y+this.height<b&&(b=this.y+this.height),g>=c||k>=b?null:new a(g,k,c-g,b-k)};c.intersects=
function(b){return b.x<=this.x+this.width&&this.x<=b.x+b.width&&b.y<=this.y+this.height&&this.y<=b.y+b.height};c.isEmpty=function(){return 0>=this.width||0>=this.height};c.clone=function(){return new a(this.x,this.y,this.width,this.height)};c.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=a})();this.createjs=this.createjs||{};
(function(){function a(b,g,a,c,d,f,h){b.addEventListener&&(this.target=b,this.overLabel=null==a?"over":a,this.outLabel=null==g?"out":g,this.downLabel=null==c?"down":c,this.play=d,this._isPressed=!1,this._isOver=!1,this._enabled=!1,b.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),f&&(h&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(h)),b.hitArea=f))}var c=a.prototype;c.setEnabled=function(b){if(b!=this._enabled){var g=this.target;(this._enabled=b)?(g.cursor="pointer",g.addEventListener("rollover",
this),g.addEventListener("rollout",this),g.addEventListener("mousedown",this),g.addEventListener("pressup",this),g._reset&&(g.__reset=g._reset,g._reset=this._reset)):(g.cursor=null,g.removeEventListener("rollover",this),g.removeEventListener("rollout",this),g.removeEventListener("mousedown",this),g.removeEventListener("pressup",this),g.__reset&&(g._reset=g.__reset,delete g.__reset))}};c.getEnabled=function(){return this._enabled};try{Object.defineProperties(c,{enabled:{get:c.getEnabled,set:c.setEnabled}})}catch(b){}c.toString=
function(){return"[ButtonHelper]"};c.handleEvent=function(b){var g,a=this.target;b=b.type;"mousedown"==b?(this._isPressed=!0,g=this.downLabel):"pressup"==b?(this._isPressed=!1,g=this._isOver?this.overLabel:this.outLabel):"rollover"==b?(this._isOver=!0,g=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,g=this._isPressed?this.overLabel:this.outLabel);this.play?a.gotoAndPlay&&a.gotoAndPlay(g):a.gotoAndStop&&a.gotoAndStop(g)};c._reset=function(){var b=this.paused;this.__reset();this.paused=
b};createjs.ButtonHelper=a})();this.createjs=this.createjs||{};(function(){function a(b,g,a,c){this.color=b||"black";this.offsetX=g||0;this.offsetY=a||0;this.blur=c||0}var c=a.prototype;a.identity=new a("transparent",0,0,0);c.toString=function(){return"[Shadow]"};c.clone=function(){return new a(this.color,this.offsetX,this.offsetY,this.blur)};createjs.Shadow=a})();this.createjs=this.createjs||{};
(function(){function a(b){this.EventDispatcher_constructor();this.complete=!0;this.framerate=0;this._data=this._images=this._frames=this._animations=null;this._margin=this._spacing=this._regY=this._regX=this._numFrames=this._frameWidth=this._frameHeight=this._loadCount=0;this._parseData(b)}var c=createjs.extend(a,createjs.EventDispatcher);c.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(c,{animations:{get:c.getAnimations}})}catch(b){}c.getNumFrames=function(b){if(null==
b)return this._frames?this._frames.length:this._numFrames||0;b=this._data[b];return null==b?0:b.frames.length};c.getAnimation=function(b){return this._data[b]};c.getFrame=function(b){var g;return this._frames&&(g=this._frames[b])?g:null};c.getFrameBounds=function(b,g){var a=this.getFrame(b);return a?(g||new createjs.Rectangle).setValues(-a.regX,-a.regY,a.rect.width,a.rect.height):null};c.toString=function(){return"[SpriteSheet]"};c.clone=function(){throw"SpriteSheet cannot be cloned.";};c._parseData=
function(b){var g,a,c;if(null!=b){if(this.framerate=b.framerate||0,b.images&&0<(a=b.images.length))for(c=this._images=[],g=0;a>g;g++){var d=b.images[g];if("string"==typeof d){var f=d,d=document.createElement("img");d.src=f}c.push(d);d.getContext||d.naturalWidth||(this._loadCount++,this.complete=!1,function(b,g){d.onload=function(){b._handleImageLoad(g)}}(this,f),function(b,g){d.onerror=function(){b._handleImageError(g)}}(this,f))}if(null!=b.frames)if(Array.isArray(b.frames))for(this._frames=[],c=
b.frames,g=0,a=c.length;a>g;g++)f=c[g],this._frames.push({image:this._images[f[4]?f[4]:0],rect:new createjs.Rectangle(f[0],f[1],f[2],f[3]),regX:f[5]||0,regY:f[6]||0});else a=b.frames,this._frameWidth=a.width,this._frameHeight=a.height,this._regX=a.regX||0,this._regY=a.regY||0,this._spacing=a.spacing||0,this._margin=a.margin||0,this._numFrames=a.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(a=b.animations)){this._data={};for(var h in a){b={name:h};f=a[h];if("number"==
typeof f)c=b.frames=[f];else if(Array.isArray(f))if(1==f.length)b.frames=[f[0]];else for(b.speed=f[3],b.next=f[2],c=b.frames=[],g=f[0];g<=f[1];g++)c.push(g);else b.speed=f.speed,b.next=f.next,g=f.frames,c=b.frames="number"==typeof g?[g]:g.slice(0);!0!==b.next&&void 0!==b.next||(b.next=h);(!1===b.next||2>c.length&&b.next==h)&&(b.next=null);b.speed||(b.speed=1);this._animations.push(h);this._data[h]=b}}}};c._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,
this.dispatchEvent("complete"))};c._handleImageError=function(b){var g=new createjs.Event("error");g.src=b;this.dispatchEvent(g);0==--this._loadCount&&this.dispatchEvent("complete")};c._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var b=this._numFrames||1E5,g=0,a=this._frameWidth,c=this._frameHeight,d=this._spacing,f=this._margin,h=0,l=this._images;a:for(;h<l.length;h++)for(var m=l[h],n=m.width,p=m.height,q=f;p-f-c>=q;){for(var r=f;n-f-a>=r;){if(g>=b)break a;g++;
this._frames.push({image:m,rect:new createjs.Rectangle(r,q,a,c),regX:this._regX,regY:this._regY});r+=a+d}q+=c+d}this._numFrames=g}};createjs.SpriteSheet=createjs.promote(a,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function a(){this._oldStrokeDash=this._strokeDash=this._oldStrokeStyle=this._strokeStyle=this._stroke=this.command=null;this._strokeIgnoreScale=!1;this._fill=null;this._instructions=[];this._commitIndex=0;this._activeInstructions=[];this._dirty=!1;this._storeIndex=0;this.clear()}var c=a.prototype;a.getRGB=function(b,a,c,d){return null!=b&&null==c&&(d=a,c=255&b,a=b>>8&255,b=b>>16&255),null==d?"rgb("+b+","+a+","+c+")":"rgba("+b+","+a+","+c+","+d+")"};a.getHSL=function(b,a,c,d){return null==
d?"hsl("+b%360+","+a+"%,"+c+"%)":"hsla("+b%360+","+a+"%,"+c+"%,"+d+")"};a.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};a.STROKE_CAPS_MAP=["butt","round","square"];a.STROKE_JOINTS_MAP=["miter","round","bevel"];var b=createjs.createCanvas?
createjs.createCanvas():document.createElement("canvas");b.getContext&&(a._ctx=b.getContext("2d"),b.width=b.height=1);c.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(c,{instructions:{get:c.getInstructions}})}catch(g){}c.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)};c.draw=function(b,a){this._updateInstructions();for(var c=this._instructions,d=this._storeIndex,f=c.length;f>d;d++)c[d].exec(b,a)};
c.drawAsPath=function(b){this._updateInstructions();for(var a,c=this._instructions,d=this._storeIndex,f=c.length;f>d;d++)!1!==(a=c[d]).path&&a.exec(b)};c.moveTo=function(b,c){return this.append(new a.MoveTo(b,c),!0)};c.lineTo=function(b,c){return this.append(new a.LineTo(b,c))};c.arcTo=function(b,c,e,d,f){return this.append(new a.ArcTo(b,c,e,d,f))};c.arc=function(b,c,e,d,f,h){return this.append(new a.Arc(b,c,e,d,f,h))};c.quadraticCurveTo=function(b,c,e,d){return this.append(new a.QuadraticCurveTo(b,
c,e,d))};c.bezierCurveTo=function(b,c,e,d,f,h){return this.append(new a.BezierCurveTo(b,c,e,d,f,h))};c.rect=function(b,c,e,d){return this.append(new a.Rect(b,c,e,d))};c.closePath=function(){return this._activeInstructions.length?this.append(new a.ClosePath):this};c.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=
!1,this};c.beginFill=function(b){return this._setFill(b?new a.Fill(b):null)};c.beginLinearGradientFill=function(b,c,e,d,f,h){return this._setFill((new a.Fill).linearGradient(b,c,e,d,f,h))};c.beginRadialGradientFill=function(b,c,e,d,f,h,l,m){return this._setFill((new a.Fill).radialGradient(b,c,e,d,f,h,l,m))};c.beginBitmapFill=function(b,c,e){return this._setFill((new a.Fill(null,e)).bitmap(b,c))};c.endFill=function(){return this.beginFill()};c.setStrokeStyle=function(b,c,e,d,f){return this._updateInstructions(!0),
this._strokeStyle=this.command=new a.StrokeStyle(b,c,e,d,f),this._stroke&&(this._stroke.ignoreScale=f),this._strokeIgnoreScale=f,this};c.setStrokeDash=function(b,c){return this._updateInstructions(!0),this._strokeDash=this.command=new a.StrokeDash(b,c),this};c.beginStroke=function(b){return this._setStroke(b?new a.Stroke(b):null)};c.beginLinearGradientStroke=function(b,c,e,d,f,h){return this._setStroke((new a.Stroke).linearGradient(b,c,e,d,f,h))};c.beginRadialGradientStroke=function(b,c,e,d,f,h,l,
m){return this._setStroke((new a.Stroke).radialGradient(b,c,e,d,f,h,l,m))};c.beginBitmapStroke=function(b,c){return this._setStroke((new a.Stroke).bitmap(b,c))};c.endStroke=function(){return this.beginStroke()};c.curveTo=c.quadraticCurveTo;c.drawRect=c.rect;c.drawRoundRect=function(b,a,c,d,f){return this.drawRoundRectComplex(b,a,c,d,f,f,f,f)};c.drawRoundRectComplex=function(b,c,e,d,f,h,l,m){return this.append(new a.RoundRect(b,c,e,d,f,h,l,m))};c.drawCircle=function(b,c,e){return this.append(new a.Circle(b,
c,e))};c.drawEllipse=function(b,c,e,d){return this.append(new a.Ellipse(b,c,e,d))};c.drawPolyStar=function(b,c,e,d,f,h){return this.append(new a.PolyStar(b,c,e,d,f,h))};c.append=function(b,a){return this._activeInstructions.push(b),this.command=b,a||(this._dirty=!0),this};c.decodePath=function(b){for(var c=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],e=[2,2,4,6,0],d=0,f=b.length,h=[],l=0,m=0,n=a.BASE_64;f>d;){var p=b.charAt(d),q=n[p],r=q>>3,t=c[r];if(!t||3&q)throw"bad path data (@"+
d+"): "+p;p=e[r];r||(l=m=0);h.length=0;d++;q=(q>>2&1)+2;for(r=0;p>r;r++){var u=n[b.charAt(d)],w=u>>5?-1:1,u=(31&u)<<6|n[b.charAt(d+1)];3==q&&(u=u<<6|n[b.charAt(d+2)]);u=w*u/10;r%2?l=u+=l:m=u+=m;h[r]=u;d+=q}t.apply(this,h)}return this};c.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this};c.unstore=function(){return this._storeIndex=0,this};c.clone=function(){var b=new a;return b.command=this.command,b._stroke=this._stroke,b._strokeStyle=this._strokeStyle,
b._strokeDash=this._strokeDash,b._strokeIgnoreScale=this._strokeIgnoreScale,b._fill=this._fill,b._instructions=this._instructions.slice(),b._commitIndex=this._commitIndex,b._activeInstructions=this._activeInstructions.slice(),b._dirty=this._dirty,b._storeIndex=this._storeIndex,b};c.toString=function(){return"[Graphics]"};c.mt=c.moveTo;c.lt=c.lineTo;c.at=c.arcTo;c.bt=c.bezierCurveTo;c.qt=c.quadraticCurveTo;c.a=c.arc;c.r=c.rect;c.cp=c.closePath;c.c=c.clear;c.f=c.beginFill;c.lf=c.beginLinearGradientFill;
c.rf=c.beginRadialGradientFill;c.bf=c.beginBitmapFill;c.ef=c.endFill;c.ss=c.setStrokeStyle;c.sd=c.setStrokeDash;c.s=c.beginStroke;c.ls=c.beginLinearGradientStroke;c.rs=c.beginRadialGradientStroke;c.bs=c.beginBitmapStroke;c.es=c.endStroke;c.dr=c.drawRect;c.rr=c.drawRoundRect;c.rc=c.drawRoundRectComplex;c.dc=c.drawCircle;c.de=c.drawEllipse;c.dp=c.drawPolyStar;c.p=c.decodePath;c._updateInstructions=function(b){var c=this._instructions,e=this._activeInstructions,d=this._commitIndex;if(this._dirty&&e.length){c.length=
d;c.push(a.beginCmd);var d=e.length,f=c.length;c.length=f+d;for(var h=0;d>h;h++)c[h+f]=e[h];this._fill&&c.push(this._fill);this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,c.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,c.push(this._strokeStyle)),c.push(this._stroke));this._dirty=!1}b&&(e.length=0,this._commitIndex=c.length)};c._setFill=function(b){return this._updateInstructions(!0),this.command=
this._fill=b,this};c._setStroke=function(b){return this._updateInstructions(!0),(this.command=this._stroke=b)&&(b.ignoreScale=this._strokeIgnoreScale),this};(a.LineTo=function(b,a){this.x=b;this.y=a}).prototype.exec=function(b){b.lineTo(this.x,this.y)};(a.MoveTo=function(b,a){this.x=b;this.y=a}).prototype.exec=function(b){b.moveTo(this.x,this.y)};(a.ArcTo=function(b,a,c,d,f){this.x1=b;this.y1=a;this.x2=c;this.y2=d;this.radius=f}).prototype.exec=function(b){b.arcTo(this.x1,this.y1,this.x2,this.y2,
this.radius)};(a.Arc=function(b,a,c,d,f,h){this.x=b;this.y=a;this.radius=c;this.startAngle=d;this.endAngle=f;this.anticlockwise=!!h}).prototype.exec=function(b){b.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)};(a.QuadraticCurveTo=function(b,a,c,d){this.cpx=b;this.cpy=a;this.x=c;this.y=d}).prototype.exec=function(b){b.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)};(a.BezierCurveTo=function(b,a,c,d,f,h){this.cp1x=b;this.cp1y=a;this.cp2x=c;this.cp2y=d;this.x=f;this.y=
h}).prototype.exec=function(b){b.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)};(a.Rect=function(b,a,c,d){this.x=b;this.y=a;this.w=c;this.h=d}).prototype.exec=function(b){b.rect(this.x,this.y,this.w,this.h)};(a.ClosePath=function(){}).prototype.exec=function(b){b.closePath()};(a.BeginPath=function(){}).prototype.exec=function(b){b.beginPath()};c=(a.Fill=function(b,a){this.style=b;this.matrix=a}).prototype;c.exec=function(b){if(this.style){b.fillStyle=this.style;var a=this.matrix;
a&&(b.save(),b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty));b.fill();a&&b.restore()}};c.linearGradient=function(b,c,e,d,f,h){for(var l=this.style=a._ctx.createLinearGradient(e,d,f,h),m=0,n=b.length;n>m;m++)l.addColorStop(c[m],b[m]);return l.props={colors:b,ratios:c,x0:e,y0:d,x1:f,y1:h,type:"linear"},this};c.radialGradient=function(b,c,e,d,f,h,l,m){for(var n=this.style=a._ctx.createRadialGradient(e,d,f,h,l,m),p=0,q=b.length;q>p;p++)n.addColorStop(c[p],b[p]);return n.props={colors:b,ratios:c,x0:e,y0:d,r0:f,
x1:h,y1:l,r1:m,type:"radial"},this};c.bitmap=function(b,c){if(b.naturalWidth||b.getContext||2<=b.readyState)(this.style=a._ctx.createPattern(b,c||"")).props={image:b,repetition:c,type:"bitmap"};return this};c.path=!1;c=(a.Stroke=function(b,a){this.style=b;this.ignoreScale=a}).prototype;c.exec=function(b){this.style&&(b.strokeStyle=this.style,this.ignoreScale&&(b.save(),b.setTransform(1,0,0,1,0,0)),b.stroke(),this.ignoreScale&&b.restore())};c.linearGradient=a.Fill.prototype.linearGradient;c.radialGradient=
a.Fill.prototype.radialGradient;c.bitmap=a.Fill.prototype.bitmap;c.path=!1;c=(a.StrokeStyle=function(b,a,c,d,f){this.width=b;this.caps=a;this.joints=c;this.miterLimit=d;this.ignoreScale=f}).prototype;c.exec=function(b){b.lineWidth=null==this.width?"1":this.width;b.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:a.STROKE_CAPS_MAP[this.caps];b.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:a.STROKE_JOINTS_MAP[this.joints];b.miterLimit=null==this.miterLimit?"10":this.miterLimit;
b.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale};c.path=!1;(a.StrokeDash=function(b,a){this.segments=b;this.offset=a||0}).prototype.exec=function(b){b.setLineDash&&(b.setLineDash(this.segments||a.StrokeDash.EMPTY_SEGMENTS),b.lineDashOffset=this.offset||0)};a.StrokeDash.EMPTY_SEGMENTS=[];(a.RoundRect=function(b,a,c,d,f,h,l,m){this.x=b;this.y=a;this.w=c;this.h=d;this.radiusTL=f;this.radiusTR=h;this.radiusBR=l;this.radiusBL=m}).prototype.exec=function(b){var a=(p>n?n:p)/2,c=0,d=0,f=0,h=0,l=
this.x,m=this.y,n=this.w,p=this.h,q=this.radiusTL,r=this.radiusTR,t=this.radiusBR,u=this.radiusBL;0>q&&(q*=c=-1);q>a&&(q=a);0>r&&(r*=d=-1);r>a&&(r=a);0>t&&(t*=f=-1);t>a&&(t=a);0>u&&(u*=h=-1);u>a&&(u=a);b.moveTo(l+n-r,m);b.arcTo(l+n+r*d,m-r*d,l+n,m+r,r);b.lineTo(l+n,m+p-t);b.arcTo(l+n+t*f,m+p+t*f,l+n-t,m+p,t);b.lineTo(l+u,m+p);b.arcTo(l-u*h,m+p+u*h,l,m+p-u,u);b.lineTo(l,m+q);b.arcTo(l-q*c,m-q*c,l+q,m,q);b.closePath()};(a.Circle=function(b,a,c){this.x=b;this.y=a;this.radius=c}).prototype.exec=function(b){b.arc(this.x,
this.y,this.radius,0,2*Math.PI)};(a.Ellipse=function(b,a,c,d){this.x=b;this.y=a;this.w=c;this.h=d}).prototype.exec=function(b){var a=this.x,c=this.y,d=this.w,f=this.h,h=d/2*.5522848,l=f/2*.5522848,m=a+d,n=c+f,d=a+d/2,f=c+f/2;b.moveTo(a,f);b.bezierCurveTo(a,f-l,d-h,c,d,c);b.bezierCurveTo(d+h,c,m,f-l,m,f);b.bezierCurveTo(m,f+l,d+h,n,d,n);b.bezierCurveTo(d-h,n,a,f+l,a,f)};(a.PolyStar=function(b,a,c,d,f,h){this.x=b;this.y=a;this.radius=c;this.sides=d;this.pointSize=f;this.angle=h}).prototype.exec=function(b){var a=
this.x,c=this.y,d=this.radius,f=(this.angle||0)/180*Math.PI,h=this.sides,l=1-(this.pointSize||0),m=Math.PI/h;b.moveTo(a+Math.cos(f)*d,c+Math.sin(f)*d);for(var n=0;h>n;n++)f+=m,1!=l&&b.lineTo(a+Math.cos(f)*d*l,c+Math.sin(f)*d*l),f+=m,b.lineTo(a+Math.cos(f)*d,c+Math.sin(f)*d);b.closePath()};a.beginCmd=new a.BeginPath;createjs.Graphics=a})();this.createjs=this.createjs||{};
(function(){function a(){this.EventDispatcher_constructor();this.alpha=1;this.cacheCanvas=null;this.cacheID=0;this.id=createjs.UID.get();this.tickEnabled=this.mouseEnabled=!0;this.parent=this.name=null;this.rotation=this.regY=this.regX=0;this.scaleY=this.scaleX=1;this.skewY=this.skewX=0;this.shadow=null;this.visible=!0;this.y=this.x=0;this.compositeOperation=this.transformMatrix=null;this.snapToPixel=!0;this.cursor=this.hitArea=this.mask=this.filters=null;this._filterOffsetY=this._filterOffsetX=this._cacheOffsetY=
this._cacheOffsetX=0;this._cacheScale=1;this._cacheDataURLID=0;this._cacheDataURL=null;this._props=new createjs.DisplayProps;this._rectangle=new createjs.Rectangle;this._bounds=null}var c=createjs.extend(a,createjs.EventDispatcher);a._MOUSE_EVENTS="click dblclick mousedown mouseout mouseover pressmove pressup rollout rollover".split(" ");a.suppressCrossDomainErrors=!1;a._snapToPixelEnabled=!1;var b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(a._hitTestCanvas=
b,a._hitTestContext=b.getContext("2d"),b.width=b.height=1);a._nextCacheID=1;c.getStage=function(){for(var b=this,a=createjs.Stage;b.parent;)b=b.parent;return b instanceof a?b:null};try{Object.defineProperties(c,{stage:{get:c.getStage}})}catch(g){}c.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};c.draw=function(b,a){var c=this.cacheCanvas;if(a||!c)return!1;var d=this._cacheScale;return b.drawImage(c,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+
this._filterOffsetY,c.width/d,c.height/d),!0};c.updateContext=function(b){var c=this.mask,e=this._props.matrix;c&&c.graphics&&!c.graphics.isEmpty()&&(c.getMatrix(e),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),c.graphics.drawAsPath(b),b.clip(),e.invert(),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty));this.getMatrix(e);var c=e.tx,d=e.ty;a._snapToPixelEnabled&&this.snapToPixel&&(c=c+(0>c?-.5:.5)|0,d=d+(0>d?-.5:.5)|0);b.transform(e.a,e.b,e.c,e.d,c,d);b.globalAlpha*=this.alpha;this.compositeOperation&&(b.globalCompositeOperation=
this.compositeOperation);this.shadow&&this._applyShadow(b,this.shadow)};c.cache=function(b,a,c,d,f){f=f||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=c;this._cacheHeight=d;this._cacheOffsetX=b;this._cacheOffsetY=a;this._cacheScale=f;this.updateCache()};c.updateCache=function(b){var c=this.cacheCanvas;if(!c)throw"cache() must be called before updateCache()";var e=this._cacheScale,d=this._cacheOffsetX*e,f=this._cacheOffsetY*
e,h=this._cacheWidth,l=this._cacheHeight,m=c.getContext("2d"),n=this._getFilterBounds(),d=d+(this._filterOffsetX=n.x),f=f+(this._filterOffsetY=n.y),h=Math.ceil(h*e)+n.width,l=Math.ceil(l*e)+n.height;h!=c.width||l!=c.height?(c.width=h,c.height=l):b||m.clearRect(0,0,h+1,l+1);m.save();m.globalCompositeOperation=b;m.setTransform(e,0,0,e,-d,-f);this.draw(m,!0);this._applyFilters();m.restore();this.cacheID=a._nextCacheID++};c.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=
this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0;this._cacheScale=1};c.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};c.localToGlobal=function(b,a,c){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(b,a,c||new createjs.Point)};c.globalToLocal=function(b,a,c){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(b,a,c||new createjs.Point)};
c.localToLocal=function(b,a,c,d){return d=this.localToGlobal(b,a,d),c.globalToLocal(d.x,d.y,d)};c.setTransform=function(b,a,c,d,f,h,l,m,n){return this.x=b||0,this.y=a||0,this.scaleX=null==c?1:c,this.scaleY=null==d?1:d,this.rotation=f||0,this.skewX=h||0,this.skewY=l||0,this.regX=m||0,this.regY=n||0,this};c.getMatrix=function(b){b=b&&b.identity()||new createjs.Matrix2D;return this.transformMatrix?b.copy(this.transformMatrix):b.appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,
this.skewY,this.regX,this.regY)};c.getConcatenatedMatrix=function(b){var a=this;for(b=this.getMatrix(b);a=a.parent;)b.prependMatrix(a.getMatrix(a._props.matrix));return b};c.getConcatenatedDisplayProps=function(b){b=b?b.identity():new createjs.DisplayProps;var a=this,c=a.getMatrix(b.matrix);do b.prepend(a.visible,a.alpha,a.shadow,a.compositeOperation),a!=this&&c.prependMatrix(a.getMatrix(a._props.matrix));while(a=a.parent);return b};c.hitTest=function(b,c){var e=a._hitTestContext;e.setTransform(1,
0,0,1,-b,-c);this.draw(e);var d=this._testHit(e);return e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,2,2),d};c.set=function(b){for(var a in b)this[a]=b[a];return this};c.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var b=this.cacheCanvas;if(b){var a=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,b.width/a,b.height/a)}return null};c.getTransformedBounds=function(){return this._getBounds()};c.setBounds=function(b,a,c,d){null==
b&&(this._bounds=b);this._bounds=(this._bounds||new createjs.Rectangle).setValues(b,a,c,d)};c.clone=function(){return this._cloneProps(new a)};c.toString=function(){return"[DisplayObject (name="+this.name+")]"};c._cloneProps=function(b){return b.alpha=this.alpha,b.mouseEnabled=this.mouseEnabled,b.tickEnabled=this.tickEnabled,b.name=this.name,b.regX=this.regX,b.regY=this.regY,b.rotation=this.rotation,b.scaleX=this.scaleX,b.scaleY=this.scaleY,b.shadow=this.shadow,b.skewX=this.skewX,b.skewY=this.skewY,
b.visible=this.visible,b.x=this.x,b.y=this.y,b.compositeOperation=this.compositeOperation,b.snapToPixel=this.snapToPixel,b.filters=null==this.filters?null:this.filters.slice(0),b.mask=this.mask,b.hitArea=this.hitArea,b.cursor=this.cursor,b._bounds=this._bounds,b};c._applyShadow=function(b,a){a=a||Shadow.identity;b.shadowColor=a.color;b.shadowOffsetX=a.offsetX;b.shadowOffsetY=a.offsetY;b.shadowBlur=a.blur};c._tick=function(b){var a=this._listeners;a&&a.tick&&(b.target=null,b.propagationStopped=b.immediatePropagationStopped=
!1,this.dispatchEvent(b))};c._testHit=function(b){try{var c=1<b.getImageData(0,0,1,1).data[3]}catch(e){if(!a.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return c};c._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var b=this.filters.length,a=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,d=this.cacheCanvas.height,f=0;b>f;f++)this.filters[f].applyFilter(a,
0,0,c,d)};c._getFilterBounds=function(){var b,a=this.filters,c=this._rectangle.setValues(0,0,0,0);if(!a||!(b=a.length))return c;for(a=0;b>a;a++){var d=this.filters[a];d.getBounds&&d.getBounds(c)}return c};c._getBounds=function(b,a){return this._transformBounds(this.getBounds(),b,a)};c._transformBounds=function(b,a,c){if(!b)return b;var d=b.x,f=b.y,h=b.width,l=b.height,m=this._props.matrix,m=c?m.identity():this.getMatrix(m);(d||f)&&m.appendTransform(0,0,1,1,0,0,0,-d,-f);a&&m.prependMatrix(a);a=h*m.a;
h*=m.b;c=l*m.c;var l=l*m.d,n=m.tx,m=m.ty,p=n,q=n,r=m,t=m;return(d=a+n)<p?p=d:d>q&&(q=d),(d=a+c+n)<p?p=d:d>q&&(q=d),(d=c+n)<p?p=d:d>q&&(q=d),(f=h+m)<r?r=f:f>t&&(t=f),(f=h+l+m)<r?r=f:f>t&&(t=f),(f=l+m)<r?r=f:f>t&&(t=f),b.setValues(p,r,q-p,t-r)};c._hasMouseEventListener=function(){for(var b=a._MOUSE_EVENTS,c=0,e=b.length;e>c;c++)if(this.hasEventListener(b[c]))return!0;return!!this.cursor};createjs.DisplayObject=createjs.promote(a,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function a(){this.DisplayObject_constructor();this.children=[];this.tickChildren=this.mouseChildren=!0}var c=createjs.extend(a,createjs.DisplayObject);c.getNumChildren=function(){return this.children.length};try{Object.defineProperties(c,{numChildren:{get:c.getNumChildren}})}catch(b){}c.initialize=a;c.isVisible=function(){var b=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};c.draw=function(b,a){if(this.DisplayObject_draw(b,
a))return!0;for(var c=this.children.slice(),e=0,d=c.length;d>e;e++){var f=c[e];f.isVisible()&&(b.save(),f.updateContext(b),f.draw(b),b.restore())}return!0};c.addChild=function(b){if(null==b)return b;var a=arguments.length;if(1<a){for(var c=0;a>c;c++)this.addChild(arguments[c]);return arguments[a-1]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.push(b),b.dispatchEvent("added"),b};c.addChildAt=function(b,a){var c=arguments.length,e=arguments[c-1];if(0>e||e>this.children.length)return arguments[c-
2];if(2<c){for(var d=0;c-1>d;d++)this.addChildAt(arguments[d],e+d);return arguments[c-2]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.splice(a,0,b),b.dispatchEvent("added"),b};c.removeChild=function(b){var a=arguments.length;if(1<a){for(var c=!0,e=0;a>e;e++)c=c&&this.removeChild(arguments[e]);return c}return this.removeChildAt(createjs.indexOf(this.children,b))};c.removeChildAt=function(b){var a=arguments.length;if(1<a){for(var c=[],e=0;a>e;e++)c[e]=arguments[e];c.sort(function(b,
a){return a-b});for(var d=!0,e=0;a>e;e++)d=d&&this.removeChildAt(c[e]);return d}if(0>b||b>this.children.length-1)return!1;a=this.children[b];return a&&(a.parent=null),this.children.splice(b,1),a.dispatchEvent("removed"),!0};c.removeAllChildren=function(){for(var b=this.children;b.length;)this.removeChildAt(0)};c.getChildAt=function(b){return this.children[b]};c.getChildByName=function(b){for(var a=this.children,c=0,e=a.length;e>c;c++)if(a[c].name==b)return a[c];return null};c.sortChildren=function(b){this.children.sort(b)};
c.getChildIndex=function(b){return createjs.indexOf(this.children,b)};c.swapChildrenAt=function(b,a){var c=this.children,e=c[b],d=c[a];e&&d&&(c[b]=d,c[a]=e)};c.swapChildren=function(b,a){for(var c,e,d=this.children,f=0,h=d.length;h>f&&(d[f]==b&&(c=f),d[f]==a&&(e=f),null==c||null==e);f++);f!=h&&(d[c]=a,d[e]=b)};c.setChildIndex=function(b,a){var c=this.children,e=c.length;if(!(b.parent!=this||0>a||a>=e)){for(var d=0;e>d&&c[d]!=b;d++);d!=e&&d!=a&&(c.splice(d,1),c.splice(a,0,b))}};c.contains=function(b){for(;b;){if(b==
this)return!0;b=b.parent}return!1};c.hitTest=function(b,a){return null!=this.getObjectUnderPoint(b,a)};c.getObjectsUnderPoint=function(b,a,c){var e=[];b=this.localToGlobal(b,a);return this._getObjectsUnderPoint(b.x,b.y,e,0<c,1==c),e};c.getObjectUnderPoint=function(b,a,c){b=this.localToGlobal(b,a);return this._getObjectsUnderPoint(b.x,b.y,null,0<c,1==c)};c.getBounds=function(){return this._getBounds(null,!0)};c.getTransformedBounds=function(){return this._getBounds()};c.clone=function(b){var c=this._cloneProps(new a);
return b&&this._cloneChildren(c),c};c.toString=function(){return"[Container (name="+this.name+")]"};c._tick=function(b){if(this.tickChildren)for(var a=this.children.length-1;0<=a;a--){var c=this.children[a];c.tickEnabled&&c._tick&&c._tick(b)}this.DisplayObject__tick(b)};c._cloneChildren=function(b){b.children.length&&b.removeAllChildren();for(var a=b.children,c=0,e=this.children.length;e>c;c++){var d=this.children[c].clone(!0);d.parent=b;a.push(d)}};c._getObjectsUnderPoint=function(b,c,k,e,d,f){if(f=
f||0,!f&&!this._testMask(this,b,c))return null;var h,l=createjs.DisplayObject._hitTestContext;d=d||e&&this._hasMouseEventListener();for(var m=this.children,n=m.length-1;0<=n;n--){var p=m[n],q=p.hitArea;if(p.visible&&(q||p.isVisible())&&(!e||p.mouseEnabled)&&(q||this._testMask(p,b,c)))if(!q&&p instanceof a){if(p=p._getObjectsUnderPoint(b,c,k,e,d,f+1),!k&&p)return e&&!this.mouseChildren?this:p}else if(!e||d||p._hasMouseEventListener()){var r=p.getConcatenatedDisplayProps(p._props);if(h=r.matrix,q&&
(h.appendMatrix(q.getMatrix(q._props.matrix)),r.alpha=q.alpha),l.globalAlpha=r.alpha,l.setTransform(h.a,h.b,h.c,h.d,h.tx-b,h.ty-c),(q||p).draw(l),this._testHit(l)){if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!k)return e&&!this.mouseChildren?this:p;k.push(p)}}}return null};c._testMask=function(b,a,c){var e=b.mask;if(!e||!e.graphics||e.graphics.isEmpty())return!0;var d=this._props.matrix,d=(b=b.parent)?b.getConcatenatedMatrix(d):d.identity(),d=e.getMatrix(e._props.matrix).prependMatrix(d);b=
createjs.DisplayObject._hitTestContext;return b.setTransform(d.a,d.b,d.c,d.d,d.tx-a,d.ty-c),e.graphics.drawAsPath(b),b.fillStyle="#000",b.fill(),this._testHit(b)?(b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,2,2),!0):!1};c._getBounds=function(b,a){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,b,a);var e=this._props.matrix,e=a?e.identity():this.getMatrix(e);b&&e.prependMatrix(b);for(var d=this.children.length,f=null,h=0;d>h;h++){var l=this.children[h];l.visible&&(c=l._getBounds(e))&&
(f?f.extend(c.x,c.y,c.width,c.height):f=c.clone())}return f};createjs.Container=createjs.promote(a,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function a(b){this.Container_constructor();this.autoClear=!0;this.canvas="string"==typeof b?document.getElementById(b):b;this.mouseY=this.mouseX=0;this.drawRect=null;this.mouseInBounds=this.snapToPixelEnabled=!1;this.tickOnUpdate=!0;this.mouseMoveOutside=!1;this.preventSelection=!0;this._pointerData={};this._pointerCount=0;this._prevStage=this._nextStage=this._mouseOverIntervalID=this._primaryPointerID=null;this.enableDOMEvents(!0)}var c=createjs.extend(a,createjs.Container);c._get_nextStage=
function(){return this._nextStage};c._set_nextStage=function(b){this._nextStage&&(this._nextStage._prevStage=null);b&&(b._prevStage=this);this._nextStage=b};try{Object.defineProperties(c,{nextStage:{get:c._get_nextStage,set:c._set_nextStage}})}catch(b){}c.update=function(b){if(this.canvas&&(this.tickOnUpdate&&this.tick(b),!1!==this.dispatchEvent("drawstart",!1,!0))){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;b=this.drawRect;var a=this.canvas.getContext("2d");a.setTransform(1,
0,0,1,0,0);this.autoClear&&(b?a.clearRect(b.x,b.y,b.width,b.height):a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1));a.save();this.drawRect&&(a.beginPath(),a.rect(b.x,b.y,b.width,b.height),a.clip());this.updateContext(a);this.draw(a,!1);a.restore();this.dispatchEvent("drawend")}};c.tick=function(b){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var a=new createjs.Event("tick");if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);this._tick(a);this.dispatchEvent("tickend")}};
c.handleEvent=function(b){"tick"==b.type&&this.update(b)};c.clear=function(){if(this.canvas){var b=this.canvas.getContext("2d");b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};c.toDataURL=function(b,a){var c,e=this.canvas.getContext("2d"),d=this.canvas.width,f=this.canvas.height;if(b){c=e.getImageData(0,0,d,f);var h=e.globalCompositeOperation;e.globalCompositeOperation="destination-over";e.fillStyle=b;e.fillRect(0,0,d,f)}d=this.canvas.toDataURL(a||"image/png");
return b&&(e.putImageData(c,0,0),e.globalCompositeOperation=h),d};c.enableMouseOver=function(b){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==b&&this._testMouseOver(!0)),null==b)b=20;else if(0>=b)return;var a=this;this._mouseOverIntervalID=setInterval(function(){a._testMouseOver()},1E3/Math.min(50,b))};c.enableDOMEvents=function(b){null==b&&(b=!0);var a,c=this._eventListeners;if(!b&&c){for(a in c)b=c[a],b.t.removeEventListener(a,b.f,!1);
this._eventListeners=null}else if(b&&!c&&this.canvas){b=window.addEventListener?window:document;var e=this,c=this._eventListeners={};c.mouseup={t:b,f:function(b){e._handleMouseUp(b)}};c.mousemove={t:b,f:function(b){e._handleMouseMove(b)}};c.dblclick={t:this.canvas,f:function(b){e._handleDoubleClick(b)}};c.mousedown={t:this.canvas,f:function(b){e._handleMouseDown(b)}};for(a in c)b=c[a],b.t.addEventListener(a,b.f,!1)}};c.clone=function(){throw"Stage cannot be cloned.";};c.toString=function(){return"[Stage (name="+
this.name+")]"};c._getElementRect=function(b){var a;try{a=b.getBoundingClientRect()}catch(c){a={top:b.offsetTop,left:b.offsetLeft,width:b.offsetWidth,height:b.offsetHeight}}var k=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),d=window.getComputedStyle?getComputedStyle(b,null):b.currentStyle;b=parseInt(d.paddingLeft)+parseInt(d.borderLeftWidth);var f=parseInt(d.paddingTop)+
parseInt(d.borderTopWidth),h=parseInt(d.paddingRight)+parseInt(d.borderRightWidth),d=parseInt(d.paddingBottom)+parseInt(d.borderBottomWidth);return{left:a.left+k+b,right:a.right+k-h,top:a.top+e+f,bottom:a.bottom+e-d}};c._getPointerData=function(b){var a=this._pointerData[b];return a||(a=this._pointerData[b]={x:0,y:0}),a};c._handleMouseMove=function(b){b||(b=window.event);this._handlePointerMove(-1,b,b.pageX,b.pageY)};c._handlePointerMove=function(b,a,c,e,d){if((!this._prevStage||void 0!==d)&&this.canvas){d=
this._nextStage;var f=this._getPointerData(b),h=f.inBounds;this._updatePointerPosition(b,a,c,e);(h||f.inBounds||this.mouseMoveOutside)&&(-1===b&&f.inBounds==!h&&this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",!1,b,f,a),this._dispatchMouseEvent(this,"stagemousemove",!1,b,f,a),this._dispatchMouseEvent(f.target,"pressmove",!0,b,f,a));d&&d._handlePointerMove(b,a,c,e,null)}};c._updatePointerPosition=function(b,a,c,e){var d=this._getElementRect(this.canvas);c-=d.left;e-=d.top;var f=this.canvas.width,
h=this.canvas.height;c/=(d.right-d.left)/f;e/=(d.bottom-d.top)/h;d=this._getPointerData(b);(d.inBounds=0<=c&&0<=e&&f-1>=c&&h-1>=e)?(d.x=c,d.y=e):this.mouseMoveOutside&&(d.x=0>c?0:c>f-1?f-1:c,d.y=0>e?0:e>h-1?h-1:e);d.posEvtObj=a;d.rawX=c;d.rawY=e;(b===this._primaryPointerID||-1===b)&&(this.mouseX=d.x,this.mouseY=d.y,this.mouseInBounds=d.inBounds)};c._handleMouseUp=function(b){this._handlePointerUp(-1,b,!1)};c._handlePointerUp=function(b,a,c,e){var d=this._nextStage,f=this._getPointerData(b);if(!this._prevStage||
void 0!==e){var h=null,l=f.target;e||!l&&!d||(h=this._getObjectsUnderPoint(f.x,f.y,null,!0));f.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,b,f,a,h),f.down=!1);h==l&&this._dispatchMouseEvent(l,"click",!0,b,f,a);this._dispatchMouseEvent(l,"pressup",!0,b,f,a);c?(b==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[b]):f.target=null;d&&d._handlePointerUp(b,a,c,e||h&&this)}};c._handleMouseDown=function(b){this._handlePointerDown(-1,b,b.pageX,b.pageY)};c._handlePointerDown=
function(b,a,c,e,d){this.preventSelection&&a.preventDefault();null!=this._primaryPointerID&&-1!==b||(this._primaryPointerID=b);null!=e&&this._updatePointerPosition(b,a,c,e);var f=null,h=this._nextStage,l=this._getPointerData(b);d||(f=l.target=this._getObjectsUnderPoint(l.x,l.y,null,!0));l.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,b,l,a,f),l.down=!0);this._dispatchMouseEvent(f,"mousedown",!0,b,l,a);h&&h._handlePointerDown(b,a,c,e,d||f&&this)};c._testMouseOver=function(b,a,c){if(!this._prevStage||
void 0!==a){var e=this._nextStage;if(!this._mouseOverIntervalID)return void(e&&e._testMouseOver(b,a,c));var d=this._getPointerData(-1);if(d&&(b||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var f,h,l=d.posEvtObj,m=c||l&&l.target==this.canvas,n=null,p=-1;h="";!a&&(b||this.mouseInBounds&&m)&&(n=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var q=this._mouseOverTarget||[],r=q[q.length-1],t=
this._mouseOverTarget=[];for(f=n;f;)t.unshift(f),h||(h=f.cursor),f=f.parent;this.canvas.style.cursor=h;!a&&c&&(c.canvas.style.cursor=h);f=0;for(h=t.length;h>f&&t[f]==q[f];f++)p=f;r!=n&&this._dispatchMouseEvent(r,"mouseout",!0,-1,d,l,n);for(f=q.length-1;f>p;f--)this._dispatchMouseEvent(q[f],"rollout",!1,-1,d,l,n);for(f=t.length-1;f>p;f--)this._dispatchMouseEvent(t[f],"rollover",!1,-1,d,l,r);r!=n&&this._dispatchMouseEvent(n,"mouseover",!0,-1,d,l,r);e&&e._testMouseOver(b,a||n&&this,c||m&&this)}}};c._handleDoubleClick=
function(b,a){var c=null,e=this._nextStage,d=this._getPointerData(-1);a||(c=this._getObjectsUnderPoint(d.x,d.y,null,!0),this._dispatchMouseEvent(c,"dblclick",!0,-1,d,b));e&&e._handleDoubleClick(b,a||c&&this)};c._dispatchMouseEvent=function(b,a,c,e,d,f,h){b&&(c||b.hasEventListener(a))&&(a=new createjs.MouseEvent(a,c,!1,d.x,d.y,f,e,e===this._primaryPointerID||-1===e,d.rawX,d.rawY,h),b.dispatchEvent(a))};createjs.Stage=createjs.promote(a,"Container")})();this.createjs=this.createjs||{};
(function(){function a(b){this.DisplayObject_constructor();"string"==typeof b?(this.image=document.createElement("img"),this.image.src=b):this.image=b;this.sourceRect=null}var c=createjs.extend(a,createjs.DisplayObject);c.initialize=a;c.isVisible=function(){var b=this.image,b=this.cacheCanvas||b&&(b.naturalWidth||b.getContext||2<=b.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};c.draw=function(b,a){if(this.DisplayObject_draw(b,a)||!this.image)return!0;var c=this.image,
e=this.sourceRect;if(e){var d=e.x,f=e.y,h=d+e.width,e=f+e.height,l=0,m=0,n=c.width,p=c.height;0>d&&(l-=d,d=0);h>n&&(h=n);0>f&&(m-=f,f=0);e>p&&(e=p);b.drawImage(c,d,f,h-d,e-f,l,m,h-d,e-f)}else b.drawImage(c,0,0);return!0};c.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;var b=this.image,a=this.sourceRect||b;return b&&(b.naturalWidth||b.getContext||2<=b.readyState)?this._rectangle.setValues(0,0,a.width,a.height):null};c.clone=function(){var b=new a(this.image);return this.sourceRect&&
(b.sourceRect=this.sourceRect.clone()),this._cloneProps(b),b};c.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=createjs.promote(a,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function a(b,a){this.DisplayObject_constructor();this.currentFrame=0;this.currentAnimation=null;this.paused=!0;this.spriteSheet=b;this.framerate=this.currentAnimationFrame=0;this._currentFrame=this._animation=null;this._skipAdvance=!1;null!=a&&this.gotoAndPlay(a)}var c=createjs.extend(a,createjs.DisplayObject);c.initialize=a;c.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};c.draw=function(b,
a){if(this.DisplayObject_draw(b,a))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var e=c.rect;return e.width&&e.height&&b.drawImage(c.image,e.x,e.y,e.width,e.height,-c.regX,-c.regY,e.width,e.height),!0};c.play=function(){this.paused=!1};c.stop=function(){this.paused=!0};c.gotoAndPlay=function(b){this.paused=!1;this._skipAdvance=!0;this._goto(b)};c.gotoAndStop=function(b){this.paused=!0;this._goto(b)};c.advance=function(b){var a=this.framerate||
this.spriteSheet.framerate;this._normalizeFrame(a&&null!=b?b/(1E3/a):1)};c.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};c.clone=function(){return this._cloneProps(new a(this.spriteSheet))};c.toString=function(){return"[Sprite (name="+this.name+")]"};c._cloneProps=function(b){return this.DisplayObject__cloneProps(b),b.currentFrame=this.currentFrame,b.currentAnimation=this.currentAnimation,b.paused=this.paused,b.currentAnimationFrame=
this.currentAnimationFrame,b.framerate=this.framerate,b._animation=this._animation,b._currentFrame=this._currentFrame,b._skipAdvance=this._skipAdvance,b};c._tick=function(b){this.paused||(this._skipAdvance||this.advance(b&&b.delta),this._skipAdvance=!1);this.DisplayObject__tick(b)};c._normalizeFrame=function(b){b=b||0;var a,c=this._animation,e=this.paused,d=this._currentFrame;if(c){var f=c.speed||1,h=this.currentAnimationFrame;if(a=c.frames.length,h+b*f>=a){var l=c.next;if(this._dispatchAnimationEnd(c,
d,e,l,a-1))return;if(l)return this._goto(l,b-(a-h)/f);this.paused=!0;h=c.frames.length-1}else h+=b*f;this.currentAnimationFrame=h;this._currentFrame=c.frames[0|h]}else if(d=this._currentFrame+=b,a=this.spriteSheet.getNumFrames(),d>=a&&0<a&&!this._dispatchAnimationEnd(c,d,e,a-1)&&(this._currentFrame-=a)>=a)return this._normalizeFrame();d=0|this._currentFrame;this.currentFrame!=d&&(this.currentFrame=d,this.dispatchEvent("change"))};c._dispatchAnimationEnd=function(b,a,c,e,d){var f=b?b.name:null;if(this.hasEventListener("animationend")){var h=
new createjs.Event("animationend");h.name=f;h.next=e;this.dispatchEvent(h)}b=this._animation!=b||this._currentFrame!=a;return b||c||!this.paused||(this.currentAnimationFrame=d,b=!0),b};c._goto=function(b,a){if(this.currentAnimationFrame=0,isNaN(b)){var c=this.spriteSheet.getAnimation(b);c&&(this._animation=c,this.currentAnimation=b,this._normalizeFrame(a))}else this.currentAnimation=this._animation=null,this._currentFrame=b,this._normalizeFrame()};createjs.Sprite=createjs.promote(a,"DisplayObject")})();
this.createjs=this.createjs||{};
(function(){function a(b){this.DisplayObject_constructor();this.graphics=b?b:new createjs.Graphics}var c=createjs.extend(a,createjs.DisplayObject);c.isVisible=function(){var b=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};c.draw=function(b,a){return this.DisplayObject_draw(b,a)?!0:(this.graphics.draw(b,this),!0)};c.clone=function(b){b=b&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new a(b))};
c.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=createjs.promote(a,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function a(b,a,c){this.DisplayObject_constructor();this.text=b;this.font=a;this.color=c;this.textAlign="left";this.textBaseline="top";this.maxWidth=null;this.lineHeight=this.outline=0;this.lineWidth=null}var c=createjs.extend(a,createjs.DisplayObject),b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(a._workingContext=b.getContext("2d"),b.width=b.height=1);a.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1};a.V_OFFSETS={top:0,hanging:-.01,
middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1};c.isVisible=function(){var b=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};c.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;var c=this.color||"#000";return this.outline?(b.strokeStyle=c,b.lineWidth=1*this.outline):b.fillStyle=c,this._drawText(this._prepContext(b)),!0};c.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)};c.getMeasuredLineHeight=
function(){return 1.2*this._getMeasuredWidth("M")};c.getMeasuredHeight=function(){return this._drawText(null,{}).height};c.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;if(null==this.text||""===this.text)return null;var b=this._drawText(null,{}),c=this.maxWidth&&this.maxWidth<b.width?this.maxWidth:b.width,e=c*a.H_OFFSETS[this.textAlign||"left"],d=(this.lineHeight||this.getMeasuredLineHeight())*a.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,d,c,b.height)};
c.getMetrics=function(){var b={lines:[]};return b.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),b.vOffset=b.lineHeight*a.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,b,b.lines)};c.clone=function(){return this._cloneProps(new a(this.text,this.font,this.color))};c.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};c._cloneProps=function(b){return this.DisplayObject__cloneProps(b),b.textAlign=this.textAlign,b.textBaseline=
this.textBaseline,b.maxWidth=this.maxWidth,b.outline=this.outline,b.lineHeight=this.lineHeight,b.lineWidth=this.lineWidth,b};c._prepContext=function(b){return b.font=this.font||"10px sans-serif",b.textAlign=this.textAlign||"left",b.textBaseline=this.textBaseline||"top",b};c._drawText=function(b,c,e){var d=!!b;d||(b=a._workingContext,b.save(),this._prepContext(b));for(var f=this.lineHeight||this.getMeasuredLineHeight(),h=0,l=0,m=String(this.text).split(/(?:\r\n|\r|\n)/),n=0,p=m.length;p>n;n++){var q=
m[n],r=null;if(null!=this.lineWidth&&(r=b.measureText(q).width)>this.lineWidth)for(var t=q.split(/(\s)/),q=t[0],r=b.measureText(q).width,u=1,w=t.length;w>u;u+=2){var v=b.measureText(t[u]+t[u+1]).width;r+v>this.lineWidth?(d&&this._drawTextLine(b,q,l*f),e&&e.push(q),r>h&&(h=r),q=t[u+1],r=b.measureText(q).width,l++):(q+=t[u]+t[u+1],r+=v)}d&&this._drawTextLine(b,q,l*f);e&&e.push(q);c&&null==r&&(r=b.measureText(q).width);r>h&&(h=r);l++}return c&&(c.width=h,c.height=l*f),d||b.restore(),c};c._drawTextLine=
function(b,a,c){this.outline?b.strokeText(a,0,c,this.maxWidth||65535):b.fillText(a,0,c,this.maxWidth||65535)};c._getMeasuredWidth=function(b){var c=a._workingContext;c.save();b=this._prepContext(c).measureText(b).width;return c.restore(),b};createjs.Text=createjs.promote(a,"DisplayObject")})();this.createjs=this.createjs||{};
(function(){function a(b,a){this.Container_constructor();this.text=b||"";this.spriteSheet=a;this.spaceWidth=this.letterSpacing=this.lineHeight=0;this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var c=createjs.extend(a,createjs.Container);a.maxPoolSize=100;a._spritePool=[];c.draw=function(b,a){this.DisplayObject_draw(b,a)||(this._updateText(),this.Container_draw(b,a))};c.getBounds=function(){return this._updateText(),this.Container_getBounds()};c.isVisible=function(){var b=
this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&0<this.alpha&&0!==this.scaleX&&0!==this.scaleY&&b)};c.clone=function(){return this._cloneProps(new a(this.text,this.spriteSheet))};c.addChild=c.addChildAt=c.removeChild=c.removeChildAt=c.removeAllChildren=function(){};c._cloneProps=function(b){return this.Container__cloneProps(b),b.lineHeight=this.lineHeight,b.letterSpacing=this.letterSpacing,b.spaceWidth=this.spaceWidth,b};c._getFrameIndex=function(b,
a){var c,e=a.getAnimation(b);return e||(b!=(c=b.toUpperCase())||b!=(c=b.toLowerCase())||(c=null),c&&(e=a.getAnimation(c))),e&&e.frames[0]};c._getFrame=function(b,a){var c=this._getFrameIndex(b,a);return null==c?c:a.getFrame(c)};c._getLineHeight=function(b){return(b=this._getFrame("1",b)||this._getFrame("T",b)||this._getFrame("L",b)||b.getFrame(0))?b.rect.height:1};c._getSpaceWidth=function(b){return(b=this._getFrame("1",b)||this._getFrame("l",b)||this._getFrame("e",b)||this._getFrame("a",b)||b.getFrame(0))?
b.rect.width:1};c._updateText=function(){var b,c=0,k=0,e=this._oldProps,d=!1,f=this.spaceWidth,h=this.lineHeight,l=this.spriteSheet,m=a._spritePool,n=this.children,p=0,q=n.length,r;for(r in e)e[r]!=this[r]&&(e[r]=this[r],d=!0);if(d){(e=!!this._getFrame(" ",l))||f||(f=this._getSpaceWidth(l));h||(h=this._getLineHeight(l));d=0;for(r=this.text.length;r>d;d++){var t=this.text.charAt(d);" "!=t||e?"\n"!=t&&"\r"!=t?(t=this._getFrameIndex(t,l),null!=t&&(q>p?b=n[p]:(n.push(b=m.length?m.pop():new createjs.Sprite),
b.parent=this,q++),b.spriteSheet=l,b.gotoAndStop(t),b.x=c,b.y=k,p++,c+=b.getBounds().width+this.letterSpacing)):("\r"==t&&"\n"==this.text.charAt(d+1)&&d++,c=0,k+=h):c+=f}for(;q>p;)m.push(b=n.pop()),b.parent=null,q--;m.length>a.maxPoolSize&&(m.length=a.maxPoolSize)}};createjs.BitmapText=createjs.promote(a,"Container")})();this.createjs=this.createjs||{};
(function(){function a(b,c,e,d){this.Container_constructor();!a.inited&&a.init();this.mode=b||a.INDEPENDENT;this.startPosition=c||0;this.loop=e;this.currentFrame=0;this.timeline=new createjs.Timeline(null,d,{paused:!0,position:c,useTicks:!0});this.paused=!1;this.autoReset=this.actionsEnabled=!0;this.frameBounds=this.frameBounds||null;this.framerate=null;this._synchOffset=0;this._prevPos=-1;this._t=this._prevPosition=0;this._managed={}}function c(){throw"MovieClipPlugin cannot be instantiated.";}var b=
createjs.extend(a,createjs.Container);a.INDEPENDENT="independent";a.SINGLE_FRAME="single";a.SYNCHED="synched";a.inited=!1;a.init=function(){a.inited||(c.install(),a.inited=!0)};b.getLabels=function(){return this.timeline.getLabels()};b.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()};b.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(b,{labels:{get:b.getLabels},currentLabel:{get:b.getCurrentLabel},totalFrames:{get:b.getDuration},
duration:{get:b.getDuration}})}catch(g){}b.initialize=a;b.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};b.draw=function(b,a){return this.DisplayObject_draw(b,a)?!0:(this._updateTimeline(),this.Container_draw(b,a),!0)};b.play=function(){this.paused=!1};b.stop=function(){this.paused=!0};b.gotoAndPlay=function(b){this.paused=!1;this._goto(b)};b.gotoAndStop=function(b){this.paused=!0;this._goto(b)};b.advance=function(b){var c=a.INDEPENDENT;if(this.mode==c){for(var e=
this,d=e.framerate;(e=e.parent)&&null==d;)e.mode==c&&(d=e._framerate);this._framerate=d;b=null!=d&&-1!=d&&null!=b?b/(1E3/d)+this._t:1;c=0|b;for(this._t=b-c;!this.paused&&c--;)this._prevPosition=0>this._prevPos?0:this._prevPosition+1,this._updateTimeline()}};b.clone=function(){throw"MovieClip cannot be cloned.";};b.toString=function(){return"[MovieClip (name="+this.name+")]"};b._tick=function(b){this.advance(b&&b.delta);this.Container__tick(b)};b._goto=function(b){b=this.timeline.resolve(b);null!=
b&&(-1==this._prevPos&&(this._prevPos=0/0),this._prevPosition=b,this._t=0,this._updateTimeline())};b._reset=function(){this._prevPos=-1;this._t=this.currentFrame=0;this.paused=!1};b._updateTimeline=function(){var b=this.timeline,c=this.mode!=a.INDEPENDENT;b.loop=null==this.loop?!0:this.loop;var e=c?this.startPosition+(this.mode==a.SINGLE_FRAME?0:this._synchOffset):0>this._prevPos?0:this._prevPosition,c=c||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=b._calcPosition(e),b.setPosition(e,
c),this._prevPosition=b._prevPosition,this._prevPos!=b._prevPos){this.currentFrame=this._prevPos=b._prevPos;for(var d in this._managed)this._managed[d]=1;e=b._tweens;b=0;for(d=e.length;d>b;b++){var f=e[b],c=f._target;c==this||f.passive||(f=f._stepPosition,c instanceof createjs.DisplayObject?this._addManagedChild(c,f):this._setState(c.state,f))}e=this.children;for(b=e.length-1;0<=b;b--)d=e[b].id,1==this._managed[d]&&(this.removeChildAt(b),delete this._managed[d])}};b._setState=function(b,a){if(b)for(var c=
b.length-1;0<=c;c--){var d=b[c],f=d.t,d=d.p,h;for(h in d)f[h]=d[h];this._addManagedChild(f,a)}};b._addManagedChild=function(b,c){b._off||(this.addChildAt(b,0),b instanceof a&&(b._synchOffset=c,b.mode==a.INDEPENDENT&&b.autoReset&&!this._managed[b.id]&&b._reset()),this._managed[b.id]=2)};b._getBounds=function(b,a){var c=this.DisplayObject_getBounds();return c||(this._updateTimeline(),this.frameBounds&&(c=this._rectangle.copy(this.frameBounds[this.currentFrame]))),c?this._transformBounds(c,b,a):this.Container__getBounds(b,
a)};createjs.MovieClip=createjs.promote(a,"Container");c.priority=100;c.install=function(){createjs.Tween.installPlugin(c,["startPosition"])};c.init=function(b,a,c){return c};c.step=function(){};c.tween=function(b,c,e,d,f,h){return b.target instanceof a?1==h?f[c]:d[c]:e}})();this.createjs=this.createjs||{};
(function(){function a(){throw"SpriteSheetUtils cannot be instantiated";}var c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.getContext&&(a._workingCanvas=c,a._workingContext=c.getContext("2d"),c.width=c.height=1);a.addFlippedFrames=function(b,c,k,e){if(c||k||e){var d=0;c&&a._flip(b,++d,!0,!1);k&&a._flip(b,++d,!1,!0);e&&a._flip(b,++d,!0,!0)}};a.extractFrame=function(b,c){isNaN(c)&&(c=b.getAnimation(c).frames[0]);var k=b.getFrame(c);if(!k)return null;var e=k.rect,
d=a._workingCanvas;d.width=e.width;d.height=e.height;a._workingContext.drawImage(k.image,e.x,e.y,e.width,e.height,0,0,e.width,e.height);k=document.createElement("img");return k.src=d.toDataURL("image/png"),k};a.mergeAlpha=function(b,a,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(a.width,b.width);c.height=Math.max(a.height,b.height);var e=c.getContext("2d");return e.save(),e.drawImage(b,0,0),e.globalCompositeOperation="destination-in",e.drawImage(a,
0,0),e.restore(),c};a._flip=function(b,c,k,e){for(var d=b._images,f=a._workingCanvas,h=a._workingContext,l=d.length/c,m=0;l>m;m++){var n=d[m];n.__tmp=m;h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,f.width+1,f.height+1);f.width=n.width;f.height=n.height;h.setTransform(k?-1:1,0,0,e?-1:1,k?n.width:0,e?n.height:0);h.drawImage(n,0,0);var p=document.createElement("img");p.src=f.toDataURL("image/png");p.width=n.width;p.height=n.height;d.push(p)}h=b._frames;f=h.length/c;for(m=0;f>m;m++){var n=h[m],q=n.rect.clone(),
p=d[n.image.__tmp+l*c],r={image:p,rect:q,regX:n.regX,regY:n.regY};k&&(q.x=p.width-q.x-q.width,r.regX=q.width-n.regX);e&&(q.y=p.height-q.y-q.height,r.regY=q.height-n.regY);h.push(r)}k="_"+(k?"h":"")+(e?"v":"");e=b._animations;b=b._data;d=e.length/c;for(m=0;d>m;m++){h=e[m];n=b[h];l={name:h+k,speed:n.speed,next:n.next,frames:[]};n.next&&(l.next+=k);h=n.frames;n=0;for(p=h.length;p>n;n++)l.frames.push(h[n]+f*c);b[l.name]=l;e.push(l.name)}};createjs.SpriteSheetUtils=a})();this.createjs=this.createjs||{};
(function(){function a(b){this.EventDispatcher_constructor();this.maxHeight=this.maxWidth=2048;this.spriteSheet=null;this.padding=this.scale=1;this.timeSlice=.3;this.progress=-1;this.framerate=b||0;this._frames=[];this._animations={};this._data=null;this._index=this._nextFrameIndex=0;this._timerID=null;this._scale=1}var c=createjs.extend(a,createjs.EventDispatcher);a.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";a.ERR_RUNNING="a build is already running";c.addFrame=function(b,
c,k,e,d){if(this._data)throw a.ERR_RUNNING;c=c||b.bounds||b.nominalBounds;return!c&&b.getBounds&&(c=b.getBounds()),c?(k=k||1,this._frames.push({source:b,sourceRect:c,scale:k,funct:e,data:d,index:this._frames.length,height:c.height*k})-1):null};c.addAnimation=function(b,c,k,e){if(this._data)throw a.ERR_RUNNING;this._animations[b]={frames:c,next:k,speed:e}};c.addMovieClip=function(b,c,k,e,d,f){if(this._data)throw a.ERR_RUNNING;var h=b.frameBounds,l=c||b.bounds||b.nominalBounds;if(!l&&b.getBounds&&(l=
b.getBounds()),l||h){var m,n;c=this._frames.length;var p=b.timeline.duration;for(m=0;p>m;m++)this.addFrame(b,h&&h[m]?h[m]:l,k,this._setupMovieClipFrame,{i:m,f:e,d:d});m=b.timeline._labels;k=[];for(n in m)k.push({index:m[n],label:n});if(k.length)for(k.sort(function(b,a){return b.index-a.index}),m=0,n=k.length;n>m;m++){e=k[m].label;d=c+k[m].index;for(var h=c+(m==n-1?p:k[m+1].index),l=[],q=d;h>q;q++)l.push(q);f&&!(e=f(e,b,d,h))||this.addAnimation(e,l,!0)}}};c.build=function(){if(this._data)throw a.ERR_RUNNING;
for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};c.buildAsync=function(b){if(this._data)throw a.ERR_RUNNING;this.timeSlice=b;this._startBuild();var c=this;this._timerID=setTimeout(function(){c._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))};c.stopAsync=function(){clearTimeout(this._timerID);this._data=null};c.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};c.toString=function(){return"[SpriteSheetBuilder]"};c._startBuild=function(){var b=
this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var c=[];this._data={images:[],frames:c,framerate:this.framerate,animations:this._animations};var k=this._frames.slice();if(k.sort(function(b,a){return b.height<=a.height?-1:1}),k[k.length-1].height+2*b>this.maxHeight)throw a.ERR_DIMENSIONS;for(var e=0,d=0,f=0;k.length;){var h=this._fillRow(k,e,f,c,b);if(h.w>d&&(d=h.w),e+=h.h,!h.h||!k.length){var l=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");
l.width=this._getSize(d,this.maxWidth);l.height=this._getSize(e,this.maxHeight);this._data.images[f]=l;h.h||(d=e=0,f++)}}};c._setupMovieClipFrame=function(b,a){var c=b.actionsEnabled;b.actionsEnabled=!1;b.gotoAndStop(a.i);b.actionsEnabled=c;a.f&&a.f(b,a.d,a.i)};c._getSize=function(b,a){for(var c=4;Math.pow(2,++c)<b;);return Math.min(a,Math.pow(2,c))};c._fillRow=function(b,c,k,e,d){var f=this.maxWidth,h=this.maxHeight;c+=d;for(var h=h-c,l=d,m=0,n=b.length-1;0<=n;n--){var p=b[n],q=this._scale*p.scale,
r=p.sourceRect,t=p.source,u=Math.floor(q*r.x-d),w=Math.floor(q*r.y-d),v=Math.ceil(q*r.height+2*d),r=Math.ceil(q*r.width+2*d);if(r>f)throw a.ERR_DIMENSIONS;v>h||l+r>f||(p.img=k,p.rect=new createjs.Rectangle(l,c,r,v),m=m||v,b.splice(n,1),e[p.index]=[l,c,r,v,k,Math.round(-u+q*t.regX-d),Math.round(-w+q*t.regY-d)],l+=r)}return{w:l,h:m}};c._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};c._run=function(){for(var b=
50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),a=(new Date).getTime()+b,c=!1;a>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var e=this;this._timerID=setTimeout(function(){e._run()},50-b)}b=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(a=new createjs.Event("progress"),a.progress=b,this.dispatchEvent(a))};c._drawNext=function(){var b=this._frames[this._index],a=b.scale*this._scale,c=b.rect,e=b.sourceRect,d=this._data.images[b.img].getContext("2d");
return b.funct&&b.funct(b.source,b.data),d.save(),d.beginPath(),d.rect(c.x,c.y,c.width,c.height),d.clip(),d.translate(Math.ceil(c.x-e.x*a),Math.ceil(c.y-e.y*a)),d.scale(a,a),b.source.draw(d),d.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=createjs.promote(a,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function a(b){this.DisplayObject_constructor();"string"==typeof b&&(b=document.getElementById(b));this.mouseEnabled=!1;var a=b.style;a.position="absolute";a.transformOrigin=a.WebkitTransformOrigin=a.msTransformOrigin=a.MozTransformOrigin=a.OTransformOrigin="0% 0%";this.htmlElement=b;this._oldProps=null}var c=createjs.extend(a,createjs.DisplayObject);c.isVisible=function(){return null!=this.htmlElement};c.draw=function(){return!0};c.cache=function(){};c.uncache=function(){};c.updateCache=
function(){};c.hitTest=function(){};c.localToGlobal=function(){};c.globalToLocal=function(){};c.localToLocal=function(){};c.clone=function(){throw"DOMElement cannot be cloned.";};c.toString=function(){return"[DOMElement (name="+this.name+")]"};c._tick=function(b){var a=this.getStage();a&&a.on("drawend",this._handleDrawEnd,this,!0);this.DisplayObject__tick(b)};c._handleDrawEnd=function(){var b=this.htmlElement;if(b){var b=b.style,a=this.getConcatenatedDisplayProps(this._props),c=a.matrix,e=a.visible?
"visible":"hidden";if(e!=b.visibility&&(b.visibility=e),a.visible){var d=(e=this._oldProps)&&e.matrix;d&&d.equals(c)||(d="matrix("+(1E4*c.a|0)/1E4+","+(1E4*c.b|0)/1E4+","+(1E4*c.c|0)/1E4+","+(1E4*c.d|0)/1E4+","+(c.tx+.5|0),b.transform=b.WebkitTransform=b.OTransform=b.msTransform=d+","+(c.ty+.5|0)+")",b.MozTransform=d+"px,"+(c.ty+.5|0)+"px)",e||(e=this._oldProps=new createjs.DisplayProps(!0,0/0)),e.matrix.copy(c));e.alpha!=a.alpha&&(b.opacity=""+(1E4*a.alpha|0)/1E4,e.alpha=a.alpha)}}};createjs.DOMElement=
createjs.promote(a,"DisplayObject")})();this.createjs=this.createjs||{};(function(){function a(){}var c=a.prototype;c.getBounds=function(b){return b};c.applyFilter=function(b,a,c,e,d,f,h,l){f=f||b;null==h&&(h=a);null==l&&(l=c);try{var m=b.getImageData(a,c,e,d)}catch(n){return!1}return this._applyFilter(m)?(f.putImageData(m,h,l),!0):!1};c.toString=function(){return"[Filter]"};c.clone=function(){return new a};c._applyFilter=function(){return!0};createjs.Filter=a})();this.createjs=this.createjs||{};
(function(){function a(b,a,c){(isNaN(b)||0>b)&&(b=0);(isNaN(a)||0>a)&&(a=0);(isNaN(c)||1>c)&&(c=1);this.blurX=0|b;this.blurY=0|a;this.quality=0|c}var c=createjs.extend(a,createjs.Filter);a.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,
413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,
307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];a.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,
16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];c.getBounds=function(b){var a=0|this.blurX,c=0|this.blurY;if(0>=
a&&0>=c)return b;var e=Math.pow(this.quality,.2);return(b||new createjs.Rectangle).pad(a*e+1,c*e+1,a*e+1,c*e+1)};c.clone=function(){return new a(this.blurX,this.blurY,this.quality)};c.toString=function(){return"[BlurFilter]"};c._applyFilter=function(b){var c=this.blurX>>1;if(isNaN(c)||0>c)return!1;var k=this.blurY>>1;if(isNaN(k)||0>k||0==c&&0==k)return!1;var e=this.quality;(isNaN(e)||1>e)&&(e=1);e|=0;3<e&&(e=3);1>e&&(e=1);var d=b.data,f=0,h=0,l=0,m=0,n=0,p=0,q=0,r=0,t=0,u=0,w=0,v=0,y=0,x=0,n=0,r=
c+c+1|0,p=k+k+1|0,z=0|b.width;b=0|b.height;for(var G=z-1|0,F=b-1|0,E=c+1|0,D=k+1|0,H={r:0,b:0,g:0,a:0},f=H,l=1;r>l;l++)f=f.n={r:0,b:0,g:0,a:0};f.n=H;for(var I={r:0,b:0,g:0,a:0},h=I,l=1;p>l;l++)h=h.n={r:0,b:0,g:0,a:0};h.n=I;for(var l=null,A=0|a.MUL_TABLE[c],J=0|a.SHG_TABLE[c],K=0|a.MUL_TABLE[k],L=0|a.SHG_TABLE[k];0<e--;){for(var q=p=0,B=A,C=J,h=b;-1<--h;){r=E*(v=d[0|p]);t=E*(y=d[p+1|0]);u=E*(x=d[p+2|0]);w=E*(n=d[p+3|0]);f=H;for(l=E;-1<--l;)f.r=v,f.g=y,f.b=x,f.a=n,f=f.n;for(l=1;E>l;l++)m=p+((l>G?G:
l)<<2)|0,r+=f.r=d[m],t+=f.g=d[m+1],u+=f.b=d[m+2],w+=f.a=d[m+3],f=f.n;l=H;for(f=0;z>f;f++)d[p++]=r*B>>>C,d[p++]=t*B>>>C,d[p++]=u*B>>>C,d[p++]=w*B>>>C,m=q+((m=f+c+1)<G?m:G)<<2,r-=l.r-(l.r=d[m]),t-=l.g-(l.g=d[m+1]),u-=l.b-(l.b=d[m+2]),w-=l.a-(l.a=d[m+3]),l=l.n;q+=z}B=K;C=L;for(f=0;z>f;f++){p=f<<2|0;r=D*(v=d[p])|0;t=D*(y=d[p+1|0])|0;u=D*(x=d[p+2|0])|0;w=D*(n=d[p+3|0])|0;h=I;for(l=0;D>l;l++)h.r=v,h.g=y,h.b=x,h.a=n,h=h.n;n=z;for(l=1;k>=l;l++)p=n+f<<2,r+=h.r=d[p],t+=h.g=d[p+1],u+=h.b=d[p+2],w+=h.a=d[p+3],
h=h.n,F>l&&(n+=z);if(p=f,l=I,0<e)for(h=0;b>h;h++)m=p<<2,d[m+3]=n=w*B>>>C,0<n?(d[m]=r*B>>>C,d[m+1]=t*B>>>C,d[m+2]=u*B>>>C):d[m]=d[m+1]=d[m+2]=0,m=f+((m=h+D)<F?m:F)*z<<2,r-=l.r-(l.r=d[m]),t-=l.g-(l.g=d[m+1]),u-=l.b-(l.b=d[m+2]),w-=l.a-(l.a=d[m+3]),l=l.n,p+=z;else for(h=0;b>h;h++)m=p<<2,d[m+3]=n=w*B>>>C,0<n?(n=255/n,d[m]=(r*B>>>C)*n,d[m+1]=(t*B>>>C)*n,d[m+2]=(u*B>>>C)*n):d[m]=d[m+1]=d[m+2]=0,m=f+((m=h+D)<F?m:F)*z<<2,r-=l.r-(l.r=d[m]),t-=l.g-(l.g=d[m+1]),u-=l.b-(l.b=d[m+2]),w-=l.a-(l.a=d[m+3]),l=l.n,
p+=z}}return!0};createjs.BlurFilter=createjs.promote(a,"Filter")})();this.createjs=this.createjs||{};
(function(){function a(b){this.alphaMap=b;this._mapData=this._alphaMap=null}var c=createjs.extend(a,createjs.Filter);c.clone=function(){var b=new a(this.alphaMap);return b._alphaMap=this._alphaMap,b._mapData=this._mapData,b};c.toString=function(){return"[AlphaMapFilter]"};c._applyFilter=function(b){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;b=b.data;for(var a=this._mapData,c=0,e=b.length;e>c;c+=4)b[c+3]=a[c]||0;return!0};c._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==
this._alphaMap&&this._mapData)return!0;this._mapData=null;var b,a=this._alphaMap=this.alphaMap,c=a;a instanceof HTMLCanvasElement?b=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=a.width,c.height=a.height,b=c.getContext("2d"),b.drawImage(a,0,0));try{var e=b.getImageData(0,0,a.width,a.height)}catch(d){return!1}return this._mapData=e.data,!0};createjs.AlphaMapFilter=createjs.promote(a,"Filter")})();this.createjs=this.createjs||{};
(function(){function a(b){this.mask=b}var c=createjs.extend(a,createjs.Filter);c.applyFilter=function(b,a,c,e,d,f,h,l){return this.mask?(f=f||b,null==h&&(h=a),null==l&&(l=c),f.save(),b!=f?!1:(f.globalCompositeOperation="destination-in",f.drawImage(this.mask,h,l),f.restore(),!0)):!0};c.clone=function(){return new a(this.mask)};c.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=createjs.promote(a,"Filter")})();this.createjs=this.createjs||{};
(function(){function a(b,a,c,e,d,f,h,l){this.redMultiplier=null!=b?b:1;this.greenMultiplier=null!=a?a:1;this.blueMultiplier=null!=c?c:1;this.alphaMultiplier=null!=e?e:1;this.redOffset=d||0;this.greenOffset=f||0;this.blueOffset=h||0;this.alphaOffset=l||0}var c=createjs.extend(a,createjs.Filter);c.toString=function(){return"[ColorFilter]"};c.clone=function(){return new a(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,
this.alphaOffset)};c._applyFilter=function(b){b=b.data;for(var a=b.length,c=0;a>c;c+=4)b[c]=b[c]*this.redMultiplier+this.redOffset,b[c+1]=b[c+1]*this.greenMultiplier+this.greenOffset,b[c+2]=b[c+2]*this.blueMultiplier+this.blueOffset,b[c+3]=b[c+3]*this.alphaMultiplier+this.alphaOffset;return!0};createjs.ColorFilter=createjs.promote(a,"Filter")})();this.createjs=this.createjs||{};
(function(){function a(b,a,c,e){this.setColor(b,a,c,e)}var c=a.prototype;a.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];a.IDENTITY_MATRIX=
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];a.LENGTH=a.IDENTITY_MATRIX.length;c.setColor=function(b,a,c,e){return this.reset().adjustColor(b,a,c,e)};c.reset=function(){return this.copy(a.IDENTITY_MATRIX)};c.adjustColor=function(b,a,c,e){return this.adjustHue(e),this.adjustContrast(a),this.adjustBrightness(b),this.adjustSaturation(c)};c.adjustBrightness=function(b){return 0==b||isNaN(b)?this:(b=this._cleanValue(b,255),this._multiplyMatrix([1,0,0,0,b,0,1,0,0,b,0,0,1,0,b,0,0,0,1,0,0,0,0,0,1]),
this)};c.adjustContrast=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);var c;return 0>b?c=127+b/100*127:(c=b%1,c=0==c?a.DELTA_INDEX[b]:a.DELTA_INDEX[b<<0]*(1-c)+a.DELTA_INDEX[(b<<0)+1]*c,c=127*c+127),this._multiplyMatrix([c/127,0,0,0,.5*(127-c),0,c/127,0,0,.5*(127-c),0,0,c/127,0,.5*(127-c),0,0,0,1,0,0,0,0,0,1]),this};c.adjustSaturation=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);b=1+(0<b?3*b/100:b/100);return this._multiplyMatrix([.3086*(1-b)+b,.6094*(1-
b),.082*(1-b),0,0,.3086*(1-b),.6094*(1-b)+b,.082*(1-b),0,0,.3086*(1-b),.6094*(1-b),.082*(1-b)+b,0,0,0,0,0,1,0,0,0,0,0,1]),this};c.adjustHue=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,180)/180*Math.PI;var a=Math.cos(b);b=Math.sin(b);return this._multiplyMatrix([.213+.787*a+-.213*b,.715+-.715*a+-.715*b,.072+-.072*a+.928*b,0,0,.213+-.213*a+.143*b,.715+a*(1-.715)+.14*b,.072+-.072*a+-.283*b,0,0,.213+-.213*a+-.787*b,.715+-.715*a+.715*b,.072+.928*a+.072*b,0,0,0,0,0,1,0,0,0,0,0,1]),this};
c.concat=function(b){return b=this._fixMatrix(b),b.length!=a.LENGTH?this:(this._multiplyMatrix(b),this)};c.clone=function(){return(new a).copy(this)};c.toArray=function(){for(var b=[],c=0,k=a.LENGTH;k>c;c++)b[c]=this[c];return b};c.copy=function(b){for(var c=a.LENGTH,k=0;c>k;k++)this[k]=b[k];return this};c.toString=function(){return"[ColorMatrix]"};c._multiplyMatrix=function(b){var a,c,e,d=[];for(a=0;5>a;a++){for(c=0;5>c;c++)d[c]=this[c+5*a];for(c=0;5>c;c++){var f=0;for(e=0;5>e;e++)f+=b[c+5*e]*d[e];
this[c+5*a]=f}}};c._cleanValue=function(b,a){return Math.min(a,Math.max(-a,b))};c._fixMatrix=function(b){return b instanceof a&&(b=b.toArray()),b.length<a.LENGTH?b=b.slice(0,b.length).concat(a.IDENTITY_MATRIX.slice(b.length,a.LENGTH)):b.length>a.LENGTH&&(b=b.slice(0,a.LENGTH)),b};createjs.ColorMatrix=a})();this.createjs=this.createjs||{};
(function(){function a(b){this.matrix=b}var c=createjs.extend(a,createjs.Filter);c.toString=function(){return"[ColorMatrixFilter]"};c.clone=function(){return new a(this.matrix)};c._applyFilter=function(b){var a,c,e,d;b=b.data;var f=b.length;a=this.matrix;for(var h=a[0],l=a[1],m=a[2],n=a[3],p=a[4],q=a[5],r=a[6],t=a[7],u=a[8],w=a[9],v=a[10],y=a[11],x=a[12],z=a[13],G=a[14],F=a[15],E=a[16],D=a[17],H=a[18],I=a[19],A=0;f>A;A+=4)a=b[A],c=b[A+1],e=b[A+2],d=b[A+3],b[A]=a*h+c*l+e*m+d*n+p,b[A+1]=a*q+c*r+e*t+
d*u+w,b[A+2]=a*v+c*y+e*x+d*z+G,b[A+3]=a*F+c*E+e*D+d*H+I;return!0};createjs.ColorMatrixFilter=createjs.promote(a,"Filter")})();this.createjs=this.createjs||{};
(function(){function a(){throw"Touch cannot be instantiated";}a.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints)};a.enable=function(c,b,g){return c&&c.canvas&&a.isSupported()?c.__touch?!0:(c.__touch={pointers:{},multitouch:!b,preventDefault:!g,count:0},"ontouchstart"in window?a._IOS_enable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&
a._IE_enable(c),!0):!1};a.disable=function(c){c&&("ontouchstart"in window?a._IOS_disable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&a._IE_disable(c),delete c.__touch)};a._IOS_enable=function(c){var b=c.canvas,g=c.__touch.f=function(b){a._IOS_handleEvent(c,b)};b.addEventListener("touchstart",g,!1);b.addEventListener("touchmove",g,!1);b.addEventListener("touchend",g,!1);b.addEventListener("touchcancel",g,!1)};a._IOS_disable=function(a){var b=a.canvas;b&&(a=a.__touch.f,
b.removeEventListener("touchstart",a,!1),b.removeEventListener("touchmove",a,!1),b.removeEventListener("touchend",a,!1),b.removeEventListener("touchcancel",a,!1))};a._IOS_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();for(var g=b.changedTouches,k=b.type,e=0,d=g.length;d>e;e++){var f=g[e],h=f.identifier;f.target==a.canvas&&("touchstart"==k?this._handleStart(a,h,b,f.pageX,f.pageY):"touchmove"==k?this._handleMove(a,h,b,f.pageX,f.pageY):("touchend"==k||
"touchcancel"==k)&&this._handleEnd(a,h,b))}}};a._IE_enable=function(c){var b=c.canvas,g=c.__touch.f=function(b){a._IE_handleEvent(c,b)};void 0===window.navigator.pointerEnabled?(b.addEventListener("MSPointerDown",g,!1),window.addEventListener("MSPointerMove",g,!1),window.addEventListener("MSPointerUp",g,!1),window.addEventListener("MSPointerCancel",g,!1),c.__touch.preventDefault&&(b.style.msTouchAction="none")):(b.addEventListener("pointerdown",g,!1),window.addEventListener("pointermove",g,!1),window.addEventListener("pointerup",
g,!1),window.addEventListener("pointercancel",g,!1),c.__touch.preventDefault&&(b.style.touchAction="none"));c.__touch.activeIDs={}};a._IE_disable=function(a){var b=a.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",b,!1),window.removeEventListener("MSPointerUp",b,!1),window.removeEventListener("MSPointerCancel",b,!1),a.canvas&&a.canvas.removeEventListener("MSPointerDown",b,!1)):(window.removeEventListener("pointermove",b,!1),window.removeEventListener("pointerup",
b,!1),window.removeEventListener("pointercancel",b,!1),a.canvas&&a.canvas.removeEventListener("pointerdown",b,!1))};a._IE_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();var g=b.type,k=b.pointerId,e=a.__touch.activeIDs;"MSPointerDown"==g||"pointerdown"==g?b.srcElement==a.canvas&&(e[k]=!0,this._handleStart(a,k,b,b.pageX,b.pageY)):e[k]&&("MSPointerMove"==g||"pointermove"==g?this._handleMove(a,k,b,b.pageX,b.pageY):("MSPointerUp"==g||"MSPointerCancel"==g||
"pointerup"==g||"pointercancel"==g)&&(delete e[k],this._handleEnd(a,k,b)))}};a._handleStart=function(a,b,g,k,e){var d=a.__touch;if(d.multitouch||!d.count){var f=d.pointers;f[b]||(f[b]=!0,d.count++,a._handlePointerDown(b,g,k,e))}};a._handleMove=function(a,b,g,k,e){a.__touch.pointers[b]&&a._handlePointerMove(b,g,k,e)};a._handleEnd=function(a,b,g){var k=a.__touch,e=k.pointers;e[b]&&(k.count--,a._handlePointerUp(b,g,!0),delete e[b])};createjs.Touch=a})();this.createjs=this.createjs||{};
(function(){var a=createjs.EaselJS=createjs.EaselJS||{};a.version="0.8.2";a.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(a,c){function b(){this.constructor=a}return b.prototype=c.prototype,a.prototype=new b};this.createjs=this.createjs||{};
createjs.promote=function(a,c){var b=a.prototype,g=Object.getPrototypeOf&&Object.getPrototypeOf(b)||b.__proto__;if(g){b[(c+="_")+"constructor"]=g.constructor;for(var k in g)b.hasOwnProperty(k)&&"function"==typeof g[k]&&(b[c+k]=g[k])}return a};this.createjs=this.createjs||{};
(function(){function a(b,a,c){this.type=b;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!a;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var c=a.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};c.stopPropagation=function(){this.propagationStopped=!0};c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};c.remove=function(){this.removed=!0};c.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};c.set=function(b){for(var a in b)this[a]=b[a];return this};c.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a})();this.createjs=this.createjs||{};
(function(){function a(){this._captureListeners=this._listeners=null}var c=a.prototype;a.initialize=function(b){b.addEventListener=c.addEventListener;b.on=c.on;b.removeEventListener=b.off=c.removeEventListener;b.removeAllEventListeners=c.removeAllEventListeners;b.hasEventListener=c.hasEventListener;b.dispatchEvent=c.dispatchEvent;b._dispatchEvent=c._dispatchEvent;b.willTrigger=c.willTrigger};c.addEventListener=function(b,a,c){var e;e=c?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var d=e[b];return d&&this.removeEventListener(b,a,c),d=e[b],d?d.push(a):e[b]=[a],a};c.on=function(b,a,c,e,d,f){return a.handleEvent&&(c=c||a,a=a.handleEvent),c=c||this,this.addEventListener(b,function(b){a.call(c,b,d);e&&b.remove()},f)};c.removeEventListener=function(b,a,c){if(c=c?this._captureListeners:this._listeners){var e=c[b];if(e)for(var d=0,f=e.length;f>d;d++)if(e[d]==a){1==f?delete c[b]:e.splice(d,1);break}}};c.off=c.removeEventListener;c.removeAllEventListeners=function(b){b?
(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null};c.dispatchEvent=function(b,a,c){if("string"==typeof b){var e=this._listeners;if(!(a||e&&e[b]))return!0;b=new createjs.Event(b,a,c)}else b.target&&b.clone&&(b=b.clone());try{b.target=this}catch(d){}if(b.bubbles&&this.parent){c=this;for(a=[c];c.parent;)a.push(c=c.parent);e=a.length;for(c=e-1;0<=c&&!b.propagationStopped;c--)a[c]._dispatchEvent(b,1+(0==c));
for(c=1;e>c&&!b.propagationStopped;c++)a[c]._dispatchEvent(b,3)}else this._dispatchEvent(b,2);return!b.defaultPrevented};c.hasEventListener=function(b){var a=this._listeners,c=this._captureListeners;return!!(a&&a[b]||c&&c[b])};c.willTrigger=function(b){for(var a=this;a;){if(a.hasEventListener(b))return!0;a=a.parent}return!1};c.toString=function(){return"[EventDispatcher]"};c._dispatchEvent=function(b,a){var c,e=1==a?this._captureListeners:this._listeners;if(b&&e&&(e=e[b.type])&&(c=e.length)){try{b.currentTarget=
this}catch(h){}try{b.eventPhase=a}catch(h){}b.removed=!1;for(var e=e.slice(),d=0;c>d&&!b.immediatePropagationStopped;d++){var f=e[d];f.handleEvent?f.handleEvent(b):f(b);b.removed&&(this.off(b.type,f,1==a),b.removed=!1)}}};createjs.EventDispatcher=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"Ticker cannot be instantiated.";}a.RAF_SYNCHED="synched";a.RAF="raf";a.TIMEOUT="timeout";a.useRAF=!1;a.timingMode=null;a.maxDelta=0;a.paused=!1;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._addEventListener=a.addEventListener;a.addEventListener=function(){return!a._inited&&a.init(),a._addEventListener.apply(a,arguments)};a._inited=!1;a._startTime=0;a._pausedTime=
0;a._ticks=0;a._pausedTicks=0;a._interval=50;a._lastTime=0;a._times=null;a._tickTimes=null;a._timerId=null;a._raf=!0;a.setInterval=function(b){a._interval=b;a._inited&&a._setupTick()};a.getInterval=function(){return a._interval};a.setFPS=function(b){a.setInterval(1E3/b)};a.getFPS=function(){return 1E3/a._interval};try{Object.defineProperties(a,{interval:{get:a.getInterval,set:a.setInterval},framerate:{get:a.getFPS,set:a.setFPS}})}catch(b){console.log(b)}a.init=function(){a._inited||(a._inited=!0,
a._times=[],a._tickTimes=[],a._startTime=a._getTime(),a._times.push(a._lastTime=0),a.interval=a._interval)};a.reset=function(){if(a._raf){var b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;b&&b(a._timerId)}else clearTimeout(a._timerId);a.removeAllEventListeners("tick");a._timerId=a._times=a._tickTimes=null;a._startTime=a._lastTime=a._ticks=0;a._inited=!1};a.getMeasuredTickTime=function(b){var c=
0,k=a._tickTimes;if(!k||1>k.length)return-1;b=Math.min(k.length,b||0|a.getFPS());for(var e=0;b>e;e++)c+=k[e];return c/b};a.getMeasuredFPS=function(b){var c=a._times;return!c||2>c.length?-1:(b=Math.min(c.length-1,b||0|a.getFPS()),1E3/((c[0]-c[b])/b))};a.setPaused=function(b){a.paused=b};a.getPaused=function(){return a.paused};a.getTime=function(b){return a._startTime?a._getTime()-(b?a._pausedTime:0):-1};a.getEventTime=function(b){return a._startTime?(a._lastTime||a._startTime)-(b?a._pausedTime:0):
-1};a.getTicks=function(b){return a._ticks-(b?a._pausedTicks:0)};a._handleSynch=function(){a._timerId=null;a._setupTick();a._getTime()-a._lastTime>=.97*(a._interval-1)&&a._tick()};a._handleRAF=function(){a._timerId=null;a._setupTick();a._tick()};a._handleTimeout=function(){a._timerId=null;a._setupTick();a._tick()};a._setupTick=function(){if(null==a._timerId){var b=a.timingMode||a.useRAF&&a.RAF_SYNCHED;if(b==a.RAF_SYNCHED||b==a.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return a._timerId=c(b==a.RAF?a._handleRAF:a._handleSynch),void(a._raf=!0)}a._raf=!1;a._timerId=setTimeout(a._handleTimeout,a._interval)}};a._tick=function(){var b=a.paused,c=a._getTime(),k=c-a._lastTime;if(a._lastTime=c,a._ticks++,b&&(a._pausedTicks++,a._pausedTime+=k),a.hasEventListener("tick")){var e=new createjs.Event("tick"),d=a.maxDelta;e.delta=d&&k>d?d:k;e.paused=b;e.time=c;e.runTime=c-a._pausedTime;
a.dispatchEvent(e)}for(a._tickTimes.unshift(a._getTime()-c);100<a._tickTimes.length;)a._tickTimes.pop();for(a._times.unshift(c);100<a._times.length;)a._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);a._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-a._startTime};createjs.Ticker=a})();this.createjs=this.createjs||{};
(function(){function a(b,c,k){this.loop=this.ignoreGlobalPause=!1;this.duration=0;this.pluginData=k||{};this.target=b;this.position=null;this._paused=this.passive=!1;this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];this._stepPosition=this._prevPosition=0;this._prevPos=-1;this._target=b;this._registered=this._inited=this._useTicks=!1;c&&(this._useTicks=c.useTicks,this.ignoreGlobalPause=c.ignoreGlobalPause,this.loop=c.loop,c.onChange&&this.addEventListener("change",c.onChange),
c.override&&a.removeTweens(b));c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,a.NONE)}var c=createjs.extend(a,createjs.EventDispatcher);a.NONE=0;a.LOOP=1;a.REVERSE=2;a.IGNORE={};a._tweens=[];a._plugins={};a.get=function(b,c,k,e){return e&&a.removeTweens(b),new a(b,c,k)};a.tick=function(b,c){for(var k=a._tweens.slice(),e=k.length-1;0<=e;e--){var d=k[e];c&&!d.ignoreGlobalPause||d._paused||d.tick(d._useTicks?1:b)}};a.handleEvent=function(b){"tick"==
b.type&&this.tick(b.delta,b.paused)};a.removeTweens=function(b){if(b.tweenjs_count){for(var c=a._tweens,k=c.length-1;0<=k;k--){var e=c[k];e._target==b&&(e._paused=!0,c.splice(k,1))}b.tweenjs_count=0}};a.removeAllTweens=function(){for(var b=a._tweens,c=0,k=b.length;k>c;c++){var e=b[c];e._paused=!0;e.target&&(e.target.tweenjs_count=0)}b.length=0};a.hasActiveTweens=function(b){return b?null!=b.tweenjs_count&&!!b.tweenjs_count:a._tweens&&!!a._tweens.length};a.installPlugin=function(b,c){var k=b.priority;
null==k&&(b.priority=k=0);for(var e=0,d=c.length,f=a._plugins;d>e;e++){var h=c[e];if(f[h]){for(var l=f[h],m=0,n=l.length;n>m&&!(k<l[m].priority);m++);f[h].splice(m,0,b)}else f[h]=[b]}};a._register=function(b,c){var k=b._target,e=a._tweens;if(c&&!b._registered)k&&(k.tweenjs_count=k.tweenjs_count?k.tweenjs_count+1:1),e.push(b),!a._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",a),a._inited=!0);else if(!c&&b._registered)for(k&&k.tweenjs_count--,k=e.length;k--;)if(e[k]==b){e.splice(k,
1);break}b._registered=c};c.wait=function(b,a){if(null==b||0>=b)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:b,p0:c,e:this._linearEase,p1:c,v:a})};c.to=function(b,a,c){return(isNaN(a)||0>a)&&(a=0),this._addStep({d:a||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(b))})};c.call=function(b,a,c){return this._addAction({f:b,p:a?a:[this],o:c?c:this._target})};c.set=function(b,a){return this._addAction({f:this._set,o:this,p:[b,
a?a:this._target]})};c.play=function(b){return b||(b=this),this.call(b.setPaused,[!1],b)};c.pause=function(b){return b||(b=this),this.call(b.setPaused,[!0],b)};c.setPosition=function(b,a){0>b&&(b=0);null==a&&(a=1);var c=b,e=!1;if(c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,e=!0)),c==this._prevPos)return e;var d=this._prevPos;if(this.position=this._prevPos=c,this._prevPosition=b,this._target)if(e)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var f=0,h=this._steps.length;h>
f&&!(this._steps[f].t>c);f++);f=this._steps[f-1];this._updateTargetProps(f,(this._stepPosition=c-f.t)/f.d)}return 0!=a&&0<this._actions.length&&(this._useTicks?this._runActions(c,c):1==a&&d>c?(d!=this.duration&&this._runActions(d,this.duration),this._runActions(0,c,!0)):this._runActions(d,c)),e&&this.setPaused(!0),this.dispatchEvent("change"),e};c.tick=function(b){this._paused||this.setPosition(this._prevPosition+b)};c.setPaused=function(b){return this._paused===!!b?this:(this._paused=!!b,a._register(this,
!b),this)};c.w=c.wait;c.t=c.to;c.c=c.call;c.s=c.set;c.toString=function(){return"[Tween]"};c.clone=function(){throw"Tween can not be cloned.";};c._updateTargetProps=function(b,c){var k,e,d,f;if(b||1!=c){if(this.passive=!!b.v,this.passive)return;b.e&&(c=b.e(c,0,1,1));k=b.p0;e=b.p1}else this.passive=!1,k=e=this._curQueueProps;for(var h in this._initQueueProps){null==(d=k[h])&&(k[h]=d=this._initQueueProps[h]);null==(f=e[h])&&(e[h]=f=d);d=d==f||0==c||1==c||"number"!=typeof d?1==c?f:d:d+(f-d)*c;var l=
!1;if(f=a._plugins[h])for(var m=0,n=f.length;n>m;m++){var p=f[m].tween(this,h,d,k,e,c,!!b&&k==e,!b);p==a.IGNORE?l=!0:d=p}l||(this._target[h]=d)}};c._runActions=function(b,a,c){var e=b,d=a,f=-1,h=this._actions.length,l=1;for(b>a&&(e=a,d=b,f=h,h=l=-1);(f+=l)!=h;){a=this._actions[f];var m=a.t;(m==d||m>e&&d>m||c&&m==b)&&a.f.apply(a.o,a.p)}};c._appendQueueProps=function(b){var c,k,e,d,f,h;for(h in b)if(void 0===this._initQueueProps[h]){if(k=this._target[h],c=a._plugins[h])for(e=0,d=c.length;d>e;e++)k=
c[e].init(this,h,k);this._initQueueProps[h]=this._curQueueProps[h]=void 0===k?null:k}for(h in b){if(k=this._curQueueProps[h],c=a._plugins[h])for(f=f||{},e=0,d=c.length;d>e;e++)c[e].step&&c[e].step(this,h,k,b[h],f);this._curQueueProps[h]=b[h]}return f&&this._appendQueueProps(f),this._curQueueProps};c._cloneProps=function(b){var a={},c;for(c in b)a[c]=b[c];return a};c._addStep=function(b){return 0<b.d&&(this._steps.push(b),b.t=this.duration,this.duration+=b.d),this};c._addAction=function(b){return b.t=
this.duration,this._actions.push(b),this};c._set=function(b,a){for(var c in b)a[c]=b[c]};createjs.Tween=createjs.promote(a,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function a(b,a,c){this.EventDispatcher_constructor();this.ignoreGlobalPause=!1;this.duration=0;this.loop=!1;this.position=null;this._paused=!1;this._tweens=[];this._labelList=this._labels=null;this._prevPosition=0;this._prevPos=-1;this._registered=this._useTicks=!1;c&&(this._useTicks=c.useTicks,this.loop=c.loop,this.ignoreGlobalPause=c.ignoreGlobalPause,c.onChange&&this.addEventListener("change",c.onChange));b&&this.addTween.apply(this,b);this.setLabels(a);c&&c.paused?this._paused=!0:
createjs.Tween._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,createjs.Tween.NONE)}var c=createjs.extend(a,createjs.EventDispatcher);c.addTween=function(b){var a=arguments.length;if(1<a){for(var c=0;a>c;c++)this.addTween(arguments[c]);return arguments[0]}return 0==a?null:(this.removeTween(b),this._tweens.push(b),b.setPaused(!0),b._paused=!1,b._useTicks=this._useTicks,b.duration>this.duration&&(this.duration=b.duration),0<=this._prevPos&&b.setPosition(this._prevPos,createjs.Tween.NONE),
b)};c.removeTween=function(b){var a=arguments.length;if(1<a){for(var c=!0,e=0;a>e;e++)c=c&&this.removeTween(arguments[e]);return c}if(0==a)return!1;a=this._tweens;for(e=a.length;e--;)if(a[e]==b)return a.splice(e,1),b.duration>=this.duration&&this.updateDuration(),!0;return!1};c.addLabel=function(b,a){this._labels[b]=a;var c=this._labelList;if(c){for(var e=0,d=c.length;d>e&&!(a<c[e].position);e++);c.splice(e,0,{label:b,position:a})}};c.setLabels=function(b){this._labels=b?b:{}};c.getLabels=function(){var b=
this._labelList;if(!b){var b=this._labelList=[],a=this._labels,c;for(c in a)b.push({label:c,position:a[c]});b.sort(function(b,a){return b.position-a.position})}return b};c.getCurrentLabel=function(){var b=this.getLabels(),a=this.position,c=b.length;if(c){for(var e=0;c>e&&!(a<b[e].position);e++);return 0==e?null:b[e-1].label}return null};c.gotoAndPlay=function(b){this.setPaused(!1);this._goto(b)};c.gotoAndStop=function(b){this.setPaused(!0);this._goto(b)};c.setPosition=function(b,a){var c=this._calcPosition(b),
e=!this.loop&&b>=this.duration;if(c==this._prevPos)return e;this._prevPosition=b;this.position=this._prevPos=c;for(var d=0,f=this._tweens.length;f>d;d++)if(this._tweens[d].setPosition(c,a),c!=this._prevPos)return!1;return e&&this.setPaused(!0),this.dispatchEvent("change"),e};c.setPaused=function(b){this._paused=!!b;createjs.Tween._register(this,!b)};c.updateDuration=function(){for(var b=this.duration=0,a=this._tweens.length;a>b;b++){var c=this._tweens[b];c.duration>this.duration&&(this.duration=c.duration)}};
c.tick=function(b){this.setPosition(this._prevPosition+b)};c.resolve=function(b){var a=Number(b);return isNaN(a)&&(a=this._labels[b]),a};c.toString=function(){return"[Timeline]"};c.clone=function(){throw"Timeline can not be cloned.";};c._goto=function(b){b=this.resolve(b);null!=b&&this.setPosition(b)};c._calcPosition=function(b){return 0>b?0:b<this.duration?b:this.loop?b%this.duration:this.duration};createjs.Timeline=createjs.promote(a,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function a(){throw"Ease cannot be instantiated.";}a.linear=function(a){return a};a.none=a.linear;a.get=function(a){return-1>a&&(a=-1),1<a&&(a=1),function(b){return 0==a?b:0>a?b*(b*-a+1+a):b*((2-b)*a+(1-a))}};a.getPowIn=function(a){return function(b){return Math.pow(b,a)}};a.getPowOut=function(a){return function(b){return 1-Math.pow(1-b,a)}};a.getPowInOut=function(a){return function(b){return 1>(b*=2)?.5*Math.pow(b,a):1-.5*Math.abs(Math.pow(2-b,a))}};a.quadIn=a.getPowIn(2);a.quadOut=a.getPowOut(2);
a.quadInOut=a.getPowInOut(2);a.cubicIn=a.getPowIn(3);a.cubicOut=a.getPowOut(3);a.cubicInOut=a.getPowInOut(3);a.quartIn=a.getPowIn(4);a.quartOut=a.getPowOut(4);a.quartInOut=a.getPowInOut(4);a.quintIn=a.getPowIn(5);a.quintOut=a.getPowOut(5);a.quintInOut=a.getPowInOut(5);a.sineIn=function(a){return 1-Math.cos(a*Math.PI/2)};a.sineOut=function(a){return Math.sin(a*Math.PI/2)};a.sineInOut=function(a){return-.5*(Math.cos(Math.PI*a)-1)};a.getBackIn=function(a){return function(b){return b*b*((a+1)*b-a)}};
a.backIn=a.getBackIn(1.7);a.getBackOut=function(a){return function(b){return--b*b*((a+1)*b+a)+1}};a.backOut=a.getBackOut(1.7);a.getBackInOut=function(a){return a*=1.525,function(b){return 1>(b*=2)?.5*b*b*((a+1)*b-a):.5*((b-=2)*b*((a+1)*b+a)+2)}};a.backInOut=a.getBackInOut(1.7);a.circIn=function(a){return-(Math.sqrt(1-a*a)-1)};a.circOut=function(a){return Math.sqrt(1- --a*a)};a.circInOut=function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)};a.bounceIn=function(c){return 1-
a.bounceOut(1-c)};a.bounceOut=function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375};a.bounceInOut=function(c){return.5>c?.5*a.bounceIn(2*c):.5*a.bounceOut(2*c-1)+.5};a.getElasticIn=function(a,b){var g=2*Math.PI;return function(k){if(0==k||1==k)return k;var e=b/g*Math.asin(1/a);return-(a*Math.pow(2,10*--k)*Math.sin((k-e)*g/b))}};a.elasticIn=a.getElasticIn(1,.3);a.getElasticOut=function(a,b){var g=2*Math.PI;
return function(k){return 0==k||1==k?k:a*Math.pow(2,-10*k)*Math.sin((k-b/g*Math.asin(1/a))*g/b)+1}};a.elasticOut=a.getElasticOut(1,.3);a.getElasticInOut=function(a,b){var g=2*Math.PI;return function(k){var e=b/g*Math.asin(1/a);return 1>(k*=2)?-.5*a*Math.pow(2,10*--k)*Math.sin((k-e)*g/b):a*Math.pow(2,-10*--k)*Math.sin((k-e)*g/b)*.5+1}};a.elasticInOut=a.getElasticInOut(1,.3*1.5);createjs.Ease=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"MotionGuidePlugin cannot be instantiated.";}a.priority=0;a._rotOffS;a._rotOffE;a._rotNormS;a._rotNormE;a.install=function(){return createjs.Tween.installPlugin(a,["guide","x","y","rotation"]),createjs.Tween.IGNORE};a.init=function(a,b,g){var k=a.target;return k.hasOwnProperty("x")||(k.x=0),k.hasOwnProperty("y")||(k.y=0),k.hasOwnProperty("rotation")||(k.rotation=0),"rotation"==b&&(a.__needsRot=!0),"guide"==b?null:g};a.step=function(c,b,g,k,e){if("rotation"==b&&(c.__rotGlobalS=
g,c.__rotGlobalE=k,a.testRotData(c,e)),"guide"!=b)return k;var d;k.hasOwnProperty("path")||(k.path=[]);b=k.path;if(k.hasOwnProperty("end")||(k.end=1),k.hasOwnProperty("start")||(k.start=g&&g.hasOwnProperty("end")&&g.path===b?g.end:0),k.hasOwnProperty("_segments")&&k._length)return k;g=b.length;if(!(6<=g&&0==(g-2)%4))throw"invalid 'path' data, please see documentation for valid paths";k._segments=[];k._length=0;for(var f=2;g>f;f+=4){for(var h,l,m=b[f-2],n=b[f-1],p=b[f+0],q=b[f+1],r=b[f+2],t=b[f+3],
u=m,w=n,v=0,y=[],x=1;10>=x;x++){l=x/10;var z=1-l;h=z*z*m+2*z*l*p+l*l*r;l=z*z*n+2*z*l*q+l*l*t;v+=y[y.push(Math.sqrt((d=h-u)*d+(d=l-w)*d))-1];u=h;w=l}k._segments.push(v);k._segments.push(y);k._length+=v}d=k.orient;k.orient=!0;b={};return a.calc(k,k.start,b),c.__rotPathS=Number(b.rotation.toFixed(5)),a.calc(k,k.end,b),c.__rotPathE=Number(b.rotation.toFixed(5)),k.orient=!1,a.calc(k,k.end,e),k.orient=d,k.orient?(c.__guideData=k,a.testRotData(c,e),k):k};a.testRotData=function(a,b){if(void 0===a.__rotGlobalS||
void 0===a.__rotGlobalE){if(a.__needsRot)return;a.__rotGlobalS=a.__rotGlobalE=void 0!==a._curQueueProps.rotation?a._curQueueProps.rotation:b.rotation=a.target.rotation||0}if(void 0!==a.__guideData){var g=a.__guideData,k=a.__rotGlobalE-a.__rotGlobalS,e=a.__rotPathE-a.__rotPathS,d=k-e;if("auto"==g.orient)180<d?d-=360:-180>d&&(d+=360);else if("cw"==g.orient){for(;0>d;)d+=360;0==d&&0<k&&180!=k&&(d+=360)}else if("ccw"==g.orient){for(d=k-(180<e?360-e:e);0<d;)d-=360;0==d&&0>k&&-180!=k&&(d-=360)}g.rotDelta=
d;g.rotOffS=a.__rotGlobalS-a.__rotPathS;a.__rotGlobalS=a.__rotGlobalE=a.__guideData=a.__needsRot=void 0}};a.tween=function(c,b,g,k,e,d,f){e=e.guide;if(void 0==e||e===k.guide)return g;if(e.lastRatio!=d){switch(a.calc(e,(e.end-e.start)*(f?e.end:d)+e.start,c.target),e.orient){case "cw":case "ccw":case "auto":c.target.rotation+=e.rotOffS+e.rotDelta*d;break;default:c.target.rotation+=e.rotOffS}e.lastRatio=d}return"rotation"!=b||e.orient&&"false"!=e.orient?c.target[b]:g};a.calc=function(a,b,g){if(void 0==
a._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==g&&(g={x:0,y:0,rotation:0});var k=a._segments,e=a.path,d=a._length*b,f=k.length-2;for(b=0;d>k[b]&&f>b;)d-=k[b],b+=2;for(var k=k[b+1],h=0,f=k.length-1;d>k[h]&&f>h;)d-=k[h],h++;d=h/++f+d/(f*k[h]);b=2*b+2;f=1-d;return g.x=f*f*e[b-2]+2*f*d*e[b+0]+d*d*e[b+2],g.y=f*f*e[b-1]+2*f*d*e[b+1]+d*d*e[b+3],a.orient&&(g.rotation=57.2957795*Math.atan2((e[b+1]-e[b-1])*f+(e[b+3]-e[b+1])*d,(e[b+0]-e[b-2])*f+(e[b+2]-e[b+0])*d)),
g};createjs.MotionGuidePlugin=a})();this.createjs=this.createjs||{};(function(){var a=createjs.TweenJS=createjs.TweenJS||{};a.version="0.6.2";a.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"})();var ServerConnection=function(){};ServerConnection.init=function(a){this._server=a;this._isInitialized=!0};ServerConnection.send=function(a){if(!this._isInitialized)return!1;console.log("To server: "+JSON.stringify(a));return!0};
ServerConnection.receive=function(a){if(!this._isInitialized)return!1;console.log("From server: "+JSON.stringify(a));MessageInterpreter.interpret(a);return!0};var SimpleQuestion=function(a){this._data=a;this._selected=[null];this._submitted=!1};
SimpleQuestion.prototype.draw=function(a,c){switch(this._data.view){case "student":new BackgroundImage(a,this._data.bg);this._timer=new Timer(a,this._data.time,this.submit.bind(this));new DifficultyMeter(a,this._data.difficulty);new Score(a,"Score: "+c.toString());new Title(a,this._data.text);new AnswerButtons(a,this._data.answers,this.selected.bind(this),void 0!=this._data.image);new DisplayImage(a,this._data.image);break;case "projector":new BackgroundImage(a,this._data.bg),this._timer=new Timer(a,
this._data.time,null),new DifficultyMeter(a,this._data.difficulty),new Score(a,this._data.activity),new Title(a,this._data.text),new AnswerButtons(a,this._data.answers,null,void 0!=this._data.image),new DisplayImage(a,this._data.image)}};SimpleQuestion.prototype.selected=function(a){this._selected=a;this.submit()};
SimpleQuestion.prototype.update=function(a){switch(a.component){case "timer":"absolute"===a.type&&this._timer.update(a.value);"relative"===a.type&&this._timer.change(a.value);"pause"===a.type&&this._timer.stop();"resume"===a.type&&this._timer.start();break;default:throw Error();}};
SimpleQuestion.prototype.submit=function(){if(!this._submitted){var a=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.activity+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected[0])+"}");ServerConnection.send(a)&&(this._submitted=!0,StageManager.idle())}};var IdleScreen=function(){};IdleScreen.prototype.draw=function(a){new BackgroundImage(a,"img/idle.jpg");new Title(a,"Waiting for an activity...")};
var MultipleChoiceFocus=function(a){this._data=a;this._currentItem=null;this._selected=[];this._submitted=!1};
MultipleChoiceFocus.prototype.draw=function(a,c){switch(this._data.view){case "student":new BackgroundImage(a,this._data.bg);this._timer=new Timer(a,this._data.time,this.submit.bind(this));new DifficultyMeter(a,this._data.difficulty);new Score(a,"Score: "+c.toString());new Title(a,this._data.text);this._answerCycle=new AnswerCycle(a,this._data.answers,this.currentItem.bind(this));new StopButton(a,"Select !",this.select.bind(this));new ValidateButton(a,this.submit.bind(this));break;case "projector":new BackgroundImage(a,
this._data.bg),this._timer=new Timer(a,this._data.time,null),new DifficultyMeter(a,this._data.difficulty),new Score(a,this._data.activity),new Title(a,this._data.text),new AnswerCycle(a,this._data.answers,null),new StopButton(a,"Select !",null)}};MultipleChoiceFocus.prototype.currentItem=function(a){this._currentItem=a;return-1<this._selected.indexOf(a)?!0:!1};
MultipleChoiceFocus.prototype.select=function(){var a=this._currentItem,c=this._selected.indexOf(a);-1<c?(this._selected.splice(c,1),this._answerCycle.updateColor(!1)):(this._selected.push(a),this._answerCycle.updateColor(!0))};
MultipleChoiceFocus.prototype.update=function(a){switch(a.component){case "timer":"absolute"===a.type&&this._timer.update(a.value);"relative"===a.type&&this._timer.change(a.value);"pause"===a.type&&this._timer.stop();"resume"===a.type&&this._timer.start();break;default:throw Error();}};
MultipleChoiceFocus.prototype.submit=function(){if(!this._submitted){var a=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.activity+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(a)&&(this._submitted=!0,StageManager.idle())}};
var StopButton=function(a,c,b){function g(a){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(-k,-k,2*k,2*k)}var k=Math.min(a.width/6,a.height/5);c=new createjs.Text(c,"bold 45px Dimbo","#d3d3d3");c.textBaseline="middle";c.x=a.width/2;c.y=.75*a.height;c.textAlign="center";var e=new createjs.Shape;e.graphics.beginRadialGradientFill(["#F0261B","#C01E15"],
[0,1],0,0,0,0,0,k).drawCircle(0,0,k);e.x=a.width/2;e.y=.75*a.height;e.shadow=new createjs.Shadow("#000000",5,5,10);e.on("click",function(a){null!=b&&(a.target.filters=[new createjs.ColorFilter(0,0,0,1,144,22,16,0)],a.target.cache(-k,-k,2*k,2*k),setTimeout(function(){a.target.filters=void 0;a.target.uncache()},150),b())});e.on("mouseover",g);e.on("mouseout",g);a.addChild(e);a.addChild(c)},AnswerCycle=function(a,c,b){if(0<c.length){var g=new createjs.Text(c[0],"30px Dimbo","#000");g.x=a.width/2;g.y=
.4*a.height;g.textAlign="center";this._label=g;this._sleepTime=1500;this._callback=b;this._answers=c;this.update(0);a.addChild(g)}};AnswerCycle.prototype.update=function(a){null!=this._callback&&this.updateColor(this._callback(this._answers[a]));this._label.text=this._answers[a];createjs.Tween.get(this._label,{loop:!1}).wait(this._sleepTime).call(function(){this.update(++a%this._answers.length)}.bind(this))};AnswerCycle.prototype.updateColor=function(a){this._label.color=a?"#F0261B":"#000"};
var Timer=function(a,c,b){0<c&&(this._tickTime=1E3,this._screen=a,this._running=!1,this._maxValue=this._time=Math.max(Math.floor(c),1),this._callback=b,this._backgroundCircle=this.drawBackgroundCircle(),this._timeLabel=this.createTimeLabel(),this._progressArc=this.createProgressArc(),this.start(!0))};Timer.prototype.change=function(a){this.update(this._time+a)};
Timer.prototype.update=function(a){var c=this._time;this._time=Math.max(Math.floor(a),0);this._time>this._maxValue&&(this._maxValue=this._time);this.updateTimeLabel();this.updateProgressAnimation();this._running&&this.startProgressAnimation();a=this._time-c;this.changeAnimation(0<=a?"+"+a.toString():a.toString())};Timer.prototype.start=function(a){this._running||(this._running=!0,this.startProgressAnimation(),this.tick(new Date((new Date).getTime()-this._tickTime)),a||this.changeAnimation("started"))};
Timer.prototype.stop=function(){this._running&&(this._running=!1,this.stopProgressAnimation(),this.updateProgressAnimation(),this.changeAnimation("paused"))};
Timer.prototype.tick=function(a){if(0<this._time){var c=this._tickTime-((new Date).getTime()-a.getTime()-this._tickTime);a=new Date;createjs.Tween.get(this._timeLabel,{loop:!1}).wait(c).call(function(){this._running&&(0<this._time&&(this._time--,this.updateTimeLabel()),6>this._time&&this.lowTimeAnimation(),this.tick(a))}.bind(this))}else this._running=!1,null!=this._callback&&this._callback()};
Timer.prototype.createTimeLabel=function(){var a=new createjs.Text(this._time.toString(),"50px Dimbo","#F0261B");a.textBaseline="alphabetic";a.x=this._screen.width-this._screen.width/20;a.y=this._screen.width/14;a.lineWidth=this._screen.width/8;a.textAlign="center";this._screen.addChild(a);return a};Timer.prototype.updateTimeLabel=function(){this._timeLabel.text=this._time.toString()};
Timer.prototype.createProgressArc=function(){var a=new createjs.Shape;a.graphics.setStrokeStyle(this._screen.width/80).beginStroke("#F0261B").arc(this._screen.width,0,this._screen.width/8,Math.PI/2,Math.PI);a.x=a.regX=this._screen.width;a.y=a.regY=0;this._screen.addChild(a);return a};Timer.prototype.startProgressAnimation=function(){createjs.Tween.get(this._progressArc,{loop:!1,override:!0}).to({rotation:-90},1E3*this._time,createjs.Ease.getPowInOut(1))};Timer.prototype.stopProgressAnimation=function(){createjs.Tween.removeTweens(this._progressArc)};
Timer.prototype.updateProgressAnimation=function(){this._progressArc.rotation=-90*(1+-this._time/this._maxValue)};Timer.prototype.drawBackgroundCircle=function(){var a=new createjs.Shape;a.graphics.beginFill("#d3d3d3").drawCircle(0,0,this._screen.width/8);a.x=this._screen.width;a.y=0;a.filters=[new createjs.ColorFilter(1,1,1,1)];this._screen.addChild(a);return a};
Timer.prototype.changeAnimation=function(a){a=new createjs.Text(a,"35px Dimbo","#F0261B");a.textBaseline="alphabetic";a.x=this._screen.width-this._screen.width/15;a.y=this._screen.width/10;a.alpha=0;a.lineWidth=this._screen.width/8;a.textAlign="center";createjs.Tween.get(a,{loop:!1}).to({alpha:1},1E3,createjs.Ease.getPowInOut(1)).to({alpha:0},1E3,createjs.Ease.getPowInOut(1));createjs.Tween.get(a,{loop:!1}).to({y:0},2200,createjs.Ease.getPowInOut(3)).call(function(a,b){a.removeChild(b)},[this._screen,
a]);this._screen.addChild(a)};
Timer.prototype.lowTimeAnimation=function(){this._backgroundCircle.cache(-this._screen.width/8,0,this._screen.width/8,this._screen.width/8,2);this._backgroundCircle.handleEvent=function(){this.updateCache()};createjs.Tween.get(this._backgroundCircle.filters[0],{loop:!1}).call(function(a){createjs.Ticker.addEventListener("tick",a)},[this._backgroundCircle]).to({redMultiplier:1.5,greenMultiplier:.3,blueMultiplier:.3},250).to({redMultiplier:1,greenMultiplier:1,blueMultiplier:1},250).call(function(a){createjs.Ticker.removeEventListener("tick",
a)},[this._backgroundCircle])};
var BackgroundImage=function(a,c){var b=new createjs.Bitmap(c);b.image.onload=function(){b.scaleX=a.width/b.image.width;b.scaleY=a.height/b.image.height};a.addChildAt(b,0)},DisplayImage=function(a,c){if(void 0!=c){var b=new createjs.Bitmap(c);b.image.onload=function(){b.scaleX=b.scaleY=Math.min(.4*a.width/b.image.width,a.height/2/b.image.height);b.x=.75*a.width-b.image.width*b.scaleX/2;b.y=2/3*a.height-b.image.height*b.scaleY/2};b.shadow=new createjs.Shadow("#333333",5,5,10);a.addChild(b)}},AnswerButtons=
function(a,c,b,g,k){function e(a){if(null!=b){null==a.target.clicked?(a.target.filters=[new createjs.ColorFilter(0,0,0,1,255,203,151,0)],a.target.clicked=1):(a.target.filters=a.isTouch?[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]:[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)],a.target.clicked=null);a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h);a=[];for(var c=0;c<t.length;c++)null!=t[c].clicked&&a.push(t[c].label);b(a)}}function d(a){if(null==a.target.clicked){switch(a.type){case "mouseover":a.target.filters=
[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,0,0)]}a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h)}}var f=c.length,h=Math.ceil(f/2),l=a.width/30,m=a.height/50,n=0;if(void 0!=k)for(var p=0;p<k.length;p++)n+=k[p].amount;var p=new createjs.Shape,q=a.width-l,r=a.height/2;g&&(q/=2);p.graphics.beginFill("#d3d3d3").drawRect(0,0,q,r);p.x=l/2;p.y=a.height/2-4*m;p.alpha=.4;a.addChild(p);for(var t=[],
p=0;p<f;p++){var u=c[p],w,v;g?(w=a.width/2-1.5*l,v=a.height/(2*f)-m-m/f,q=l,r=a.height/2-3*m+p*(m+v)):(w=a.width/2-1.5*l,v=a.height/(2*h)-1.5*m,q=l+p%2*(l+w),r=a.height/2-3*m+Math.floor(p/2)*(m+v));var y=new createjs.Text(u);y.lineWidth=w-l/2;y.lineHeight=v/3;y.font="26px Dimbo";var x=y.getMeasuredHeight()/y.lineHeight;y.font=Math.min(Math.floor(v/x),26)+"px Dimbo";x=y.getMeasuredHeight()/y.lineHeight;y.color="#F0261B";y.textAlign="center";y.textBaseline="middle";y.x=q+w/2;y.y=r+v/2-(x-1)*y.lineHeight/
2;x=new createjs.Shape;a.addChild(x);void 0!=k&&k[p].correct?x.graphics.beginFill("#5cb85c"):x.graphics.beginFill("#d3d3d3");x.graphics.drawRect(0,0,w,v);x.x=q;x.y=r;x.label=u;x.shadow=new createjs.Shadow("#333333",5,5,10);x.on("click",e);x.on("mouseover",d);x.on("mouseout",d);t.push(x);void 0!=k&&(u=new createjs.Shape,u.graphics.beginFill("#000").drawRect(0,0,0,v),u.x=q,u.y=r,u.alpha=.5,createjs.Tween.get(u.graphics.command,{loop:!1}).wait(1E3).to({w:w*k[p].amount/n},2E3,createjs.Ease.getPowInOut(2)),
v=new createjs.Text(k[p].amount),v.font="20px Dimbo",v.color="#000",v.x=q+w*k[p].amount/n,v.y=r,v.textAlign="left",v.textBaseline="top",v.alpha=0,createjs.Tween.get(v,{loop:!1}).wait(2700).to({alpha:.8},1E3,createjs.Ease.getPowInOut(2)),a.addChild(u),a.addChild(v));a.addChild(y)}},ValidateButton=function(a,c){function b(a){switch(a.type){case "mouseover":a.target.filters=[new createjs.ColorFilter(1,1,1,1,-25,-25,-25,0)];break;case "mouseout":a.target.filters=[new createjs.ColorFilter(1,1,1,1,0,0,
0,0)]}a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h)}var g=new createjs.Text("Validate","30px Dimbo","#F0261B");g.x=a.width;g.y=a.height;g.textAlign="right";g.textBaseline="alphabetic";var k=new createjs.Shape;k.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,g.getMeasuredWidth()+g.getMeasuredHeight()/2,1.5*g.getMeasuredHeight(),g.getMeasuredHeight(),0,0,0);k.x=a.width-g.getMeasuredWidth()-g.getMeasuredHeight()/2;k.y=a.height-4/3*g.getMeasuredHeight();k.on("click",
function(a){null!=c&&(a.target.filters=[new createjs.ColorFilter(0,0,0,1,255,203,151,0)],a.target.cache(0,0,a.target.graphics.command.w,a.target.graphics.command.h),null!=c&&c())});k.on("mouseover",b);k.on("mouseout",b);a.addChild(k);a.addChild(g)},Score=function(a,c){var b=new createjs.Text(c.toString(),"30px Dimbo","#F0261B");b.x=0;b.y=0;b.textAlign="left";b.textBaseline="top";var g=new createjs.Shape;g.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,b.getMeasuredWidth()+b.getMeasuredHeight()/
2,1.5*b.getMeasuredHeight(),0,0,b.getMeasuredHeight(),0);g.x=0;g.y=0;a.addChild(g);a.addChild(b)},BestPlayer=function(a,c){var b=new createjs.Text(c,"25px Dimbo","#F0261B");b.x=a.width/2;b.y=a.height;b.textAlign="center";b.textBaseline="bottom";a.addChild(b)},InteractiveImage=function(a,c,b){var g=new createjs.Bitmap(c),k=a.width/20;g.image.onload=function(){var b=Math.min(.9*a.width/g.image.width,(a.height/2+k)/g.image.height);g.scaleX=b;g.scaleY=b;g.x=(a.width-g.image.width*g.scaleX)/2;g.y=a.height/
2-2*k};g.shadow=new createjs.Shadow("#333333",5,5,10);g.on("click",function(c){if(null!=b){var d=new createjs.Shape;d.graphics.beginFill("#000000").drawPolyStar(0,0,a.width/80,5,.6,-90);d.x=c.stageX/a.stage.scaleX;d.y=c.stageY/a.stage.scaleY;a.addChild(d);b([Math.round(c.localX),Math.round(c.localY)])}});a.addChild(g)},HighscoreList=function(a,c){for(var b=Math.min(c.length,5),g=a.height/2.5,k=a.width/6,e=a.height/9,d=0;d<b;d++){var f=g+d*e,h=c[d],l=new createjs.Text;l.text=d+1+" .";l.font=45-10*
Math.min(d,2.5)+"px Dimbo";l.color="#F0261B";l.textBaseline="alphabetic";l.x=k;l.y=f;l.lineWidth=a.width/3;l.textAlign="center";l.textBaseline="middle";var m=new createjs.Text;m.text=h.name;m.font=45-10*Math.min(d,2.5)+"px Dimbo";m.color="#F0261B";m.textBaseline="alphabetic";m.x=k+a.width/10;m.y=f;m.lineWidth=a.width/3;m.textBaseline="middle";var n=new createjs.Text;n.text=h.score;n.font=45-10*Math.min(d,2.5)+"px Dimbo";n.color="#F0261B";n.textBaseline="alphabetic";n.x=k+a.width/2;n.y=f;n.lineWidth=
a.width/3;n.textAlign="center";n.textBaseline="middle";var p=new createjs.Text;p.text=0==d?0:-(c[d-1].score-h.score);p.font="italic "+(40-10*Math.min(d,2.5))+"px Dimbo";p.color="#F0261B";p.textBaseline="alphabetic";p.x=k+a.width/1.5;p.y=f;p.lineWidth=a.width/3;p.textAlign="center";p.textBaseline="middle";h=new createjs.Shape;h.graphics.beginFill("#d3d3d3").drawRect(0,0,.9*a.width,e);h.x=.05*a.width;h.y=f-e/2.2;h.shadow=new createjs.Shadow("#333333",5,5,10);switch(d){case 0:h.filters=[new createjs.ColorFilter(1,
1,1,1,75,75,10,0)];break;case 1:h.filters=[new createjs.ColorFilter(1,1,1,1,30,30,10,0)];break;case 2:h.filters=[new createjs.ColorFilter(1,1,1,1,15,15,10,0)]}h.cache(0,0,.9*a.width,e);a.addChild(h);a.addChild(l);a.addChild(m);a.addChild(n);a.addChild(p);if(0==d){var q=new createjs.Bitmap("img/crown.jpg");q.image.onload=function(){q.scaleX=q.scaleY=a.width/25/q.image.width;q.x=.5*k;q.y=g-q.image.height*q.scaleY/2};a.addChild(q)}}},ActivityName=function(a,c){var b=new createjs.Text(c.toString(),"30px Dimbo",
"#F0261B");b.x=0;b.y=0;b.textAlign="left";b.textBaseline="top";var g=new createjs.Shape;g.graphics.beginFill("#d3d3d3").drawRoundRectComplex(0,0,b.getMeasuredWidth()+b.getMeasuredHeight()/2,1.5*b.getMeasuredHeight(),0,0,b.getMeasuredHeight(),0);g.x=0;g.y=0;a.addChild(g);a.addChild(b)},Title=function(a,c){var b=.75*a.width,g=a.height/13,k=1.5*a.height/10,e=(a.width-b)/2,d=g/4,f=new createjs.Text(c,"30px Dimbo","#F0261B");f.x=a.width/2;f.y=k+g/2;f.lineWidth=b-b/15;f.lineHeight=g;f.textAlign="center";
f.textBaseline="middle";var h=f.getMeasuredHeight()/g,l=new createjs.Shape;l.graphics.beginFill("#d3d3d3").drawRoundRect(0,0,b,g*h+2*d,g/2);l.x=e;l.y=k-d;a.addChild(l);a.addChild(f)},DifficultyMeter=function(a,c){c=Math.min(c,5);for(var b=a.height/20,g=a.width/30,k=0;5>k;k++){var e=new createjs.Shape;c>k?e.graphics.beginFill("#F0261B"):e.graphics.beginFill("#333333");e.graphics.drawPolyStar(0,0,a.width/80,5,.6,-90);e.x=a.width/2-(2.5-k)*g+g/2;e.y=b;a.addChild(e)}},QuestionSolution=function(a){this._data=
a};QuestionSolution.prototype.draw=function(a){new BackgroundImage(a,this._data.bg);new DifficultyMeter(a,this._data.difficulty);new Title(a,this._data.text);new AnswerButtons(a,this._data.answers,null,void 0!=this._data.image,this._data.stats);new DisplayImage(a,this._data.image)};var MultipleChoiceQuestion=function(a){this._data=a;this._selected=[];this._submitted=!1};
MultipleChoiceQuestion.prototype.draw=function(a,c){switch(this._data.view){case "student":new BackgroundImage(a,this._data.bg);this._timer=new Timer(a,this._data.time,this.submit.bind(this));new DifficultyMeter(a,this._data.difficulty);new Score(a,"Score: "+c.toString());new Title(a,this._data.text);new AnswerButtons(a,this._data.answers,this.selected.bind(this),void 0!=this._data.image);new ValidateButton(a,this.submit.bind(this));new DisplayImage(a,this._data.image);break;case "projector":new BackgroundImage(a,
this._data.bg),this._timer=new Timer(a,this._data.time,null),new DifficultyMeter(a,this._data.difficulty),new Score(a,this._data.activity),new Title(a,this._data.text),new AnswerButtons(a,this._data.answers,null,void 0!=this._data.image),new DisplayImage(a,this._data.image)}};MultipleChoiceQuestion.prototype.selected=function(a){this._selected=a};
MultipleChoiceQuestion.prototype.update=function(a){switch(a.component){case "timer":"absolute"===a.type&&this._timer.update(a.value);"relative"===a.type&&this._timer.change(a.value);"pause"===a.type&&this._timer.stop();"resume"===a.type&&this._timer.start();break;default:throw Error();}};
MultipleChoiceQuestion.prototype.submit=function(){if(!this._submitted){var a=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.activity+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(a)&&(this._submitted=!0,StageManager.idle())}};var Highscore=function(a){this._data=a};
Highscore.prototype.draw=function(a){new BackgroundImage(a,"img/highscore.jpg");new Title(a,"Highscore");new HighscoreList(a,this._data.ranklist);void 0!=this._data.best&&new BestPlayer(a,"Best score in last round: "+this._data.best.name+" (+"+this._data.best.score+")")};var PointAndClick=function(a){this._data=a;this._selected=[];this._submitted=!1};
PointAndClick.prototype.draw=function(a,c){switch(this._data.view){case "student":new BackgroundImage(a,this._data.bg);this._timer=new Timer(a,this._data.time,this.submit.bind(this));new DifficultyMeter(a,this._data.difficulty);new Score(a,"Score: "+c.toString());new Title(a,this._data.text);new InteractiveImage(a,this._data.imagePath,this.selected.bind(this));break;case "projector":new BackgroundImage(a,this._data.bg),this._timer=new Timer(a,this._data.time,null),new DifficultyMeter(a,this._data.difficulty),
new Score(a,this._data.activity),new Title(a,this._data.text),new InteractiveImage(a,this._data.imagePath,null)}};PointAndClick.prototype.selected=function(a){this._selected=a;this.submit()};PointAndClick.prototype.update=function(a){switch(a.component){case "timer":"absolute"===a.type&&this._timer.update(a.value);"relative"===a.type&&this._timer.change(a.value);"pause"===a.type&&this._timer.stop();"resume"===a.type&&this._timer.start();break;default:throw Error();}};
PointAndClick.prototype.submit=function(){if(!this._submitted){var a=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.activity+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(a)&&(this._submitted=!0,StageManager.idle())}};var SimpleFocus=function(a){this._data=a;this._selected=null;this._submitted=!1};
SimpleFocus.prototype.draw=function(a,c){switch(this._data.view){case "student":new BackgroundImage(a,this._data.bg);this._timer=new Timer(a,this._data.time,this.submit.bind(this));new DifficultyMeter(a,this._data.difficulty);new Score(a,"Score: "+c.toString());new Title(a,this._data.text);new AnswerCycle(a,this._data.answers,this.selected.bind(this));new StopButton(a,"Stop !",this.submit.bind(this));break;case "projector":new BackgroundImage(a,this._data.bg),this._timer=new Timer(a,this._data.time,
null),new DifficultyMeter(a,this._data.difficulty),new Score(a,this._data.activity),new Title(a,this._data.text),new AnswerCycle(a,this._data.answers,null),new StopButton(a,"Stop !",null)}};SimpleFocus.prototype.selected=function(a){this._selected=a};
SimpleFocus.prototype.update=function(a){switch(a.component){case "timer":"absolute"===a.type&&this._timer.update(a.value);"relative"===a.type&&this._timer.change(a.value);"pause"===a.type&&this._timer.stop();"resume"===a.type&&this._timer.start();break;default:throw Error();}};
SimpleFocus.prototype.submit=function(){if(!this._submitted){var a=JSON.parse('{"cmd" : "submit","activity" : "'+this._data.activity+'","id" : '+this._data.id+',"selected" : '+JSON.stringify(this._selected)+"}");ServerConnection.send(a)&&(this._submitted=!0,StageManager.idle())}};